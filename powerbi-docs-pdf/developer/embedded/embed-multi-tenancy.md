---
title: จัดการหลายผู้เช่าด้วยการวิเคราะห์แบบฝังตัวของ Power BI เพื่อให้ได้ข้อมูลเชิงลึก BI แบบฝังตัวที่ดีขึ้น
description: ออกแบบแอปพลิเคชันแบบหลายผู้เช่าด้วยการวิเคราะห์แบบฝังตัว Power BI ของคุณเพื่อให้ได้ข้อมูลเชิงลึก BI แบบฝังที่ดีขึ้นสําหรับลูกค้าของคุณ
author: KesemSharabi
ms.author: kesharab
ms.reviewer: nishalit
ms.service: powerbi
ms.subservice: powerbi-developer
ms.topic: conceptual
ms.date: 01/11/2019
ms.openlocfilehash: 39256b3b57a43804478371606ca7336c484c7813
ms.sourcegitcommit: eeaf607e7c1d89ef7312421731e1729ddce5a5cc
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/05/2021
ms.locfileid: "97884844"
---
# <a name="manage-multi-tenancy-with-power-bi-embedded-analytics"></a><span data-ttu-id="66049-103">จัดการการเช่าหลายรายการด้วยการวิเคราะห์ของ Power BI Embedded</span><span class="sxs-lookup"><span data-stu-id="66049-103">Manage multi-tenancy with Power BI embedded analytics</span></span>

<span data-ttu-id="66049-104">เมื่อออกแบบแอปพลิเคชัน SaaS แบบหลายผู้เช่า คุณต้องเลือกแบบจำลองการเช่าอย่างระมัดระวังให้เหมาะสมกับความต้องการแอปพลิเคชัน SaaS ของคุณที่สุด</span><span class="sxs-lookup"><span data-stu-id="66049-104">When designing a multi-tenant SaaS application, you must carefully choose the tenancy model that best fits the needs of your SaaS application.</span></span> <span data-ttu-id="66049-105">กระบวนการนี้ยังใช้ได้กับ Power BI ในฐานะส่วนการวิเคราะห์แบบฝังตัวของแอปพลิเคชัน SaaS ของคุณ</span><span class="sxs-lookup"><span data-stu-id="66049-105">This process is also valid for Power BI as an embedded analytics part of your SaaS application.</span></span> <span data-ttu-id="66049-106">แบบจำลองการเช่าจะกำหนดวิธีการแมปและการจัดการข้อมูลของผู้เช่าแต่ละรายภายใน Power BI และบัญชีการจัดเก็บ</span><span class="sxs-lookup"><span data-stu-id="66049-106">A tenancy model determines how each tenant's data is mapped and managed within Power BI and the storage account.</span></span> <span data-ttu-id="66049-107">แบบจำลองการเช่าของคุณจะมีผลต่อการออกแบบและการจัดการแอปพลิเคชัน</span><span class="sxs-lookup"><span data-stu-id="66049-107">Your tenancy model impacts application design and management.</span></span> <span data-ttu-id="66049-108">สลับไปยังแบบจำลองอื่นในภายหลังอาจมีค่าใช้จ่ายสูงและเกิดความเสียหายได้</span><span class="sxs-lookup"><span data-stu-id="66049-108">Switching to a different model later may become costly and disruptive.</span></span>

<span data-ttu-id="66049-109">ด้วย Power BI Embedded มีแนวทางพื้นฐานหลักสองทางเพื่อรักษาการแยกระหว่างผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-109">With Power BI Embedded, there are two main fundamental approaches to maintaining separation between tenants.</span></span>

   1. <span data-ttu-id="66049-110">**การแยกตามพื้นที่ทำงาน** - สร้างพื้นที่ทำงาน Power BI แยกต่างหากต่อผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-110">**Workspace-based isolation** - creating a separate Power BI Workspace per tenant.</span></span>
   2. <span data-ttu-id="66049-111">**การแยกตามการรักษาความปลอดภัยระดับแถว** - เมื่อใช้ข้อมูลเบื้องต้นเพื่อควบคุมและจัดการการเข้าถึงข้อมูลต่อผู้ใช้หรือกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="66049-111">**Row-level security-based isolation** - where the underlying data is used to control and manage access to data per user or group.</span></span>

<span data-ttu-id="66049-112">บทความนี้อธิบายแนวทางที่แตกต่างกันและวิเคราะห์ตามเกณฑ์การประเมินหลายประการ</span><span class="sxs-lookup"><span data-stu-id="66049-112">This article describes the different approaches and analyzes them according to several evaluation criteria.</span></span>

## <a name="concepts-and-terminology"></a><span data-ttu-id="66049-113">แนวคิดและศัพท์เฉพาะ</span><span class="sxs-lookup"><span data-stu-id="66049-113">Concepts and terminology</span></span>

<span data-ttu-id="66049-114">**[AAD](/azure/active-directory/fundamentals/active-directory-whatis)** - Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="66049-114">**[AAD](/azure/active-directory/fundamentals/active-directory-whatis)** - Azure Active Directory.</span></span>

<span data-ttu-id="66049-115">**แอปพลิเคชัน AAD** - ข้อมูลประจำตัวของแอปพลิเคชันใน AAD</span><span class="sxs-lookup"><span data-stu-id="66049-115">**AAD application** - An application identity in AAD.</span></span> <span data-ttu-id="66049-116">แอปพลิเคชัน AAD จำเป็นต้องมีการรับรองความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="66049-116">An AAD application is required for authentication.</span></span>

<span data-ttu-id="66049-117">**แอปพลิเคชัน SaaS (การให้บริการซอฟต์แวร์)** - องค์กรหรือ ISV เป็นผู้นำระบบมาใช้ โดยปกติแล้วจะเป็นบริการออนไลน์</span><span class="sxs-lookup"><span data-stu-id="66049-117">**SaaS application (software-as-a-service)** - A system implemented by an enterprise or ISV that is usually an online service.</span></span> <span data-ttu-id="66049-118">นอกจากนี้ยังเกี่ยวข้องกับระบบซอฟต์แวร์สำหรับการให้บริการผู้เช่าลูกค้าหลายราย (องค์กร)</span><span class="sxs-lookup"><span data-stu-id="66049-118">Its also related software systems for serving multiple customer tenants (organizations).</span></span> <span data-ttu-id="66049-119">สำหรับบทความนี้ **แอปพลิเคชัน SaaS ใช้ Power BI Embedded เพื่อวิเคราะห์ผู้เช่าที่แตกต่างกัน**</span><span class="sxs-lookup"><span data-stu-id="66049-119">For this article, **the SaaS application uses Power BI Embedded to serve analytics to its different tenants**.</span></span> <span data-ttu-id="66049-120">Power BI Embedded ยังสามารถทำงานให้กับแอปพลิเคชันทุกประเภท เมื่อแอปพลิเคชันเหล่านั้นมีการเชื่อมต่อออนไลน์</span><span class="sxs-lookup"><span data-stu-id="66049-120">Power BI Embedded can also work for all types of applications when they have an online connection.</span></span>

<span data-ttu-id="66049-121">**ผู้เช่า** - ลูกค้ารายเดียว (องค์กร) ที่ใช้แอปพลิเคชัน SaaS และทรัพยากรหรือแหล่งข้อมูลใด ๆ ที่ลูกค้านำมาใช้กับแอปพลิเคชัน SaaS</span><span class="sxs-lookup"><span data-stu-id="66049-121">**Tenant** – A single customer (organization) that uses the SaaS application and any resources or data that the customer brings to the SaaS application.</span></span>

<span data-ttu-id="66049-122">**[Power BI](../../fundamentals/power-bi-overview.md)** - บริการ Cloud ของ Power BI ที่ให้บริการเป็นแพลตฟอร์มสำหรับ Power BI Embedded</span><span class="sxs-lookup"><span data-stu-id="66049-122">**[Power BI](../../fundamentals/power-bi-overview.md)** - The Power BI cloud service that serves as a platform for Power BI Embedded.</span></span>

<span data-ttu-id="66049-123">**ผู้เช่า power BI** - คือชุดทรัพยากร Power BI ที่เกี่ยวข้องกับผู้เช่า AAD รายเดียว</span><span class="sxs-lookup"><span data-stu-id="66049-123">**Power BI tenant** - Is a set of Power BI resources associated with a single AAD tenant.</span></span>

<span data-ttu-id="66049-124">**[พื้นที่ทำงานของ Power BI](../../collaborate-share/service-create-workspaces.md)** - คอนเทนเนอร์สำหรับเนื้อหาใน Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-124">**[Power BI workspace](../../collaborate-share/service-create-workspaces.md)** - A container for content in Power BI.</span></span>

<span data-ttu-id="66049-125">**วัตถุของ Power BI** - มีวัตถุของ Power BI หลายชิ้นในพื้นที่ทำงานของ Power BI เช่น แดชบอร์ด รายงาน ชุดข้อมูล และกระแสข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-125">**Power BI artifacts** – There are several Power BI artifacts in Power BI workspaces such as dashboards, reports, datasets, and dataflows.</span></span>

<span data-ttu-id="66049-126">**[Power BI Embedded](azure-pbie-what-is-power-bi-embedded.md)** - ชุดของ API สาธารณะที่อนุญาตให้นักพัฒนาสร้างแอปพลิเคชันที่จัดการเนื้อหา Power BI และองค์ประกอบ Power BI ที่ฝังไว้</span><span class="sxs-lookup"><span data-stu-id="66049-126">**[Power BI Embedded](azure-pbie-what-is-power-bi-embedded.md)** - A set of public APIs that allow developers to build applications that manage Power BI content and embed Power BI elements.</span></span>

<span data-ttu-id="66049-127">**[การรักษาความปลอดภัยระดับแถว (RLS)](embedded-row-level-security.md)** - ช่วยให้สามารถควบคุมผู้ใช้เข้าถึงข้อมูลสำหรับแต่ละแถวในตาราง</span><span class="sxs-lookup"><span data-stu-id="66049-127">**[Row-level security (RLS)](embedded-row-level-security.md)** - Gives the ability to control user access to the data for individual rows in a table.</span></span> <span data-ttu-id="66049-128">คุณสามารถใช้การรักษาความปลอดภัยระดับแถวที่ระดับแหล่งข้อมูลหรือในแบบจำลองเชิงความหมายของ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-128">You can implement row-level security at the data source level or in the Power BI semantic model.</span></span>

<span data-ttu-id="66049-129">**ผู้ใช้หลัก** - ข้อมูลประจำตัวที่แสดงถึงแอปพลิเคชัน SaaS ใน Power BI และแอปพลิเคชัน SaaS ดังกล่าวจะใช้เมื่อเรียกใช้ API ของ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-129">**Master user** - The identity that represents the SaaS application in Power BI and that the SaaS application uses when calling Power BI APIs.</span></span> <span data-ttu-id="66049-130">ต้องเป็นผู้ใช้ AAD พร้อมสิทธิ์การใช้งาน Power BI Pro</span><span class="sxs-lookup"><span data-stu-id="66049-130">Needs to be an AAD user with a Power BI Pro license.</span></span>

<span data-ttu-id="66049-131">**ผู้ใช้แอปพลิเคชัน AAD (บริการหลัก)** - ข้อมูลประจำตัวที่แสดงถึงแอปพลิเคชัน SaaS ใน Power BI และแอปพลิเคชัน SaaS ดังกล่าวจะใช้เมื่อเรียกใช้ API ของ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-131">**AAD Application user (service principal)** - The identity that represents the SaaS application in Power BI and that the SaaS application uses when calling Power BI APIs.</span></span> <span data-ttu-id="66049-132">ต้องเป็นแอปพลิเคชันบนเว็บ AAD</span><span class="sxs-lookup"><span data-stu-id="66049-132">Needs to be an AAD web application.</span></span> <span data-ttu-id="66049-133">สามารถใช้แทนผู้ใช้ *หลัก* เพื่อรับรองความถูกต้องกับ Power BI ได้</span><span class="sxs-lookup"><span data-stu-id="66049-133">Can replace the use of a *master* user to authenticate with Power BI.</span></span>

<span data-ttu-id="66049-134">**กำลังการผลิต** - ชุดของทรัพยากรที่ใช้ไปกับการให้บริการ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-134">**Capacity** - A set of resources dedicated to running the Power BI service.</span></span> <span data-ttu-id="66049-135">[กำลังการผลิตแบบพรีเมียมของ Power BI](../../admin/service-premium-what-is.md) มีไว้สำหรับ บริษัทองค์กรที่ใช้ Power BI แบบภายใน ส่วน[ความจุ Power BI Embedded](azure-pbie-create-capacity.md) มีไว้สำหรับนักพัฒนาแอปพลิเคชันเพื่อพัฒนาแอปพลิเคชัน SaaS ให้กับบุคคลที่สาม</span><span class="sxs-lookup"><span data-stu-id="66049-135">[Power BI Premium capacities](../../admin/service-premium-what-is.md) Intended for enterprise companies using Power BI internally, while [Power BI Embedded capacities](azure-pbie-create-capacity.md) intend for application developers to develop SaaS applications for third parties.</span></span>

<span data-ttu-id="66049-136">**[สิทธิ์การใช้งาน Power BI Pro](../../admin/service-admin-purchasing-power-bi-pro.md)** - สิทธิ์การใช้งานตามผู้ใช้ ซึ่งจะมีสิทธิ์ในการเผยแพร่เนื้อหาไปยังพื้นที่ทำงาน ใช้แอปโดยไม่ต้องมีความจุแบบพรีเมียม แชร์แดชบอร์ด และสมัครใช้งานแดชบอร์ดและรายงานได้</span><span class="sxs-lookup"><span data-stu-id="66049-136">**[Power BI Pro license](../../admin/service-admin-purchasing-power-bi-pro.md)** - A user-based license, which grants rights to publish content to workspaces, consume apps without Premium capacity, share dashboards, and subscribe to dashboards and reports.</span></span>

<span data-ttu-id="66049-137">**[โหมดการเชื่อมต่อข้อมูล](../../connect-data/desktop-directquery-about.md)** - เชื่อมต่อแหล่งข้อมูลไปยัง Power BI ที่สามารถทำได้ในโหมดที่แตกต่างกัน:</span><span class="sxs-lookup"><span data-stu-id="66049-137">**[Data connectivity modes](../../connect-data/desktop-directquery-about.md)** - Connecting data sources to Power BI that can be done in different modes:</span></span>

   * <span data-ttu-id="66049-138">นำเข้า - ซึ่งเป็นวิธีที่พบมากที่สุดในการรับข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-138">Import - which is the most common way to get data.</span></span>
   * <span data-ttu-id="66049-139">DirectQuery - เชื่อมต่อโดยตรงไปยังข้อมูลในที่เก็บแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-139">DirectQuery - connect directly to the data in its source repository.</span></span>
   * <span data-ttu-id="66049-140">การเชื่อมต่อสด - โหมดอื่นที่เชื่อมต่อโดยตรงกับข้อมูล Analysis Services (ทั้ง Azure และภายในองค์กร)</span><span class="sxs-lookup"><span data-stu-id="66049-140">Live connection - another mode that connects directly to Analysis Services data (both Azure and on-premises).</span></span>

## <a name="evaluation-criteria"></a><span data-ttu-id="66049-141">เกณฑ์การประเมิน</span><span class="sxs-lookup"><span data-stu-id="66049-141">Evaluation criteria</span></span>

<span data-ttu-id="66049-142">ตัวเลือกที่เหมาะสมสำหรับแบบจำลองการเช่าที่ถูกต้องสำหรับแอปพลิเคชัน SaaS ของคุณจะแตกต่างกันตามธุรกิจเฉพาะ และข้อกำหนดด้านเทคนิค ข้อมูลสถาปัตยกรรม และอื่น ๆ</span><span class="sxs-lookup"><span data-stu-id="66049-142">The optimal choice for the right tenancy model for your SaaS application varies according to specific business and technical requirements, data architecture and more.</span></span> <span data-ttu-id="66049-143">การทำความเข้าใจอย่างลึกซึ้งถึงข้อกำหนดเหล่านี้พร้อมกับตัวเลือกแบบจำลองการเช่าและการแลกเปลี่ยนที่มีอยู่ สามารถช่วยกำหนดสถาปัตยกรรมที่มีเสถียรภาพ ประสิทธิภาพ คุ้มค่า และปรับขนาดได้สำหรับแอปพลิเคชัน SaaS ของคุณ</span><span class="sxs-lookup"><span data-stu-id="66049-143">Deep understanding of these requirements along with available tenancy model options and trade-offs can help define robust, performant, cost-effective, and scalable architecture for your SaaS application.</span></span>

<span data-ttu-id="66049-144">ต่อไปนี้คือชุดของพื้นที่ที่ต้องพิจารณาเมื่อเลือกระหว่างแบบจำลองการเช่าที่แตกต่างกัน</span><span class="sxs-lookup"><span data-stu-id="66049-144">The following are a set of areas to consider when choosing between the different tenancy models.</span></span>

### <a name="data-architecture"></a><span data-ttu-id="66049-145">สถาปัตยกรรมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-145">Data architecture</span></span>

<span data-ttu-id="66049-146">โดยปกติแล้ว นักพัฒนาที่สร้างแอปพลิเคชันด้วย Power BI Embedded จะมีฐานข้อมูลผู้เช่ารายเดียวหรือหลายผู้เช่าอยู่แล้ว</span><span class="sxs-lookup"><span data-stu-id="66049-146">Usually, developers building applications with Power BI Embedded already have a single or multi-tenant database.</span></span> <span data-ttu-id="66049-147">จะเป็นการสะดวกกว่าหากใช้แบบจำลองการเช่าสำหรับ Power BI Embedded ซึ่งจะคล้ายกับแบบจำลองการเช่าของฐานข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-147">It's easier to use a tenancy model for Power BI Embedded which is similar to the tenancy model of the database.</span></span> <span data-ttu-id="66049-148">หากยังไม่ได้กำหนดแบบจำลองการเช่าฐานข้อมูล คุณอาจต้องพิจารณามุมมองอื่น ๆ ก่อนตัดสินใจเลือกสถาปัตยกรรมข้อมูลของคุณ</span><span class="sxs-lookup"><span data-stu-id="66049-148">If the database tenancy model hasn't been defined yet, you may want to consider other aspects before deciding on your data architecture.</span></span>

### <a name="data-isolation"></a><span data-ttu-id="66049-149">การแยกข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-149">Data Isolation</span></span>

<span data-ttu-id="66049-150">ข้อมูลที่จัดเก็บมีความละเอียดอ่อนมากน้อยเพียงใด</span><span class="sxs-lookup"><span data-stu-id="66049-150">How sensitive is the data being stored?</span></span> <span data-ttu-id="66049-151">กรุณาระบุระดับการแยกที่คุณจำเป็นต้องแยกผู้เช่าลูกค้าที่แตกต่างกัน</span><span class="sxs-lookup"><span data-stu-id="66049-151">What level of isolation do you need separating different customer tenants?</span></span> <span data-ttu-id="66049-152">คำตอบอาจแตกต่างกันไปตามอุตสาหกรรมต่าง ๆ หรือลูกค้าเฉพาะที่มีความต้องการบางอย่าง</span><span class="sxs-lookup"><span data-stu-id="66049-152">The answer might vary across different industries or specific customers that have certain requirements.</span></span>

### <a name="scalability"></a><span data-ttu-id="66049-153">ความสามารถในการขยาย</span><span class="sxs-lookup"><span data-stu-id="66049-153">Scalability</span></span>

<span data-ttu-id="66049-154">ในการค้นหาโซลูชันที่ดีที่สุด กำหนดมาตราส่วนที่คุณเข้าถึงในอนาคตที่คาดการณ์ได้</span><span class="sxs-lookup"><span data-stu-id="66049-154">To find the best solution, define the scale you reach in the foreseeable future.</span></span> <span data-ttu-id="66049-155">โปรดทราบว่าโซลูชันที่อาจเหมาะสมขณะนี้อาจไม่เพียงพอเมื่อมีการใช้งานและข้อมูลเพิ่มขึ้น</span><span class="sxs-lookup"><span data-stu-id="66049-155">Remember that a solution that might be suitable now might not suffice when usage and data scale up.</span></span> <span data-ttu-id="66049-156">เมื่อวิเคราะห์ความสามารถในการขยาย กรุณาพิจารณารายการต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="66049-156">When analyzing scalability, consider the following list:</span></span>

   * <span data-ttu-id="66049-157">จำนวนผู้เช่า (ลูกค้า)</span><span class="sxs-lookup"><span data-stu-id="66049-157">Number of tenants (customers).</span></span>
   * <span data-ttu-id="66049-158">จำนวนรายงาน แดชบอร์ด และชุดข้อมูลสำหรับผู้เช่าแต่ละราย</span><span class="sxs-lookup"><span data-stu-id="66049-158">Number of reports, dashboards, and datasets for each tenant.</span></span>
   * <span data-ttu-id="66049-159">ขนาดของข้อมูลในแต่ละชุดข้อมูลและความถี่ของการรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="66049-159">Size of data on each dataset and frequency of refreshes.</span></span>
   * <span data-ttu-id="66049-160">จำนวนผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="66049-160">Number of users.</span></span>
   * <span data-ttu-id="66049-161">จำนวนผู้ใช้พร้อมกันในเวลาสูงสุด</span><span class="sxs-lookup"><span data-stu-id="66049-161">Number of concurrent users in peak times.</span></span>

<span data-ttu-id="66049-162">แอปพลิเคชัน SaaS บางส่วนอาจมีจำนวนลูกค้าต่ำและการใช้งานต่ำ แต่มีปริมาณข้อมูลจำนวนมาก</span><span class="sxs-lookup"><span data-stu-id="66049-162">Some SaaS applications might have a low number of customers and low usage, but large amounts of data.</span></span> <span data-ttu-id="66049-163">แอปพลิเคชันอื่น ๆ อาจมีลูกค้าจำนวนมากและการใช้งานสูง แต่มีปริมาณข้อมูลและรายงานจำนวนน้อยสำหรับลูกค้าแต่ละราย</span><span class="sxs-lookup"><span data-stu-id="66049-163">Others might have many customers and high usage, but a small amount of data and reports for each customer.</span></span> <span data-ttu-id="66049-164">จำนวนที่สูงในสถานการณ์เหล่านี้อาจส่งผลต่อต้นทุนในอนาคตและความซับซ้อนในการดำเนินงาน</span><span class="sxs-lookup"><span data-stu-id="66049-164">High numbers in any of these situations can impact future costs and operational complexity.</span></span>

### <a name="automation--operational-complexity"></a><span data-ttu-id="66049-165">ระบบอัตโนมัติและความซับซ้อนในการดำเนินงาน</span><span class="sxs-lookup"><span data-stu-id="66049-165">Automation & operational complexity</span></span>

<span data-ttu-id="66049-166">ระบุกระบวนการที่เกิดขึ้นบ่อยซึ่งจำเป็นต้องใช้ระบบอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="66049-166">Identify frequently occurring processes that need automation.</span></span>

   * <span data-ttu-id="66049-167">กรุณาระบุความถี่ของการเตรียมความพร้อมกับผู้เช่าใหม่</span><span class="sxs-lookup"><span data-stu-id="66049-167">What is the frequency of onboarding new tenants?</span></span> <span data-ttu-id="66049-168">การดำเนินการที่จำเป็นในการเตรียมความพร้อมทั้งหมดกับผู้เช่าแต่ละรายคืออะไร</span><span class="sxs-lookup"><span data-stu-id="66049-168">What actions are needed to fully onboard each one?</span></span>
   * <span data-ttu-id="66049-169">กรุณาระบุช่วงเวลาการนำออกใช้สำหรับเนื้อหา Power BI ใหม่หรือที่อัปเดตแล้ว ซึ่งจำเป็นต้องมีการปรับใช้</span><span class="sxs-lookup"><span data-stu-id="66049-169">What is the release cadence for new or updated Power BI content, that needs to be deployed?</span></span>
   * <span data-ttu-id="66049-170">มีการกำหนดการรักษาความปลอดภัยระดับแถวกี่บทบาทสำหรับผู้เช่าแต่ละราย</span><span class="sxs-lookup"><span data-stu-id="66049-170">How many row-level security roles are defined for each tenant?</span></span>  

<span data-ttu-id="66049-171">การระบุกระบวนการเหล่านี้และวิธีการที่คุณจัดการปัญหา สามารถช่วยให้คุณเข้าใจความซับซ้อนในการดำเนินงานที่เกี่ยวข้องในการบำรุงรักษาแบบจำลองแต่ละรุ่น</span><span class="sxs-lookup"><span data-stu-id="66049-171">Identifying these processes and how you address them can help you understand the operational complexity involved in maintaining each model.</span></span>

### <a name="data-residency-requirements-and-the-need-to-support-multiple-geographies"></a><span data-ttu-id="66049-172">ความต้องการที่อยู่ข้อมูลและความต้องการในการสนับสนุนภูมิศาสตร์หลายแห่ง</span><span class="sxs-lookup"><span data-stu-id="66049-172">Data Residency Requirements and the need to support multiple geographies</span></span>

<span data-ttu-id="66049-173">Power BI Embedded สนับสนุนการปรับใช้แบบ multi-geo (คุณลักษณะตัวอย่าง)</span><span class="sxs-lookup"><span data-stu-id="66049-173">Power BI Embedded supports multi-geo deployment (preview feature).</span></span> <span data-ttu-id="66049-174">[Multi-Geo](embedded-multi-geo.md) ช่วยให้ทรัพยากรของ Power BI Embedded นำมาปรับใช้ในภูมิภาคต่าง ๆ ด้วยเนื้อหาเฉพาะที่กำหนดให้อยู่ในภูมิภาคที่เฉพาะเจาะจง</span><span class="sxs-lookup"><span data-stu-id="66049-174">[Multi-Geo](embedded-multi-geo.md) enables Power BI Embedded resources to be deployed in different regions with specific content assigned to reside in specific regions.</span></span> <span data-ttu-id="66049-175">คุณลักษณะนี้สามารถใช้ได้กับแบบจำลองทั้งหมด แต่อาจส่งผลต่อปริมาณของเนื้อหาในการจัดการและคำนวณต้นทุน</span><span class="sxs-lookup"><span data-stu-id="66049-175">This feature can be used across all models, but can have an impact on the amount of content to manage and cost.</span></span> <span data-ttu-id="66049-176">ปัจจุบัน multi-geo ได้รับการออกแบบมาเพื่อตอบสนองความต้องการที่อยู่ข้อมูล และไม่ได้ปรับปรุงประสิทธิภาพโดยการย้ายข้อมูลเข้าใกล้ลูกค้ามากขึ้น</span><span class="sxs-lookup"><span data-stu-id="66049-176">Currently multi-geo is designed for meeting data residency requirements and doesn't improve performance by moving data closer to consumers.</span></span>

### <a name="cost"></a><span data-ttu-id="66049-177">ค่าใช้จ่าย</span><span class="sxs-lookup"><span data-stu-id="66049-177">Cost</span></span>

<span data-ttu-id="66049-178">[Power BI Embedded](azure-pbie-what-is-power-bi-embedded.md) มีแบบจำลองการซื้อตามทรัพยากร เหมือนกับ **Power BI Premium**</span><span class="sxs-lookup"><span data-stu-id="66049-178">[Power BI Embedded](azure-pbie-what-is-power-bi-embedded.md) has a resource-based purchase model, like **Power BI Premium**.</span></span> <span data-ttu-id="66049-179">คุณซื้อหนึ่งกำลังการผลิตหรือมากกว่าพร้อมกำลังการประมวลผลและหน่วยความจำแบบคงที่</span><span class="sxs-lookup"><span data-stu-id="66049-179">You purchase one or more capacities with fixed computing power and memory.</span></span> <span data-ttu-id="66049-180">กำลังการผลิตนี้เป็นสินค้าต้นทุนหลักเมื่อทำงานกับ **Power BI Embedded**</span><span class="sxs-lookup"><span data-stu-id="66049-180">This capacity is the main cost item when working with **Power BI Embedded**.</span></span> <span data-ttu-id="66049-181">ไม่มีการจำกัดจำนวนของผู้ใช้ขณะที่ใช้กำลังการผลิต</span><span class="sxs-lookup"><span data-stu-id="66049-181">There's no limit on the number of users using the capacity.</span></span> <span data-ttu-id="66049-182">มีข้อจำกัดเดียวคือประสิทธิภาพของกำลังการผลิต</span><span class="sxs-lookup"><span data-stu-id="66049-182">The only limit is the performance of the capacity.</span></span> <span data-ttu-id="66049-183">ผู้ใช้ [หลัก](../../admin/service-admin-licensing-organization.md)แต่ละรายหรือหรือผู้ใช้ที่จำเป็นต้องเข้าถึงพอร์ทัล Power BI ต้องมี *สิทธิ์การใช้งาน Power BI Pro*</span><span class="sxs-lookup"><span data-stu-id="66049-183">A [Power BI Pro license](../../admin/service-admin-licensing-organization.md) is required for each *master* user, or specific users that need to access the Power BI portal.</span></span>

<span data-ttu-id="66049-184">เราขอแนะนำให้ทดสอบและวัดโหลดที่คาดไว้บนกำลังการผลิตของคุณ โดยการจำลองสภาพแวดล้อมและการใช้แบบสด ตลอดจนเรียกใช้การทดสอบโหลดบนกำลังการผลิต</span><span class="sxs-lookup"><span data-stu-id="66049-184">We recommend testing and measuring the expected load on your capacity by simulating live environment and usage and run load testing on the capacity.</span></span> <span data-ttu-id="66049-185">คุณสามารถวัดโหลดและประสิทธิภาพด้วยเมตริกต่าง ๆ ที่พร้อมใช้งานในกำลังการผลิตของ Azure หรือ[แอปเมตริกกำลังการผลิตแบบพรีเมียม](../../admin/service-admin-premium-monitor-capacity.md)ได้</span><span class="sxs-lookup"><span data-stu-id="66049-185">You can measure the load and performance with the various Metrics available in the Azure capacity or [Premium capacity metrics app](../../admin/service-admin-premium-monitor-capacity.md).</span></span>

### <a name="content-customization-and-authoring"></a><span data-ttu-id="66049-186">การปรับแก้และการเขียนแก้เนื้อหา</span><span class="sxs-lookup"><span data-stu-id="66049-186">Content customization and authoring</span></span>

<span data-ttu-id="66049-187">แอปพลิเคชัน SaaS มีสองแนวทางในการมอบความสามารถแก่ผู้ใช้ในการแก้ไขและสร้างรายงาน หรืออัปโหลดข้อมูลลงในบริการที่เป็นส่วนหนึ่งของโฟลว์:</span><span class="sxs-lookup"><span data-stu-id="66049-187">There are two approaches to SaaS applications that give users the ability to edit and create reports or upload data into the service as part of the flow:</span></span>

   * <span data-ttu-id="66049-188">[โหมดแก้ไข/สร้างใน iFrame แบบฝังตัว](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Create-Report-in-Embed-View) - ผู้ใช้จะได้รับมุมมองรายงานหรือพื้นที่ว่างเปล่าใหม่ภายในแอปพลิเคชัน SaaS</span><span class="sxs-lookup"><span data-stu-id="66049-188">[Edit/Create mode in an embedded iFrame](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Create-Report-in-Embed-View) - The user gets a view of the report or a new blank canvas inside the SaaS application.</span></span> <span data-ttu-id="66049-189">ด้วยวิธีนี้ สามารถใช้แถบเครื่องมือ Power BI เพื่อสร้างเนื้อหาตามชุดข้อมูลในพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-189">This way they can use the Power BI toolbar to create content based on a dataset in the workspace.</span></span> <span data-ttu-id="66049-190">เราขอแนะนำตัวเลือกนี้ เนื่องจากอยู่ในบริบทของผู้ใช้ในสภาพแวดล้อมที่คุ้นเคย</span><span class="sxs-lookup"><span data-stu-id="66049-190">We recommend this option since it's in the user's context in a familiar environment.</span></span> <span data-ttu-id="66049-191">ซึ่งสามารถเริ่มต้นทำงานและแก้ไขได้ง่ายกว่า และผู้ใช้สามารถสร้างรายงานที่แนบไปกับชุดข้อมูลที่มีอยู่ได้</span><span class="sxs-lookup"><span data-stu-id="66049-191">It's easier to get started working and editing, and the user creates a report attached to an existing dataset.</span></span>

   * <span data-ttu-id="66049-192">ใช้ Power BI Desktop เพื่อสร้างเนื้อหาและอัปโหลดผ่าน UI แอปพลิเคชัน SaaS ไปยังพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-192">Use Power BI Desktop to create content and upload it through the SaaS application UI to the workspace.</span></span> <span data-ttu-id="66049-193">ในแนวทางนี้ ผู้ใช้จะมีเครื่องมือมากขึ้นในการทำงานโดยใช้ Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="66049-193">In this approach, users have more tools to work with using the Power BI Desktop.</span></span> <span data-ttu-id="66049-194">อย่างไรก็ตาม เราไม่แนะนำแนวทางนี้ เนื่องจากผู้ใช้จำเป็นต้องคุ้นเคยกับเครื่องมือเพิ่มเติมภายนอกบริบทของแอปพลิเคชัน SaaS</span><span class="sxs-lookup"><span data-stu-id="66049-194">However, we do not recommend this  approach since users need to be familiar with an additional tool outside of the SaaS application context.</span></span> <span data-ttu-id="66049-195">การอัปโหลดไฟล์ PBIX หมายถึง ผู้ใช้กำลังเพิ่มชุดข้อมูลเพิ่มเติม ซึ่งอาจเป็นรายการซ้ำของชุดข้อมูลที่มีอยู่แล้วในพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-195">Uploading a PBIX file means the user is adding an additional dataset, that might be a duplicate of datasets already in the workspace.</span></span>

## <a name="power-bi-workspace-based-isolation"></a><span data-ttu-id="66049-196">การแยกตามพื้นที่ทำงานของ power BI</span><span class="sxs-lookup"><span data-stu-id="66049-196">Power BI workspace-based isolation</span></span>

<span data-ttu-id="66049-197">ด้วยการแยกตามพื้นที่ทำงานของ Power BI แอปพลิเคชัน SaaS จะสนับสนุนหลายผู้เช่าจากผู้เช่า Power BI รายเดียว</span><span class="sxs-lookup"><span data-stu-id="66049-197">With Power BI workspace-based isolation, the SaaS application supports multiple tenants from a single Power BI tenant.</span></span> <span data-ttu-id="66049-198">การแยกตามพื้นที่ทำงานประกอบด้วยเนื้อหา Power BI ทั้งหมดที่ผู้เช่าอื่นใช้</span><span class="sxs-lookup"><span data-stu-id="66049-198">Workspace-based isolation contains all the Power BI content that different tenants use.</span></span> <span data-ttu-id="66049-199">การแยกผู้เช่าจะดำเนินการเสร็จสิ้นในระดับพื้นที่ทำงานของ Power BI โดยการสร้างพื้นที่ทำงานหลายพื้นที่</span><span class="sxs-lookup"><span data-stu-id="66049-199">The separation of tenants is done at the Power BI workspace level, by creating multiple workspaces.</span></span> <span data-ttu-id="66049-200">พื้นที่ทำงานแต่ละแห่งประกอบด้วยชุดข้อมูล รายงาน และแดชบอร์ดที่เกี่ยวข้องกับผู้เช่าดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="66049-200">Each workspace contains the relevant datasets, reports, and dashboards for that tenant.</span></span> <span data-ttu-id="66049-201">นอกจากนี้ พื้นที่ทำงานแต่ละแห่งเชื่อมต่อเฉพาะกับข้อมูลของผู้เช่าดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="66049-201">Also, each workspace is connected only to that tenant's data.</span></span> <span data-ttu-id="66049-202">หากคุณต้องดำเนินการแยกเพิ่มเติม คุณสามารถสร้างผู้ใช้ *หลัก* หรือบริการหลักสำหรับพื้นที่ทำงานแต่ละแห่งและเนื้อหาได้</span><span class="sxs-lookup"><span data-stu-id="66049-202">If you need additional isolation, you can create a *master* user or a service principal for each workspace and its content.</span></span>

![พื้นที่ทำงาน](media/embed-multi-tenancy/multi-tenant-saas-workspace.png)

### <a name="data-architecture"></a><span data-ttu-id="66049-204">สถาปัตยกรรมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-204">Data architecture</span></span>

<span data-ttu-id="66049-205">มีสองแนวทางหลักในการจัดการข้อมูลของผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-205">There are two main approaches to manage tenant's data.</span></span>

* <span data-ttu-id="66049-206">ฐานข้อมูลแยกต่อผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-206">A separate database per tenant</span></span>
* <span data-ttu-id="66049-207">ฐานข้อมูลเดียวแบบหลายผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-207">A single multi-tenant database</span></span>

<span data-ttu-id="66049-208">หากพื้นที่จัดเก็บของแอปพลิเคชัน SaaS กำลังจัดเก็บฐานข้อมูลแยกต่อผู้เช่าอยู่ ดังนั้น ตัวเลือกที่มีให้คือการใช้ชุดข้อมูลผู้เช่ารายเดียวใน Power BI ด้วยสตริงการเชื่อมต่อสำหรับแต่ละชุดข้อมูลที่ชี้ไปยังฐานข้อมูลที่ตรงกัน</span><span class="sxs-lookup"><span data-stu-id="66049-208">If the SaaS application storage is keeping a separate database per tenant, then the natural choice is to use single-tenant datasets in Power BI with the connection string for each dataset pointing to the matching database.</span></span>

<span data-ttu-id="66049-209">หากพื้นที่จัดเก็บของแอปพลิเคชัน SaaS กำลังใช้ฐานข้อมูลการเช่าหลายรายการสำหรับผู้เช่าทั้งหมด การแยกผู้เช่าตามพื้นที่ทำงานก็สามารถดำเนินการได้อย่างง่ายดาย</span><span class="sxs-lookup"><span data-stu-id="66049-209">If the SaaS application storage is using a multi-tenancy database for all tenants, it's easy to separate tenants by workspace.</span></span> <span data-ttu-id="66049-210">คุณสามารถกำหนดค่าการเชื่อมต่อฐานข้อมูลสำหรับชุดข้อมูล Power BI ด้วยคิวรีฐานข้อมูลที่มีการกำหนดพารามิเตอร์ซึ่งเรียกใช้เฉพาะข้อมูลของผู้เช่าเกี่ยวข้อง</span><span class="sxs-lookup"><span data-stu-id="66049-210">You can configure the database connection for the Power BI dataset with a parameterized database query that only retrieves the relevant tenant's data.</span></span> <span data-ttu-id="66049-211">คุณสามารถอัปเดตการเชื่อมต่อโดยใช้ [Power BI Desktop](../../transform-model/desktop-query-overview.md) หรือใช้ [API](/rest/api/power-bi/datasets/updatedatasourcesingroup) กับ[พารามิเตอร์](/rest/api/power-bi/datasets/updateparametersingroup)บนคิวรี</span><span class="sxs-lookup"><span data-stu-id="66049-211">You can update the connection using the [Power BI Desktop](../../transform-model/desktop-query-overview.md) or using the [API](/rest/api/power-bi/datasets/updatedatasourcesingroup) with [parameters](/rest/api/power-bi/datasets/updateparametersingroup) on the query.</span></span>

### <a name="data-isolation"></a><span data-ttu-id="66049-212">การแยกข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-212">Data isolation</span></span>

<span data-ttu-id="66049-213">ข้อมูลในแบบจำลองการเช่านี้ถูกแยกจากกันในระดับพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-213">Data in this tenancy model is separated at the workspace level.</span></span> <span data-ttu-id="66049-214">การแมปอย่างง่ายระหว่างพื้นที่ทำงานและผู้เช่าจะช่วยป้องกันไม่ให้ผู้ใช้จากผู้เช่าหนึ่งมองเห็นเนื้อหาจากผู้เช่าอื่น</span><span class="sxs-lookup"><span data-stu-id="66049-214">A simple mapping between a workspace and a tenant prevents users from one tenant seeing content from another tenant.</span></span> <span data-ttu-id="66049-215">ในการใช้ผู้ใช้ *หลัก* รายเดียว คุณต้องสามารถเข้าถึงพื้นที่ทำงานต่าง ๆ ได้ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="66049-215">Using a single *master* user demands you to have access to all the different workspaces.</span></span> <span data-ttu-id="66049-216">มีการกำหนดค่าของข้อมูลที่จะแสดงให้ผู้ใช้ปลายทางดูในระหว่าง[การสร้างโทเค็นที่ฝังไว้](/rest/api/power-bi/embedtoken) ซึ่งเป็นกระบวนการเฉพาะส่วนหลังซึ่งผู้ใช้ปลายทางไม่สามารถดูหรือเปลี่ยนแปลงได้</span><span class="sxs-lookup"><span data-stu-id="66049-216">The configuration of which data to show an end user is defined during the [generation of the embed token](/rest/api/power-bi/embedtoken), a backend-only process which end users can't see, or change.</span></span>

<span data-ttu-id="66049-217">ในการเพิ่มการแยกเพิ่มเติม นักพัฒนาแอปพลิเคชันสามารถกำหนดผู้ใช้ *หลัก* หรือแอปพลิเคชันต่อพื้นที่ทำงานมากกว่าผู้ใช้ *หลัก* รายเดียว หรือแอปพลิเคชันที่สามารถเข้าถึงพื้นที่ทำงานได้หลายพื้นที่</span><span class="sxs-lookup"><span data-stu-id="66049-217">To add additional isolation, an application developer can define a *master* user or an application per workspace rather than a single *master* user or application with access to multiple workspaces.</span></span> <span data-ttu-id="66049-218">ด้วยวิธีนี้ คุณจะมั่นใจได้ว่าหากเกิดข้อผิดพลาดจากมนุษย์หรือการรั่วไหลของข้อมูลประจำตัว จะไม่ทำให้ข้อมูลของลูกค้าหลายรายถูกเปิดเผย</span><span class="sxs-lookup"><span data-stu-id="66049-218">This way, you can ensure that any human error or credential leak does not cause multiple customers' data to be exposed.</span></span>

### <a name="scalability"></a><span data-ttu-id="66049-219">ความสามารถในการขยาย</span><span class="sxs-lookup"><span data-stu-id="66049-219">Scalability</span></span>

<span data-ttu-id="66049-220">ข้อดีประการหนึ่งของแบบจำลองนี้คือ การแยกข้อมูลเป็นชุดข้อมูลหลายชุดสำหรับผู้เช่าแต่ละรายจะไม่มีปัญหากับ[ขีดจำกัดขนาดของชุดข้อมูลเดียว ](../../admin/service-premium-what-is.md)(ความจุ 10 GB ในปัจจุบัน)</span><span class="sxs-lookup"><span data-stu-id="66049-220">One advantage of this model is that separating the data into multiple datasets for each tenant overcomes the [size limits of a single dataset](../../admin/service-premium-what-is.md) (currently 10 GB in a capacity).</span></span> <span data-ttu-id="66049-221">เมื่อความจุโอเวอร์โหลด สามารถลบชุดข้อมูลที่ไม่ได้ใช้เพื่อเพิ่มหน่วยความจำสำหรับชุดข้อมูลที่ใช้งานอยู่</span><span class="sxs-lookup"><span data-stu-id="66049-221">When the capacity is overloaded, it can evict unused datasets to free memory for active datasets.</span></span> <span data-ttu-id="66049-222">งานนี้ไม่สามารถใช้ชุดข้อมูลเดียวที่มีขนาดใหญ่</span><span class="sxs-lookup"><span data-stu-id="66049-222">This task isn't possible with a single large dataset.</span></span> <span data-ttu-id="66049-223">นอกจากนี้ การใช้ชุดข้อมูลหลายชุดยังสามารถแยกผู้เช่าเป็นกำลังการผลิต Power BI หลายรายการเมื่อจำเป็น</span><span class="sxs-lookup"><span data-stu-id="66049-223">Using multiple datasets, it is also possible to separate tenants into multiple Power BI capacities if needed.</span></span>

<span data-ttu-id="66049-224">แม้ว่าจะมีข้อดีหลายประการ สิ่งหนึ่งที่ต้องพิจารณาคือมาตราส่วนที่แอปพลิเคชัน SaaS สามารถเข้าถึงในอนาคต</span><span class="sxs-lookup"><span data-stu-id="66049-224">Despite these advantages, one must consider the scale that the SaaS application can reach in the future.</span></span> <span data-ttu-id="66049-225">เช่น อาจถึงขีดจำกัดใกล้เคียงจำนวนวัตถุที่สามารถจัดการได้</span><span class="sxs-lookup"><span data-stu-id="66049-225">For example, one might reach limitations around the number of artifacts one can manage.</span></span> <span data-ttu-id="66049-226">ดู[ข้อจำกัด](#summary-comparison-of-the-different-approaches)การปรับใช้ในภายหลังในบทความนี้สำหรับรายละเอียดเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="66049-226">See deployment [limitations](#summary-comparison-of-the-different-approaches) later in this article for more details.</span></span> <span data-ttu-id="66049-227">SKU ของความจุที่ใช้แนะนำการจำกัดขนาดของหน่วยความจำที่ชุดข้อมูลที่จำเป็นต้องมีพอดี จำนวนการรีเฟรชที่สามารถเรียกใช้ได้พร้อมกัน และความถี่สูงสุดของการรีเฟรชข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-227">The capacity SKU used introduces a limit on the size of memory that datasets need to fit in, how many refreshes can run at the same time and the maximum frequency of data refreshes.</span></span> <span data-ttu-id="66049-228">เราขอแนะนำให้ดำเนินการทดสอบเมื่อจัดการชุดข้อมูลหลายร้อยหรือหลายพันชุด</span><span class="sxs-lookup"><span data-stu-id="66049-228">It's recommended to test when managing hundreds or thousands of datasets.</span></span> <span data-ttu-id="66049-229">นอกจากนี้ยังแนะนำให้พิจารณาค่าเฉลี่ยและปริมาณสูงสุดของการใช้งาน ตลอดจนผู้เช่าที่เฉพาะเจาะจงใด ๆ ที่มีชุดข้อมูลขนาดใหญ่ หรือรูปแบบการใช้งานที่แตกต่างกัน ซึ่งจะได้รับการจัดการที่แตกต่างจากผู้เช่าอื่น ๆ</span><span class="sxs-lookup"><span data-stu-id="66049-229">It is also recommended to consider the average and peak volume of usage, as well as any specific tenants with large datasets, or different usage patterns, that are managed differently than other tenants.</span></span>

### <a name="automation--operational-complexity"></a><span data-ttu-id="66049-230">ระบบอัตโนมัติและความซับซ้อนในการดำเนินงาน</span><span class="sxs-lookup"><span data-stu-id="66049-230">Automation & operational complexity</span></span>

<span data-ttu-id="66049-231">ด้วยการแยกตามพื้นที่ทำงานของ Power BI นักพัฒนาแอปพลิเคชันอาจต้องจัดการวัตถุหลายร้อยหรือหลายพันชิ้น</span><span class="sxs-lookup"><span data-stu-id="66049-231">With Power BI workspace-based isolation, an application developer might need to manage hundreds or thousands of artifacts.</span></span> <span data-ttu-id="66049-232">จึงจำเป็นต้องกำหนดกระบวนการที่เกิดขึ้นบ่อยครั้งในการจัดการวงจรชีวิตของแอปพลิเคชันของคุณ และเพื่อให้แน่ใจว่าคุณมีชุดเครื่องมือที่เหมาะสมกับการดำเนินการเหล่านี้ตามมาตราส่วนในแบบจำลองการเช่านี้</span><span class="sxs-lookup"><span data-stu-id="66049-232">It's essential to define the processes that frequently happen in your application lifecycle management, and ensure you have the right set of tools to perform these operations at scale in this tenancy model.</span></span> <span data-ttu-id="66049-233">การดำเนินการตัวอย่างบางส่วนรวมถึง:</span><span class="sxs-lookup"><span data-stu-id="66049-233">Some example operations include:</span></span>

   * <span data-ttu-id="66049-234">การเพิ่มผู้เช่าใหม่ (ลูกค้า)</span><span class="sxs-lookup"><span data-stu-id="66049-234">Adding a new tenant (customer)</span></span>
   * <span data-ttu-id="66049-235">การอัปเดตรายงานหรือแดชบอร์ดสำหรับผู้เช่าบางส่วนหรือทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="66049-235">Updating a report or dashboard for some or all the tenants</span></span>
   * <span data-ttu-id="66049-236">การอัปเดต schema ชุดข้อมูลสำหรับผู้เช่าบางส่วนหรือทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="66049-236">Updating the dataset schema for some or all the tenants</span></span>
   * <span data-ttu-id="66049-237">การปรับแก้ที่ไม่ได้วางแผนไว้สำหรับผู้เช่าเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="66049-237">Unplanned customizations for specific tenants</span></span>
   * <span data-ttu-id="66049-238">ความถี่ของการรีเฟรชชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-238">Frequency of dataset refreshes</span></span>

<span data-ttu-id="66049-239">ตัวอย่าง การสร้างพื้นที่ทำงานสำหรับผู้เช่าใหม่ถือว่าเป็นงานทั่วไป ซึ่งจำเป็นต้องใช้ระบบอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="66049-239">For example, creating a workspace for a new tenant is a common task, which needs automation.</span></span> <span data-ttu-id="66049-240">ด้วย [Power BI REST API](/rest/api/power-bi/) คุณสามารถใช้งาน[ระบบอัตโนมัติได้อย่างเต็มรูปแบบเมื่อสร้างพื้นที่ทำงาน](https://powerbi.microsoft.com/blog/duplicate-workspaces-using-the-power-bi-rest-apis-a-step-by-step-tutorial/)</span><span class="sxs-lookup"><span data-stu-id="66049-240">With the [Power BI REST API](/rest/api/power-bi/), you can achieve [full automation when creating workspaces](https://powerbi.microsoft.com/blog/duplicate-workspaces-using-the-power-bi-rest-apis-a-step-by-step-tutorial/).</span></span>

### <a name="multi-geo-needs"></a><span data-ttu-id="66049-241">ความต้องการของ Multi-Geo</span><span class="sxs-lookup"><span data-stu-id="66049-241">Multi-Geo needs</span></span>

<span data-ttu-id="66049-242">Multi-Geo เกี่ยวข้องกับการซื้อกำลังการผลิตในภูมิภาคที่ต้องการ และกำหนดพื้นที่ทำงานตามกำลังการผลิตดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="66049-242">Multi-geo involves purchasing capacity in the desired regions and assigning a workspace to that capacity.</span></span> <span data-ttu-id="66049-243">หากคุณต้องการสนับสนุนผู้เช่าอื่นในภูมิภาคต่าง ๆ คุณจำเป็นต้องกำหนดพื้นที่ทำงานของผู้เช่าตามกำลังการผลิตในภูมิภาคที่ต้องการ</span><span class="sxs-lookup"><span data-stu-id="66049-243">If you need to support different tenants in different regions, you need to assign the tenant's workspace to a capacity in the desired region.</span></span> <span data-ttu-id="66049-244">งานนี้เป็นการดำเนินการอย่างง่ายและมีต้นทุนไม่เกินพื้นที่ทำงานทั้งหมดในกำลังการผลิตเดียวกัน</span><span class="sxs-lookup"><span data-stu-id="66049-244">This task is a simple operation and one where the cost is not more than having all workspaces in the same capacity.</span></span> <span data-ttu-id="66049-245">อย่างไรก็ตาม หากคุณมีผู้เช่าที่ต้องการที่อยู่ข้อมูลในหลายภูมิภาค จำเป็นต้องทำซ้ำวัตถุทั้งหมดในพื้นที่ทำงานในกำลังการผลิตแต่ละภูมิภาค ซึ่งทำให้มีต้นทุนและความซับซ้อนในการจัดการเพิ่มขึ้น</span><span class="sxs-lookup"><span data-stu-id="66049-245">However, if you have tenants that need data resident in multiple regions, all artifacts in the workspace need to be duplicated in each regional capacity, increasing both cost and management complexity.</span></span>

### <a name="cost"></a><span data-ttu-id="66049-246">ค่าใช้จ่าย</span><span class="sxs-lookup"><span data-stu-id="66049-246">Cost</span></span>

<span data-ttu-id="66049-247">นักพัฒนาแอปพลิเคชันที่ใช้ Power BI Embedded จำเป็นต้อง[ซื้อกำลังการผลิตของ Power BI Embedded เพื่อไปใช้ในการผลิต](move-to-production.md)</span><span class="sxs-lookup"><span data-stu-id="66049-247">Application developers using Power BI Embedded need to [purchase Power BI Embedded capacity to go to production](move-to-production.md).</span></span>  <span data-ttu-id="66049-248">ต้องทำความเข้าใจผลกระทบของแบบจำลองการแยกตามพื้นที่ทำงานและผลกระทบของกำลังการผลิต</span><span class="sxs-lookup"><span data-stu-id="66049-248">It's important to understand the impact of workspace-based isolation model and their effect on capacities.</span></span>

<span data-ttu-id="66049-249">แบบจำลองการแยกตามพื้นที่ทำงานได้ดีกับกำลังการผลิตเนื่องจากเหตุผลต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="66049-249">The workspace-based isolation model sits well with capacities for the following reasons:</span></span>

   * <span data-ttu-id="66049-250">คุณสามารถกำหนดวัตถุที่เล็กที่สุดให้กับกำลังการผลิตตามพื้นที่ทำงานได้อย่างอิสระ แต่ไม่สามารถกำหนดรายงานได้ ดังนั้น การแยกผู้เช่าด้วยพื้นที่ทำงาน คุณจะมีความยืดหยุ่นสูงในการจัดการผู้เช่าแต่ละรายและความต้องการด้านประสิทธิภาพ รวมถึงการใช้งานกำลังการผลิตที่ปรับให้เหมาะสมโดยปรับมาตราส่วนขึ้น/ลง</span><span class="sxs-lookup"><span data-stu-id="66049-250">The smallest object you can independently assign to a capacity is a workspace that is, you can't assign a report, for example), so by separating tenants by workspaces, you get full flexibility in managing each tenant and its performance needs, and optimizing capacity utilization by scaling up/down.</span></span> <span data-ttu-id="66049-251">ตัวอย่าง สามารถจัดการผู้เช่ารายสำคัญขนาดใหญ่ที่มีปริมาณและความผันผวนสูงในกำลังการผลิตแยก เพื่อให้แน่ใจว่ามีระดับการบริการที่สอดคล้องกัน ขณะจัดกลุ่มผู้เช่าที่มีขนาดเล็กกว่าในกำลังการผลิตอื่นเพื่อปรับให้เหมาะสมกับต้นทุน</span><span class="sxs-lookup"><span data-stu-id="66049-251">For example, large and essential tenants with high volume and volatility can be managed in a separate capacity to ensure a consistent service level, while grouping smaller tenants in another capacity to optimize costs.</span></span>

   * <span data-ttu-id="66049-252">นอกจากนี้ การแยกพื้นที่ทำงานยังหมายความถึงการแยกชุดข้อมูลระหว่างผู้เช่า เพื่อให้แบบจำลองข้อมูลกลายเป็นกลุ่มขนาดเล็กแทนชุดข้อมูลเดียวขนาดใหญ่</span><span class="sxs-lookup"><span data-stu-id="66049-252">Separating workspaces also means separating datasets between tenants so that data models can be in smaller chunks, rather than in a single large dataset.</span></span> <span data-ttu-id="66049-253">งานนี้จะช่วยให้กำลังการผลิตจัดการการใช้หน่วยความจำได้ดียิ่งขึ้น รวมถึงลบชุดข้อมูลขนาดเล็กและที่ไม่ได้ใช้เมื่อไม่จำเป็น ขณะที่ยังมอบความพึงพอใจแก่ผู้ใช้ในด้านประสิทธิภาพ</span><span class="sxs-lookup"><span data-stu-id="66049-253">This task allows the capacity to manage memory usage better, evicting small, and unused datasets when not needed, while keeping users satisfied with the performance.</span></span>

<span data-ttu-id="66049-254">นักพัฒนาแอปพลิเคชันต้องพิจารณาขีดจำกัดจำนวนการรีเฟรชพร้อมกัน เนื่องจากกระบวนการรีเฟรชอาจต้องใช้กำลังการผลิตเพิ่มเติมเมื่อคุณมีชุดข้อมูลหลายชุด</span><span class="sxs-lookup"><span data-stu-id="66049-254">Application developers need to consider the limit on the number of parallel refreshes, as refresh processes might need extra capacity when you have multiple datasets.</span></span>

### <a name="content-customization-and-authoring"></a><span data-ttu-id="66049-255">การปรับแก้และการเขียนแก้เนื้อหา</span><span class="sxs-lookup"><span data-stu-id="66049-255">Content customization and authoring</span></span>

<span data-ttu-id="66049-256">สำหรับกรณีการใช้หลักของการสร้างเนื้อหา นักพัฒนาแอปพลิเคชันต้องพิจารณาอย่างถี่ถ้วนว่า ผู้เช่ารายใดมีความสามารถในการแก้ไขได้ และผู้ใช้กี่คนในผู้เช่าแต่ละรายที่สามารถแก้ไขได้</span><span class="sxs-lookup"><span data-stu-id="66049-256">For the primary use cases of content creation, the application developer needs to carefully consider which tenants can have editing capabilities, and how many users in each tenant can edit.</span></span> <span data-ttu-id="66049-257">การอนุญาตให้ผู้ใช้หลายคนในผู้เช่าแต่ละรายแก้ไข อาจทำให้เกิดการสร้างเนื้อหามากมาย ซึ่งสามารถไปถึงข้อจำกัดของชุดข้อมูล เช่น จำนวนรายงานต่อชุดข้อมูล หรือจำนวนชุดข้อมูลในพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-257">Permitting multiple users in each tenant to edit can result in many contents being generated, that can reach a dataset limitation such as the number of reports per dataset, or the number of datasets in a workspace.</span></span> <span data-ttu-id="66049-258">หากคุณมอบความสามารถนี้แก่ผู้ใช้ เราขอแนะนำให้ตรวจสอบการสร้างเนื้อหาอย่างใกล้ชิด และปรับมาตราส่วนขึ้นตามความจำเป็น</span><span class="sxs-lookup"><span data-stu-id="66049-258">If you give users this capability, we recommend monitoring the content generation closely and scale up as needed.</span></span> <span data-ttu-id="66049-259">ด้วยเหตุผลเดียวกันนี้ เราไม่แนะนำให้ใช้ความสามารถนี้สำหรับการตั้งค่าส่วนบุคคลของเนื้อหา เนื่องจากผู้ใช้แต่ละรายสามารถทำการเปลี่ยนแปลงเล็กน้อยกับรายงาน แล้วบันทึกเก็บไว้เป็นของตัวเอง</span><span class="sxs-lookup"><span data-stu-id="66049-259">For the same reasons, we don't recommend using this capability for content personalization, where each user can make small changes to a report and save it for themselves.</span></span> <span data-ttu-id="66049-260">หากแอปพลิเคชัน SaaS อนุญาตให้มีการตั้งค่าส่วนบุคคลของเนื้อหา ให้พิจารณานโยบายการเก็บข้อมูลพื้นที่ทำงานที่ใช้งานและสื่อสารสำหรับเนื้อหาเฉพาะผู้ใช้เพื่ออำนวยความสะดวกโฟลว์ของการลบเนื้อหา เมื่อผู้ใช้ปลายทางเลื่อนตำแหน่งใหม่ ลาออกจากบริษัท หรือไม่ได้ใช้แพลตฟอร์มแล้ว</span><span class="sxs-lookup"><span data-stu-id="66049-260">If the SaaS application allows content personalization, consider introducing and communicating workspace retention policies for user-specific content to facilitate the flow of content deletion when end users move to a new position, leaving the company or not using the platform anymore.</span></span>

## <a name="row-level-security-based-isolation"></a><span data-ttu-id="66049-261">การแยกตามการรักษาความปลอดภัยระดับแถว</span><span class="sxs-lookup"><span data-stu-id="66049-261">Row-level security-based isolation</span></span>

<span data-ttu-id="66049-262">ด้วยการแยกตามการรักษาความปลอดภัยระดับแถว แอปพลิเคชัน SaaS จะใช้พื้นที่ทำงานเดียวเพื่อโฮสต์ผู้เช่าหลายราย</span><span class="sxs-lookup"><span data-stu-id="66049-262">With row-level security-based isolation, the SaaS application uses a single workspace to host multiple tenants.</span></span> <span data-ttu-id="66049-263">นั่นหมายความว่าแต่ละวัตถุ รายงาน แดชบอร์ด และชุดข้อมูลของ Power BI ถูกสร้างขึ้นเมื่อผู้เช่าทั้งหมดใช้งาน</span><span class="sxs-lookup"><span data-stu-id="66049-263">It means each Power BI artifact report, dashboard, & dataset, is created once all tenants use it.</span></span> <span data-ttu-id="66049-264">การแยกข้อมูลระหว่างผู้เช่าสามารถทำได้โดยใช้[การรักษาความปลอดภัยระดับแถว](embedded-row-level-security.md)ในชุดข้อมูลแบบหลายผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-264">Data separation between tenants is accomplished using [row-level security](embedded-row-level-security.md) on the multi-tenant dataset.</span></span> <span data-ttu-id="66049-265">เมื่อผู้ใช้ปลายทางลงชื่อเข้าใช้แอปพลิเคชัน SaaS และเปิดเนื้อหา โทเค็นที่ฝังไว้จะถูกสร้างขึ้นสำหรับเซสชันของผู้ใช้ ซึ่งมีบทบาทและตัวกรองเพื่อให้แน่ใจว่าผู้ใช้เห็นเฉพาะข้อมูลที่อนุญาตให้เห็น</span><span class="sxs-lookup"><span data-stu-id="66049-265">When end users log into the SaaS application and open content, an Embed token is generated for that user's session, with the roles and filters that ensure the user only sees the data they are permitted to see.</span></span> <span data-ttu-id="66049-266">หากผู้ใช้จากผู้เช่าเดียวกันไม่ได้รับอนุญาตให้ดูข้อมูลเดียวกัน นักพัฒนาแอปพลิเคชันต้องใช้บทบาทตามลำดับชั้นกับทั้งผู้เช่าและภายในผู้เช่าเดียวกัน</span><span class="sxs-lookup"><span data-stu-id="66049-266">If users from the same tenant are not permitted to view the same data, the application developer needs to implement hierarchical roles both between tenants and within the same tenant.</span></span>

![รักษาความปลอดภัยตามระดับแถว](media/embed-multi-tenancy/multi-tenant-saas-rls.png)

### <a name="data-architecture"></a><span data-ttu-id="66049-268">สถาปัตยกรรมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-268">Data architecture</span></span>

<span data-ttu-id="66049-269">การใช้การแยกตามการรักษาความปลอดภัยระดับแถวจะมีความสะดวกที่สุดเมื่อข้อมูลของผู้เช่าทั้งหมดถูกจัดเก็บไว้ในคลังข้อมูลเดียว</span><span class="sxs-lookup"><span data-stu-id="66049-269">Implementing row-level security-based isolation is most comfortable when all tenants' data is stored in a single data warehouse.</span></span> <span data-ttu-id="66049-270">ในกรณีนี้ นักพัฒนาแอปพลิเคชันสามารถส่งข้อมูลที่เกี่ยวข้องจากคลังข้อมูลไปยังชุดข้อมูลของ Power BI เท่านั้น โดยใช้ Direct Query หรือการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-270">In this case, the application developer can pass only the relevant data from the data warehouse into the Power BI dataset, either via Direct Query or data import.</span></span> <span data-ttu-id="66049-271">หากข้อมูลในฐานข้อมูลถูกแยกจากกันต่อผู้เช่า จำเป็นต้องรวมฐานข้อมูลเป็นฐานข้อมูลเดียว ซึ่งส่งผลให้มีระดับการแยกที่ต่ำลงระหว่างผู้เช่าที่มีอยู่ในฐานข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-271">If data in the database is separated per tenant, it needs to be combined into a single dataset, which results in a lower degree of separation between tenants that existed in the database.</span></span>

### <a name="data-isolation"></a><span data-ttu-id="66049-272">การแยกข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-272">Data isolation</span></span>

<span data-ttu-id="66049-273">การแยกตามการรักษาความปลอดภัยระดับแถว การแยกข้อมูลสามารถทำได้โดยใช้[ข้อกําหนดการรักษาความปลอดภัยระดับแถว](embedded-row-level-security.md)ในชุดข้อมูล ซึ่งหมายความว่าข้อมูลทั้งหมดมีอยู่ร่วมกัน</span><span class="sxs-lookup"><span data-stu-id="66049-273">With row-level security-based isolation, data separation is accomplished using [row-level security definitions](embedded-row-level-security.md) on the dataset, which means all the data coexist.</span></span> <span data-ttu-id="66049-274">การแยกข้อมูลรูปแบบนี้มีความเสี่ยงต่อการรั่วไหลของข้อมูลจากข้อผิดพลาดของนักพัฒนามากกว่า</span><span class="sxs-lookup"><span data-stu-id="66049-274">This form of data separation is more susceptible to data leakage through developer error.</span></span> <span data-ttu-id="66049-275">แม้ว่าการรักษาความปลอดภัยระดับแถวจะทำได้บน backend และมีความปลอดภัยจากผู้ใช้ปลายทาง แต่หากข้อมูลมีความละเอียดอ่อนสูงหรือลูกค้าขอให้มีการแยกข้อมูล ควรใช้การแยกตามพื้นที่ทำงานจะเหมาะสมมากกว่า</span><span class="sxs-lookup"><span data-stu-id="66049-275">Even though row-level security is done on the backend and secured from an end user, if the data is highly sensitive or customers are asking for data separation, it might be better to use workspace-based isolation.</span></span>

### <a name="scalability"></a><span data-ttu-id="66049-276">ความสามารถในการขยาย</span><span class="sxs-lookup"><span data-stu-id="66049-276">Scalability</span></span>

<span data-ttu-id="66049-277">ด้วยการแยกตามการรักษาความปลอดภัยระดับแถว ข้อมูลต้องมีขนาดพอดีกับขีดจำกัดขนาดชุดข้อมูล ซึ่งก็คือ 10 GB ในปัจจุบัน</span><span class="sxs-lookup"><span data-stu-id="66049-277">With row-level security-based isolation, the data needs to fit within the dataset size limit, which is currently 10 GB.</span></span> <span data-ttu-id="66049-278">จากการนำ[การรีเฟรชแบบเพิ่มหน่วย](../../admin/service-premium-incremental-refresh.md)มาใช้และการนำออกใช้จุดสิ้นสุด XMLA ที่กำลังมาถึงสำหรับชุดข้อมูล Power BI ขีดจำกัดขนาดของชุดข้อมูลจะต้องเพิ่มขึ้นอย่างมาก</span><span class="sxs-lookup"><span data-stu-id="66049-278">With the introduction of [incremental refresh](../../admin/service-premium-incremental-refresh.md) and the upcoming release of an XMLA endpoint for Power BI datasets, the dataset size limit is expected to increase significantly.</span></span> <span data-ttu-id="66049-279">อย่างไรก็ตาม ข้อมูลยังต้องมีขนาดพอดีกับหน่วยความจำของกำลังการผลิต พร้อมหน่วยความจำที่เหลืออยู่มากพอสำหรับการรีเฟรชข้อมูลเพื่อใช้งาน</span><span class="sxs-lookup"><span data-stu-id="66049-279">However, the data still needs to fit into the capacity's memory, with enough remaining memory for data refreshes to run.</span></span> <span data-ttu-id="66049-280">การปรับใช้ขนาดใหญ่จำเป็นต้องใช้ความจุขนาดใหญ่เพื่อหลีกเลี่ยงให้ผู้ใช้พบปัญหาต่าง ๆ เนื่องจากหน่วยความจำเกินขีดจำกัดของความจุปัจจุบัน</span><span class="sxs-lookup"><span data-stu-id="66049-280">Large-scale deployments need a large capacity to avoid users experiencing issues due to memory exceeding the limits of the current capacity.</span></span> <span data-ttu-id="66049-281">วิธีอื่นในการจัดการมาตราส่วนที่รวมการใช้ [การรวม](../../transform-model/desktop-aggregations.md) หรือเชื่อมต่อกับแหล่งข้อมูลโดยตรงโดยใช้ DirectQuery หรือการเชื่อมต่อสด แทนการแคชข้อมูลทั้งหมดในความจุ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-281">Alternative ways to handle scale include using [aggregations](../../transform-model/desktop-aggregations.md) or connecting to the data source directly using DirectQuery or Live connection, rather than caching all the data in the Power BI capacity.</span></span>

### <a name="automation--operational-complexity"></a><span data-ttu-id="66049-282">ระบบอัตโนมัติและความซับซ้อนในการดำเนินงาน</span><span class="sxs-lookup"><span data-stu-id="66049-282">Automation & operational complexity</span></span>

<span data-ttu-id="66049-283">การจัดการวัตถุจะมีความสะดวกมากกว่าเมื่อใช้การแยกตามการรักษาความปลอดภัยระดับแถวหากเทียบกับการแยกตามพื้นที่ทำงาน เนื่องจากมีวัตถุเพียงเวอร์ชันเดียวสำหรับแต่ละสภาพแวดล้อม (พัฒนา/ทดสอบ/การผลิต) แทนเวอร์ชันต่อผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-283">Managing artifacts is far more comfortable using row-level security-based isolation than with workspace-based isolation as there is only one version of an artifact for each environment (dev/test/production), instead of a version per tenant.</span></span> <span data-ttu-id="66049-284">ที่มาตราส่วนขนาดใหญ่ การจัดการวัตถุหมายถึง การจัดการและการอัปเดตวัตถุสิบชิ้น ไม่ใช่หนึ่งพันถึงหนึ่งหมื่นชิ้น</span><span class="sxs-lookup"><span data-stu-id="66049-284">At a large scale, managing artifacts means managing and updating tens of artifacts, rather than thousands to ten-thousands.</span></span>

<span data-ttu-id="66049-285">Power BI ยังไม่มี API เพื่อปรับเปลี่ยนหรือสร้างบทบาทและกฎ RLS</span><span class="sxs-lookup"><span data-stu-id="66049-285">Power BI doesn't yet have an API to modify or create RLS roles and rules.</span></span> <span data-ttu-id="66049-286">การเพิ่มหรือการเปลี่ยนบทบาทสามารถทำได้ด้วยตนเองเท่านั้นใน Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="66049-286">Adding or changing roles can only be done manually in the Power BI Desktop.</span></span> <span data-ttu-id="66049-287">หากจำเป็นต้องใช้ลำดับชั้น RLS อาจมีความซับซ้อนและมีโอกาสเกิดข้อผิดพลาดในการจัดการหากคุณไม่วางแผนอย่างระมัดระวัง</span><span class="sxs-lookup"><span data-stu-id="66049-287">If an RLS hierarchy needs to be applied, it can be complicated and error-prone to manage if you don't plan it carefully.</span></span>

<span data-ttu-id="66049-288">หากนักพัฒนาแอปพลิเคชันจำเป็นต้องจัดการบทบาทและข้อกำหนดบทบาทหลายอย่างที่จำเป็นต้องสร้างหรืออัปเดตบ่อยครั้ง การแยกตามการรักษาความปลอดภัยระดับแถวจะปรับขนาดไม่ได้จากมุมมองความสามารถในการจัดการ</span><span class="sxs-lookup"><span data-stu-id="66049-288">If the application developer needs to manage many roles and role definitions that need to be created or updated frequently, row-level security-based isolation isn't scalable, from a manageability perspective.</span></span>

<span data-ttu-id="66049-289">ความซับซ้อนในการดำเนินงานอื่นจะต้องตรวจสอบการใช้หน่วยความจำอย่างใกล้ชิด และสร้างกลไกการแจ้งเตือนที่มีประสิทธิภาพ รวมถึงการปรับมาตราส่วนเพื่อให้แน่ใจว่าผู้ใช้ได้รับประสบการณ์ที่ราบรื่น</span><span class="sxs-lookup"><span data-stu-id="66049-289">Another operational complexity is the need to closely monitor memory utilization and build a robust mechanism of alerts and scaling to ensure users get a smooth experience.</span></span>  

### <a name="multi-geo-needs"></a><span data-ttu-id="66049-290">ความต้องการของ Multi-Geo</span><span class="sxs-lookup"><span data-stu-id="66049-290">Multi-Geo needs</span></span>

<span data-ttu-id="66049-291">เนื่องจากข้อมูลทั้งหมดถูกจัดเก็บอยู่ในชุดข้อมูลเดียว จึงเป็นสิ่งท้าทายที่ต้องตอบสนองความต้องการที่อยู่ข้อมูลที่จำเป็นต้องผูกข้อมูลบางอย่างกับตําแหน่งที่ตั้งเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="66049-291">Since all the data is stored in a single dataset, it is challenging to meet data residency requirements that require certain data to be bound to specific locations.</span></span> <span data-ttu-id="66049-292">นอกจากนี้ ยังเพิ่มต้นทุนอย่างมากในการใช้ในหลายภูมิภาค เนื่องจากมีการทำซ้ำและจัดเก็บข้อมูลทั้งหมดในแต่ละภูมิภาค</span><span class="sxs-lookup"><span data-stu-id="66049-292">It can also significantly increase the cost of using multiple regions as all the data is replicated and stored in each region.</span></span> <span data-ttu-id="66049-293">หากมีผู้เช่าในจำนวนจำกัดเท่านั้นซึ่งจำเป็นต้องใช้ภูมิศาสตร์อื่น คุณสามารถเก็บเฉพาะข้อมูลของผู้เช่าเหล่านั้นในภูมิภาคอื่น โดยใช้แบบจำลองการแยกตามพื้นที่ทำงานตามที่อธิบายไว้ข้างต้น</span><span class="sxs-lookup"><span data-stu-id="66049-293">If only a limited number of tenants need different geographies, you can keep only those tenants' data in a different region, using the workspace-based isolation model described above.</span></span>

### <a name="cost"></a><span data-ttu-id="66049-294">ค่าใช้จ่าย</span><span class="sxs-lookup"><span data-stu-id="66049-294">Cost</span></span>

<span data-ttu-id="66049-295">โปรแกรมควบคุมต้นทุนหลักที่มีการแยกการรักษาความปลอดภัยระดับแถวคือรอยเท้าหน่วยความจำของชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-295">The primary cost driver with row-level security-based isolation is the memory footprint of the dataset.</span></span> <span data-ttu-id="66049-296">คุณต้องมีความจุเพียงพอเพื่อจัดเก็บชุดข้อมูลและเก็บบัฟเฟอร์หน่วยความจำเพิ่มเติมบางส่วนสำหรับจุดสูงสุดใด ๆ ในความต้องการหน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="66049-296">You need enough capacity to store the dataset and keep some additional memory buffer for any peaks in memory demand.</span></span> <span data-ttu-id="66049-297">วิธีหนึ่งในการลดสถานการณ์นี้คือการ จัดเก็บข้อมูลในฐานข้อมูล SQL Server หรือคิวบ์ SQL Server Analysis Services และใช้ Direct Query หรือการเชื่อมต่อสดเพื่อเรียกใช้ข้อมูลจากแหล่งข้อมูลในเวลาจริง</span><span class="sxs-lookup"><span data-stu-id="66049-297">One way to mitigate this situation is to store the data in a SQL Server database or SQL Server Analysis Services cube and using Direct Query or a Live connection to retrieve the data from the data source in real time.</span></span> <span data-ttu-id="66049-298">วิธีนี้จะเพิ่มต้นทุนของแหล่งข้อมูล แต่จะลดความจำเป็นสำหรับความจุขนาดใหญ่เนื่องจากความต้องการของหน่วยความจำ ดังนั้น การลดต้นทุนของความจุ Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-298">This approach increases the cost of the data sources, but reduces the need for large capacity because of memory needs, hence reducing the cost of Power BI capacity.</span></span>

### <a name="content-customization-and-authoring"></a><span data-ttu-id="66049-299">การปรับแก้และการเขียนแก้เนื้อหา</span><span class="sxs-lookup"><span data-stu-id="66049-299">Content customization and authoring</span></span>

<span data-ttu-id="66049-300">เนื่องจากผู้ใช้ปลายทางแก้ไขหรือสร้างรายงาน จึงสามารถใช้ชุดข้อมูลแบบหลายผู้เช่าสำหรับการผลิต</span><span class="sxs-lookup"><span data-stu-id="66049-300">As end users edit or create reports, they can use the production multi-tenant dataset.</span></span> <span data-ttu-id="66049-301">ด้วยเหตุผลดังกล่าว เราขอแนะนำให้ใช้เฉพาะตัวเลือก iFrame แบบฝังตัวเพื่อแก้ไขหรือ[สร้างรายงาน](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Create-Report-in-Embed-View) เนื่องจากต้องอาศัยชุดข้อมูลเดียวกันที่ใช้การรักษาความปลอดภัยระดับแถว</span><span class="sxs-lookup"><span data-stu-id="66049-301">For that reason, we advise only using the embedded iFrame option to edit or [create reports](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Create-Report-in-Embed-View), as it relies on the same dataset, with row-level security applied.</span></span> <span data-ttu-id="66049-302">เมื่อผู้ใช้อัปโหลดไฟล์ PBIX ที่มีชุดข้อมูลเพิ่มเติมอาจทำให้มีต้นทุนสูงและจัดการยากกับการแยกตามการรักษาความปลอดภัยระดับแถว</span><span class="sxs-lookup"><span data-stu-id="66049-302">Having users uploading PBIX files with additional datasets can be costly and difficult to manage with row-level security-based isolation.</span></span> <span data-ttu-id="66049-303">นอกจากนี้ เมื่อผู้ใช้สร้างเนื้อหาใหม่ที่อยู่ในพื้นที่ทำงานเดียวกัน คุณต้องตรวจสอบให้แน่ใจว่าพื้นที่ทำงานการผลิตนั้นยังไม่ถึงขีดจำกัด และสร้างกลไกที่มีประสิทธิภาพเพื่อจำแนกว่าเนื้อหาใดเชื่อมต่อกับผู้เช่ารายใด</span><span class="sxs-lookup"><span data-stu-id="66049-303">Also, when users generate new content that is in the same workspace, you need to make sure the production workspace doesn't hit its limits and build a robust mechanism to distinguish which content is connected to which tenant.</span></span>

## <a name="summary-comparison-of-the-different-approaches"></a><span data-ttu-id="66049-304">สรุปการเปรียบเทียบวิธีที่แตกต่างกัน</span><span class="sxs-lookup"><span data-stu-id="66049-304">Summary comparison of the different approaches</span></span>

> [!Important]
> <span data-ttu-id="66049-305">การวิเคราะห์ต่อไปนี้อ้างอิงตามสถานะปัจจุบันของผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="66049-305">The following analysis is based on the current state of the product.</span></span> <span data-ttu-id="66049-306">ขณะที่เรากำลังเผยแพร่คุณลักษณะใหม่ในช่วงเวลาแบบรายเดือน เรายังมอบความสามารถและคุณลักษณะใหม่ ๆ ที่ช่วยแก้ไขข้อจำกัดและจุดอ่อนที่มีอยู่</span><span class="sxs-lookup"><span data-stu-id="66049-306">As we are releasing new features on a monthly cadence, we continue to provide new capabilities and features that answer existing limitations and weak spots.</span></span> <span data-ttu-id="66049-307">อย่าลืมตรวจสอบโพสต์ในบล็อกของเราทุกเดือนเพื่อดูว่ามีอะไรใหม่ และกลับมายังบทความนี้เพื่อดูคุณลักษณะใหม่ที่ส่งผลต่อคำแนะนำแบบจำลองการเช่า</span><span class="sxs-lookup"><span data-stu-id="66049-307">Make sure to check our monthly blog posts to see what's new and come back to this article to see how new features affect the tenancy model recommendation.</span></span>

| <span data-ttu-id="66049-308">เกณฑ์การประเมิน</span><span class="sxs-lookup"><span data-stu-id="66049-308">Evaluation Criteria</span></span> | <span data-ttu-id="66049-309">ตามพื้นที่ทำงาน</span><span class="sxs-lookup"><span data-stu-id="66049-309">Workspace-based</span></span>   | <span data-ttu-id="66049-310">ตามการรักษาความปลอดภัยระดับแถว</span><span class="sxs-lookup"><span data-stu-id="66049-310">Row-level security-based</span></span>  |
|---------------------|-------------------|---------------------------|
| <span data-ttu-id="66049-311">สถาปัตยกรรมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-311">Data architecture</span></span>  | <span data-ttu-id="66049-312">ใช้งานง่ายที่สุดเมื่อมีฐานข้อมูลแยกต่อผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-312">Easiest when there's a separate database per tenant</span></span>  | <span data-ttu-id="66049-313">ใช้งานง่ายที่สุดเมื่อข้อมูลทั้งหมดสำหรับผู้เช่าทั้งหมดอยู่ในคลังข้อมูลเดียว</span><span class="sxs-lookup"><span data-stu-id="66049-313">Easiest when all the data for all tenants are in a single data warehouse</span></span>   |
| <span data-ttu-id="66049-314">การแยกข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-314">Data isolation</span></span>  | <span data-ttu-id="66049-315">ดี</span><span class="sxs-lookup"><span data-stu-id="66049-315">Good.</span></span> <span data-ttu-id="66049-316">ผู้เช่าแต่ละรายมีชุดข้อมูลเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="66049-316">Each tenant has a dedicated dataset.</span></span>  | <span data-ttu-id="66049-317">ปานกลาง</span><span class="sxs-lookup"><span data-stu-id="66049-317">Moderate.</span></span> <span data-ttu-id="66049-318">ข้อมูลทั้งหมดอยู่ในชุดข้อมูลเดียวกันที่ใช้ร่วมกัน แต่มีการจัดการผ่านการควบคุมการเข้าถึง</span><span class="sxs-lookup"><span data-stu-id="66049-318">All data is in the same shared dataset but managed through access-control.</span></span>  |
| <span data-ttu-id="66049-319">ความสามารถในการขยาย</span><span class="sxs-lookup"><span data-stu-id="66049-319">Scalability</span></span>  | <span data-ttu-id="66049-320">ปานกลาง</span><span class="sxs-lookup"><span data-stu-id="66049-320">Medium.</span></span> <span data-ttu-id="66049-321">การแบ่งข้อมูลเป็นชุดข้อมูลหลายชุดจะเปิดใช้งานการปรับให้เหมาะสมที่สุด</span><span class="sxs-lookup"><span data-stu-id="66049-321">Breaking the data into multiple datasets enables optimization.</span></span>  | <span data-ttu-id="66049-322">ต่ำสุด</span><span class="sxs-lookup"><span data-stu-id="66049-322">Lowest.</span></span> <span data-ttu-id="66049-323">จำกัดตามขีดจำกัดของชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="66049-323">Constrained by dataset limits.</span></span>  |
| <span data-ttu-id="66049-324">ความต้องการของ Multi-Geo</span><span class="sxs-lookup"><span data-stu-id="66049-324">Multi-Geo needs</span></span>  | <span data-ttu-id="66049-325">พอดีเมื่อผู้เช่าส่วนใหญ่อยู่ในภูมิภาคเดียวกัน</span><span class="sxs-lookup"><span data-stu-id="66049-325">Good fit when most tenants are only in one region.</span></span>  | <span data-ttu-id="66049-326">ไม่แนะนำ</span><span class="sxs-lookup"><span data-stu-id="66049-326">Not recommended.</span></span> <span data-ttu-id="66049-327">จำเป็นต้องจัดเก็บชุดข้อมูลทั้งหมดในหลายภูมิภาค</span><span class="sxs-lookup"><span data-stu-id="66049-327">Needs to keep the entire dataset stored in multiple regions.</span></span>  |
| <span data-ttu-id="66049-328">ระบบอัตโนมัติและความซับซ้อนในการดำเนินงาน</span><span class="sxs-lookup"><span data-stu-id="66049-328">Automation & operational complexity</span></span>  | <span data-ttu-id="66049-329">ระบบอัตโนมัติที่ดีสำหรับผู้เช่ารายบุคคล</span><span class="sxs-lookup"><span data-stu-id="66049-329">Good automation for the individual tenant.</span></span>   <span data-ttu-id="66049-330">ซับซ้อนในการจัดการวัตถุหลายอย่างในระดับมาตราส่วน</span><span class="sxs-lookup"><span data-stu-id="66049-330">Complex to manage many artifacts at scale.</span></span>  | <span data-ttu-id="66049-331">ง่ายต่อการจัดการวัตถุของ Power BI แต่ซับซ้อนในการจัดการ RLS ในระดับมาตราส่วน</span><span class="sxs-lookup"><span data-stu-id="66049-331">Easy to manage Power BI artifacts but complex to manage RLS at scale.</span></span>  |
| <span data-ttu-id="66049-332">ค่าใช้จ่าย</span><span class="sxs-lookup"><span data-stu-id="66049-332">Cost</span></span>  | <span data-ttu-id="66049-333">ต่ำ-ปานกลาง</span><span class="sxs-lookup"><span data-stu-id="66049-333">Low-medium.</span></span> <span data-ttu-id="66049-334">สามารถปรับการใช้งานให้เหมาะสมเพื่อลดต้นทุนต่อผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="66049-334">Can optimize utilization to reduce cost-per-tenant.</span></span>  <span data-ttu-id="66049-335">อาจเพิ่มขึ้นเมื่อจำเป็นต้องรีเฟรชบ่อยครั้ง</span><span class="sxs-lookup"><span data-stu-id="66049-335">Might increase when frequent refreshes are needed.</span></span>  | <span data-ttu-id="66049-336">ปานกลาง-สูงหากใช้โหมดการนำเข้า</span><span class="sxs-lookup"><span data-stu-id="66049-336">Medium- high if using Import mode.</span></span>  <span data-ttu-id="66049-337">ต่ำ-ปานกลางหากใช้โหมด Direct Query</span><span class="sxs-lookup"><span data-stu-id="66049-337">Low- medium if using Direct Query mode.</span></span>  |
| <span data-ttu-id="66049-338">การปรับแก้และการเขียนแก้เนื้อหา</span><span class="sxs-lookup"><span data-stu-id="66049-338">Content customization and authoring</span></span>  | <span data-ttu-id="66049-339">พอดี</span><span class="sxs-lookup"><span data-stu-id="66049-339">Good fit.</span></span> <span data-ttu-id="66049-340">อาจถึงขีดจำกัดในระดับมาตราส่วนขนาดใหญ่</span><span class="sxs-lookup"><span data-stu-id="66049-340">Might hit limitations at large scale.</span></span>  | <span data-ttu-id="66049-341">การสร้างเนื้อหาใน iFrame แบบฝังตัวเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="66049-341">Content generation in embedded iFrame only</span></span>  |

## <a name="deployment-considerations-and-limitations"></a><span data-ttu-id="66049-342">การพิจารณาการปรับใช้และข้อจำกัด</span><span class="sxs-lookup"><span data-stu-id="66049-342">Deployment considerations and limitations</span></span>

<span data-ttu-id="66049-343">**วัตถุของ Power BI จะจำกัด:**</span><span class="sxs-lookup"><span data-stu-id="66049-343">**Power BI Artifact limits:**</span></span>

* <span data-ttu-id="66049-344">จำนวนพื้นที่ทำงาน V1 (กลุ่ม) ที่ผู้ใช้เดี่ยว/แอปพลิเคชันสามารถเป็นสมาชิก/ผู้ดูแลระบบคือ 250</span><span class="sxs-lookup"><span data-stu-id="66049-344">The number of workspaces V1 (groups) that a single user/application can be a member/admin of is 250.</span></span>
* <span data-ttu-id="66049-345">จำนวนพื้นที่ทำงาน V2 (โฟลเดอร์) ที่ผู้ใช้เดี่ยว/แอปพลิเคชันสามารถเป็นสมาชิก/ผู้ดูแลระบบคือ 1000</span><span class="sxs-lookup"><span data-stu-id="66049-345">The number of workspaces V2 (folders) that a single user/application can be a member/admin of is 1000.</span></span>
* <span data-ttu-id="66049-346">จำนวนชุดข้อมูลในพื้นที่ทำงานเดียวคือ 1,000</span><span class="sxs-lookup"><span data-stu-id="66049-346">The number of datasets in a single workspace is 1000.</span></span>
* <span data-ttu-id="66049-347">จำนวนรายงาน/แดชบอร์ดที่เชื่อมต่อกับชุดข้อมูลเดียวคือ 1,000</span><span class="sxs-lookup"><span data-stu-id="66049-347">The number of reports/dashboards connected to a single dataset is 1000.</span></span>
* <span data-ttu-id="66049-348">ขีดจำกัดของขนาดหน่วยความจำของชุดข้อมูลเพื่ออัปโหลดไฟล์ *.pbix* คือ 10 GB</span><span class="sxs-lookup"><span data-stu-id="66049-348">The dataset memory size limit to upload a *.pbix* file is 10 GB.</span></span>

<span data-ttu-id="66049-349">**การพิจารณาและข้อจำกัดความจุ Power BI:**</span><span class="sxs-lookup"><span data-stu-id="66049-349">**Power BI Capacity considerations and limitations:**</span></span>

* <span data-ttu-id="66049-350">แต่ละความจุสามารถใช้หน่วยความจำที่ได้รับการจัดสรรและแกน V เท่านั้น ตาม [SKU ที่ซื้อ](../../admin/service-premium-what-is.md)</span><span class="sxs-lookup"><span data-stu-id="66049-350">Each capacity can only use its allocated memory and V-cores, according to the [SKU purchased](../../admin/service-premium-what-is.md).</span></span>
* <span data-ttu-id="66049-351">ขนาดชุดข้อมูลที่แนะนำสำหรับแต่ละ SKU โปรดดู[ชุดข้อมูลขนาดใหญ่แบบพรีเมียม](../../admin/service-premium-what-is.md#large-datasets)</span><span class="sxs-lookup"><span data-stu-id="66049-351">For the recommended dataset size for each SKU, reference [Premium large datasets](../../admin/service-premium-what-is.md#large-datasets).</span></span>
* <span data-ttu-id="66049-352">ขนาดชุดข้อมูลสูงสุดในความจุคือ 10 GB</span><span class="sxs-lookup"><span data-stu-id="66049-352">The max dataset size in a capacity is 10 GB.</span></span>
* <span data-ttu-id="66049-353">จำนวนการรีเฟรชตามกำหนดการสำหรับชุดข้อมูล *โหมดการนำเข้า* ในหนึ่งวันคือ 48</span><span class="sxs-lookup"><span data-stu-id="66049-353">The number of scheduled refreshes for an *import mode* dataset in a day is 48.</span></span>
* <span data-ttu-id="66049-354">เวลาระหว่างการรีเฟรชตามกำหนดการสำหรับชุดข้อมูล *โหมดการนำเข้า* คือ 30 นาที</span><span class="sxs-lookup"><span data-stu-id="66049-354">The time between scheduled refreshes for an *import mode* dataset is 30 minutes.</span></span>
* <span data-ttu-id="66049-355">สำหรับจำนวนการรีเฟรชที่สามารถเรียกใช้พร้อมกันบนความจุ โปรดดู[การจัดการทรัพยากรและการปรับให้เหมาะสม](../../admin/service-premium-what-is.md#capacity-nodes)</span><span class="sxs-lookup"><span data-stu-id="66049-355">For the number of refreshes that can run concurrently on a capacity, reference [resource management and optimization](../../admin/service-premium-what-is.md#capacity-nodes).</span></span>
* <span data-ttu-id="66049-356">เวลาเฉลี่ยของการปรับมาตราส่วนความจุอยู่ระหว่าง 1-2 นาที</span><span class="sxs-lookup"><span data-stu-id="66049-356">The average time of scaling a capacity is between 1-2 minutes.</span></span> <span data-ttu-id="66049-357">ในระหว่างเวลาดังกล่าว ความจุจะไม่พร้อมใช้งาน</span><span class="sxs-lookup"><span data-stu-id="66049-357">During that time, the capacity isn't available.</span></span> <span data-ttu-id="66049-358">เราแนะนำให้ใช้วิธีปรับมาตราส่วนแบบแนวราบเพื่อ[หลีกเลี่ยงการหยุดทำงาน](https://powerbi.microsoft.com/blog/power-bi-developer-community-november-update-2018/#scale-script)</span><span class="sxs-lookup"><span data-stu-id="66049-358">We recommend using a scale-out approach to [avoid downtime](https://powerbi.microsoft.com/blog/power-bi-developer-community-november-update-2018/#scale-script).</span></span>

## <a name="next-steps"></a><span data-ttu-id="66049-359">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="66049-359">Next steps</span></span>

* [<span data-ttu-id="66049-360">การวิเคราะห์แบบฝังตัวด้วย Power BI</span><span class="sxs-lookup"><span data-stu-id="66049-360">Embedded analytics with Power BI</span></span>](embedding.md)
* [<span data-ttu-id="66049-361">Power BI Embedded</span><span class="sxs-lookup"><span data-stu-id="66049-361">Power BI Embedded</span></span>](azure-pbie-what-is-power-bi-embedded.md)
* [<span data-ttu-id="66049-362">Power BI Premium</span><span class="sxs-lookup"><span data-stu-id="66049-362">Power BI Premium</span></span>](../../admin/service-premium-what-is.md)
* [<span data-ttu-id="66049-363">การรักษาความปลอดภัยระดับแถว</span><span class="sxs-lookup"><span data-stu-id="66049-363">Row-level security</span></span>](embedded-row-level-security.md)