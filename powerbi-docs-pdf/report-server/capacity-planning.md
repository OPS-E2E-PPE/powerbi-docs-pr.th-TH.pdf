---
title: คำแนะนำในการวางแผนความจุสำหรับเวอร์รายงาน Power BI
description: เอกสารนี้มีคำแนะนำเกี่ยวกับการวางแผนความจุสำหรับเวอร์รายงาน Power BI โดยการแชร์ผลลัพธ์ของการโหลดทดสอบมีการดำเนินการของปริมาณงานต่าง ๆ
author: maggiesMSFT
ms.author: maggies
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-report-server
ms.topic: conceptual
ms.date: 04/02/2020
ms.openlocfilehash: 0c75590071437b8e9edcc0023516ad7f095f0dcc
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96414725"
---
# <a name="capacity-planning-guidance-for-power-bi-report-server"></a><span data-ttu-id="fb358-103">คำแนะนำในการวางแผนความจุสำหรับเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-103">Capacity planning guidance for Power BI Report Server</span></span>
<span data-ttu-id="fb358-104">เซิร์ฟเวอรรายงาน์ power BI เป็นแบบบริการตนเอง BI และเป็นโซลูชันการรายงานสำหรับองค์กรธุรกิจ ซึ่งลูกค้าสามารถปรับใช้ภายในองค์กรหลังไฟร์วอลล์ของพวกเขา ได้</span><span class="sxs-lookup"><span data-stu-id="fb358-104">Power BI Report Server is a self-service BI and enterprise reporting solution that customers can deploy on their premises, behind their firewall.</span></span> <span data-ttu-id="fb358-105">จะรวมความสามารถในการรายงานแบบโต้ตอบของ Power BI Desktop ด้วยแพลตฟอร์มที่เซิร์ฟเวอร์ภายในองค์กรของ SQL Server Reporting Services</span><span class="sxs-lookup"><span data-stu-id="fb358-105">It combines the interactive report capability of Power BI Desktop with the on-premises server platform of SQL Server Reporting Services.</span></span> <span data-ttu-id="fb358-106">ด้วยน้ำหนักและการเติบโตของการใช้งานของการวิเคราะห์และการรายงานภายในองค์กร การจัดทำงบประมาณฮาร์ดแวร์โครงสร้างพื้นฐานและลิขสิทธิ์ซอฟต์แวร์จึงถูกใช้งาน เพื่อขยายไปยังฐานผู้ใช้แบบองค์กร ซึ่งเป็นเรื่องท้าทายยิ่งนัก</span><span class="sxs-lookup"><span data-stu-id="fb358-106">With heavy and growing usage of analytics and reporting within enterprises, budgeting the hardware infrastructure and software licenses required to scale to an enterprise user base can be a challenge.</span></span> <span data-ttu-id="fb358-107">เอกสารนี้มีวัตถุประสงค์เพื่อเสนอคำแนะนำเกี่ยวกับการวางแผนความจุสำหรับเซิร์ฟเวอร์รายงาน Power BI โดยแบ่งปันผลลัพธ์การดำเนินการทดสอบการโหลดจำนวนมากของปริมาณงานต่าง ๆ กับเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-107">This paper aims to offer guidance on capacity planning for Power BI Report Server by sharing results of numerous load test executions of various workloads against a report server.</span></span> <span data-ttu-id="fb358-108">ในขณะที่รายงาน คิวรี และการใช้รูปแบบขององค์กรแตกต่างกันอย่างกว้างขวาง ผลลัพธที่์แสดงอยู่ในเอกสารนี้ พร้อมกับการทดสอบจริงที่ใช้และอธิบายโดยละเอียดเกี่ยวกับวิธี่ดำเนินการ ทำหน้าที่เป็นจุดอ้างอิงสำหรับทุกคน ในช่วงต้นของขั้นตอนการวางแผนเพื่อใช้เซิร์ฟเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-108">While organizations' reports, queries, and usage patterns vary widely, the results presented in this paper, along with the actual tests used and a detailed description of how they were executed, serve as a reference point for anyone in the early-stage planning process of deploying Power BI Report Server.</span></span>

## <a name="executive-summary"></a><span data-ttu-id="fb358-109">สรุปสำหรับผู้บริหาร</span><span class="sxs-lookup"><span data-stu-id="fb358-109">Executive summary</span></span>
<span data-ttu-id="fb358-110">เราใช้ปริมาณงานสองชริดกับเซิร์ฟเวอร์รายงาน Power BI ปริมาณงานแต่ละรายการประกอบด้วยการแสดงรายงานชนิดต่างๆ เช่นเดียวกับการดำเนินการพอร์ทัลเว็บต่างๆ</span><span class="sxs-lookup"><span data-stu-id="fb358-110">We executed two different types of workloads against Power BI Report Server; each workload consisted of rendering different types of reports as well as performing various web portal operations.</span></span> 

* <span data-ttu-id="fb358-111">ในปริมาณงาน "Power BI Report Heavy" เป็นการดำเนินการบ่อยที่สุด (เช่น ดำเนินการ 60% ของเวลา) ถูกแสดงรายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-111">In "Power BI Report Heavy" workload, the most frequently executed operation (i.e. the operation executed 60% of the time) was rendering Power BI reports.</span></span>
* <span data-ttu-id="fb358-112">ในปริมาณงาน “Paginated Report Heavy” เป็นการดำเนินการบ่อยที่สุด ถูกแสดงรายงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-112">In "Paginated Report Heavy" workload, the most frequently executed operation was rendering paginated reports.</span></span>

<span data-ttu-id="fb358-113">ภายใต้สี่เซิร์ฟเวอร์โทโพโลยีของเซิร์ฟเวอร์รายงาน Power BI และคาดหวังว่า ไม่เกิน 5% ของผู้ใชที่้จะเข้าถึงเซิร์ฟเวอร์รายงานได้ทุกเวลา ตารางต่อไปนี้อธิบายถึงจำนวนสูงสุดของผู้ใช้ที่เซิร์ฟเวอร์รายงาน Power BI ที่สามารถจัดการกับน้อย 99% ความน่าเชื่อถือ</span><span class="sxs-lookup"><span data-stu-id="fb358-113">Under a four-server topology of Power BI Report Server and the expectation that no more than 5% of users will access a report server at any one time, the following table describes the maximum number of users Power BI Report Server can handle with at least 99% reliability.</span></span> 

| <span data-ttu-id="fb358-114">ปริมาณงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-114">Workload</span></span> | <span data-ttu-id="fb358-115">8 Core/32 GB RAM</span><span class="sxs-lookup"><span data-stu-id="fb358-115">8 Core/32 GB RAM</span></span> | <span data-ttu-id="fb358-116">16 Core/64 GB RAM</span><span class="sxs-lookup"><span data-stu-id="fb358-116">16 Core/64 GB RAM</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fb358-117">**Power BI Report Heavy** (>60%)</span><span class="sxs-lookup"><span data-stu-id="fb358-117">**Power BI Report Heavy** (>60%)</span></span> |<span data-ttu-id="fb358-118">ผู้ใช้ 1000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-118">1,000 users</span></span> |<span data-ttu-id="fb358-119">ผู้ใช้ 3000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-119">3,000 users</span></span> |
| <span data-ttu-id="fb358-120">**แบ่งหน้า (RDL) Report Heavy**  (> 60%)</span><span class="sxs-lookup"><span data-stu-id="fb358-120">**Paginated (RDL) Report Heavy** (>60%)</span></span> |<span data-ttu-id="fb358-121">ผู้ใช้ 2000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-121">2,000 users</span></span> |<span data-ttu-id="fb358-122">ผู้ใช้ 3,200 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-122">3,200 users</span></span> |

<span data-ttu-id="fb358-123">ในแต่ละครั้งที่เรียกใช้งาน ทรัพยากรที่ใช้นมากที่สุดคือ CPU</span><span class="sxs-lookup"><span data-stu-id="fb358-123">In each run, the most overwhelmed resource was CPU.</span></span> <span data-ttu-id="fb358-124">เนื่องจากนี่ การเพิ่มจำนวน cores ใน Power BI Report Server จะให้เชื่อถือของระบบมากกว่าการเพิ่มจำนวนหน่วยความจำหรือเพิ่มขนาดฮาร์ดดิสก์</span><span class="sxs-lookup"><span data-stu-id="fb358-124">Due to this, increasing the number of cores to Power BI Report Server would yield a higher gain in the reliability of the system than increasing the amount of memory or hard-disk space.</span></span> 

## <a name="test-methodology"></a><span data-ttu-id="fb358-125">วิธีการทดสอบ</span><span class="sxs-lookup"><span data-stu-id="fb358-125">Test methodology</span></span>
<span data-ttu-id="fb358-126">ทดสอบโทโพโลยีที่ใช้เป็นไปตามเครื่องเสมือน Microsoft Azure ไม่ได้เป็นตามผู้จัดจำหน่ายฮาร์ดแวร์</span><span class="sxs-lookup"><span data-stu-id="fb358-126">The testing topology used was based on Microsoft Azure Virtual Machines instead of vendor-specific physical hardware.</span></span> <span data-ttu-id="fb358-127">เครื่องทั้งหมดถูกโฮสต์ในขอบเขตของสหรัฐอเมริกา</span><span class="sxs-lookup"><span data-stu-id="fb358-127">All machines were hosted in US regions.</span></span> <span data-ttu-id="fb358-128">สิ่งนี้แสดงแนวโน้มทั่วไปของการจำลองเสมือนของฮาร์ดแวร์ทั้งภายในองค์กรและในระบบคลาวด์สาธารณะ</span><span class="sxs-lookup"><span data-stu-id="fb358-128">This reflects the general trend of hardware virtualization both on-premises and in the public cloud.</span></span> 

### <a name="power-bi-report-server-topology"></a><span data-ttu-id="fb358-129">โทโพโลยของเซิร์ฟเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-129">Power BI Report Server topology</span></span>
<span data-ttu-id="fb358-130">การใช้เซิร์ฟเวอร์รายงาน Power BI ประกอบด้วยเครื่องเสมือนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="fb358-130">The Power BI Report Server deployment consisted of the following virtual machines:</span></span>

* <span data-ttu-id="fb358-131">Active Directory Domain Controller สิ่งนี้จำเป็นสำหรับ SQL Server Database Engine, SQL Server Analysis Services และเซิร์ฟเวอร์รายงาน Power BI เพื่อรับรองคำขอทั้งหมดได้อย่างปลอดภัย</span><span class="sxs-lookup"><span data-stu-id="fb358-131">Active Directory Domain Controller: this was needed by SQL Server Database Engine, SQL Server Analysis Services, and Power BI Report Server to securely authenticate all requests.</span></span>
* <span data-ttu-id="fb358-132">SQL Server Database Engine and SQL Server Analysis Services นี่คือตำแหน่งที่เราจัดเก็บฐานข้อมูลทั้งหมดสำหรับรายงานที่จะใช้เมื่อเราแสดงผล</span><span class="sxs-lookup"><span data-stu-id="fb358-132">SQL Server Database Engine and SQL Server Analysis Services: this was where we stored all the databases for the reports to consume when we rendered them.</span></span>
* <span data-ttu-id="fb358-133">เซิร์ฟเวอร์รายงานของ Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-133">Power BI Report Server</span></span>
* <span data-ttu-id="fb358-134">ฐ่านข้อมูลเซิร์ฟเวอร์รายงานของ Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-134">Power BI Report Server Database.</span></span> <span data-ttu-id="fb358-135">ฐานข้อมูลเซิร์ฟเวอร์รายงานถูกโฮสต์บนคอมพิวเตอร์มากเครื่องมากกว่าเซิร์ฟเวอร์รายงาน Power BI เพื่อให้ไม่จำเป็นเพื่อการแย่งหน่วยความจำของ SQL Server Database Engine CPU เครือข่าย และแหล่งข้อมูลบนดิสก์</span><span class="sxs-lookup"><span data-stu-id="fb358-135">The report server database is hosted on a different machine than Power BI Report Server so that it does not need to compete with SQL Server Database Engine for memory, CPU, network, and disk resources.</span></span>

![แผนภาพที่แสดงความสัมพันธ์ระหว่าง Power B I Report Server, Active Directory และฐานข้อมูลที่เกี่ยวข้อง](media/capacity-planning/report-server-topology.png)

<span data-ttu-id="fb358-137">ดูภาคผนวก 1.1 โทโพโลยีเซิร์ฟเวอร์รายงาน Power BI และภาคผนวก 1.2 การตั้งค่าเครื่องเสมือนเซิร์ฟเวอร์รายงาน Power BI สำหรับการกำหนดค่าโดยละเอียดของแต่ละเครื่องเสมือนที่ใช้ในโทโพโลยี</span><span class="sxs-lookup"><span data-stu-id="fb358-137">See Appendix 1.1 Power BI Report Server Topology and Appendix 1.2 Power BI Report Server Virtual Machine Configuration for a thorough configuration of each virtual machine used in the topology.</span></span>

### <a name="tests"></a><span data-ttu-id="fb358-138">ทดสอบ</span><span class="sxs-lookup"><span data-stu-id="fb358-138">Tests</span></span>
<span data-ttu-id="fb358-139">การทดสอบที่ใช้ใน การทดสอบการโหลด มีให้ดาวน์โหลดได้สาธารณะในโครงการ GitHub ที่ชื่อว่า [Reporting Services LoadTest](https://github.com/Microsoft/Reporting-Services-LoadTest)</span><span class="sxs-lookup"><span data-stu-id="fb358-139">The tests used in the load test runs are publicly available in a GitHub project called [Reporting Services LoadTest](https://github.com/Microsoft/Reporting-Services-LoadTest).</span></span> <span data-ttu-id="fb358-140">เครื่องมือนี้ช่วยให้ผู้ใช้ศึกษาประสิทธิภาพการทำงาน ความน่าเชื่อถือ ปรับขนาด และลักษณะการคืนสภาพของ SQL Server Reporting Services และ Power BI Report Server</span><span class="sxs-lookup"><span data-stu-id="fb358-140">This tool allows users to study the performance, reliability, scalability and recoverability characteristics of SQL Server Reporting Services and Power BI Report Server.</span></span> <span data-ttu-id="fb358-141">โครงการนี้ประกอบด้วย่ของกรณีทดสอบสีกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="fb358-141">This project consists of four groups of test cases:</span></span>

* <span data-ttu-id="fb358-142">ทดสอบการจำลองกำลังแสดงรายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-142">Tests simulating rendering Power BI reports,</span></span>
* <span data-ttu-id="fb358-143">ทดสอบการจำลอการแสดงงรายงานมือถือ</span><span class="sxs-lookup"><span data-stu-id="fb358-143">Tests simulating rendering mobile reports,</span></span>
* <span data-ttu-id="fb358-144">ทดสอบการจำลองแสดงรายงานที่ถูกจัดหน้าขนาดเล็กและใหญ่และ</span><span class="sxs-lookup"><span data-stu-id="fb358-144">Tests simulating rendering small and large paginated reports, and</span></span> 
* <span data-ttu-id="fb358-145">ทดสอบการจำลองการดำเนินการชนิดต่าง ๆ ของการดำเนินการเว็บพอร์ทัล</span><span class="sxs-lookup"><span data-stu-id="fb358-145">Tests simulating performing various types of web portal  operations.</span></span> 

<span data-ttu-id="fb358-146">การทดสอบทั้งหมดถูกเขียนขึ้นเพื่อทำการดำเนินการแบบ end-to-end (เช่นการสร้างรายงาน สร้างแหล่งข้อมูลใหม่ และอื่น ๆ)</span><span class="sxs-lookup"><span data-stu-id="fb358-146">All tests were written to perform an end-to-end operation (such as rendering a report, creating a new data source, etc.).</span></span> <span data-ttu-id="fb358-147">พวกเขาทำสิ่งนี้ โดยทำการร้องขอเว็บหนึ่งอันหรือมากกว่าไปยังเซิร์ฟเวอร์รายงาน (ผ่าน API)</span><span class="sxs-lookup"><span data-stu-id="fb358-147">They accomplish this by making one or more web requests to the report server (via APIs).</span></span> <span data-ttu-id="fb358-148">ในโลกแห่งความจริง ผู้ใช้อาจจำเป็นต้องดำเนินการขั้นกลางสองสามสองสามชนิด เพื่อเสร็จสิ้นการดำเนินการ end-to-end หนึ่งอัน</span><span class="sxs-lookup"><span data-stu-id="fb358-148">In the real world, a user may need to perform a few intermediate operations to complete one of these end-to-end operations.</span></span> <span data-ttu-id="fb358-149">ตัวอย่างเช่น เมื่อต้องแสดงรายงานผู้ใช้จะต้องไปยังเว็บพอร์ทัล นำทางไปยังโฟลเดอร์ที่รายงานอยู่ จากนั้นคลิกรายงานเพื่อแสดง</span><span class="sxs-lookup"><span data-stu-id="fb358-149">For example, to render a report a user will need to go to the web portal, navigate to the folder where the report is, then click the report to render it.</span></span> <span data-ttu-id="fb358-150">ในขณะทดสอบไม่ดำเนินการทั้งหมด การทำงานที่ต้องการสร้างงานแบบ end-to-end พวกเขายังคงกำหนดการโหลดส่วนใหญ่ของการโหลดเซิร์ฟเวอร์รายงาน Power BI จะเป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="fb358-150">While tests don't perform all the operations needed to accomplish an end-to-end task, they still impose most of the load that Power BI Report Server would experience.</span></span> <span data-ttu-id="fb358-151">คุณสามารถเรียนรู้เพิ่มเติมเกี่ยวกับรายชนิดต่างๆที่ใช้ รวมถึงความหลากหลายของการดำเนินการทำโดยการสำรวจ GitHub project</span><span class="sxs-lookup"><span data-stu-id="fb358-151">You can learn more about the different types of reports used as well as the variety of operations performed by exploring the GitHub project.</span></span>  

> [!NOTE]
> <span data-ttu-id="fb358-152">เครื่องมือนี้ไม่ได้รับการสนับสนุนอย่างเป็นทางการจาก Microsoft แต่ทีมผลิตภัณฑ์จะมีส่วนร่วมในโครงการและตอบปัญหาที่ผู้สนับสนุนรายอื่นแจ้งให้ทราบ</span><span class="sxs-lookup"><span data-stu-id="fb358-152">The tool isn't officially supported by Microsoft, but the product team does contribute to the project and answer issues that are raised by other contributors.</span></span>

### <a name="workloads"></a><span data-ttu-id="fb358-153">ปริมาณงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-153">Workloads</span></span>
<span data-ttu-id="fb358-154">มีโปรไฟล์ปริมาณงาน 2 ชุดที่ใช้ในการทดสอบ: รายงาน power BI Heavy และมีการแบ่งหน้ารายงาน Heavy</span><span class="sxs-lookup"><span data-stu-id="fb358-154">There are 2 workload profiles used in testing: Power BI Report Heavy and Paginated Report Heavy.</span></span> <span data-ttu-id="fb358-155">ตารางด้านล่างนี้อธิบายเกี่ยวกับการแจกแจงคำขอที่ดำเนินการกับเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-155">The table below describes the distribution of requests executed against the Report Server.</span></span>

| <span data-ttu-id="fb358-156">กิจกรรม</span><span class="sxs-lookup"><span data-stu-id="fb358-156">Activity</span></span> | <span data-ttu-id="fb358-157">Power BI Report Heavy ความถี่ของการเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="fb358-157">Power BI Report Heavy, Frequency of occurrence</span></span> | <span data-ttu-id="fb358-158">Paginated Report Heavy ความถี่ของการเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="fb358-158">Paginated Report Heavy, Frequency of occurrence</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fb358-159">**แสดงรายงาน Power BI**</span><span class="sxs-lookup"><span data-stu-id="fb358-159">**Rendering Power BI reports**</span></span> |<span data-ttu-id="fb358-160">60%</span><span class="sxs-lookup"><span data-stu-id="fb358-160">60%</span></span> |<span data-ttu-id="fb358-161">10%</span><span class="sxs-lookup"><span data-stu-id="fb358-161">10%</span></span> |
| <span data-ttu-id="fb358-162">**การแสดงผลรายงานแบบจัดหน้า(RDL)**</span><span class="sxs-lookup"><span data-stu-id="fb358-162">**Rendering paginated (RDL) reports**</span></span> |<span data-ttu-id="fb358-163">30%</span><span class="sxs-lookup"><span data-stu-id="fb358-163">30%</span></span> |<span data-ttu-id="fb358-164">60%</span><span class="sxs-lookup"><span data-stu-id="fb358-164">60%</span></span> |
| <span data-ttu-id="fb358-165">**แสดงรายงานมือถือ**</span><span class="sxs-lookup"><span data-stu-id="fb358-165">**Rendering mobile reports**</span></span> |<span data-ttu-id="fb358-166">5%</span><span class="sxs-lookup"><span data-stu-id="fb358-166">5%</span></span> |<span data-ttu-id="fb358-167">20%</span><span class="sxs-lookup"><span data-stu-id="fb358-167">20%</span></span> |
| <span data-ttu-id="fb358-168">**การดำเนินงานเว็บพอร์ทัล**</span><span class="sxs-lookup"><span data-stu-id="fb358-168">**Web portal operations**</span></span> |<span data-ttu-id="fb358-169">5%</span><span class="sxs-lookup"><span data-stu-id="fb358-169">5%</span></span> |<span data-ttu-id="fb358-170">10%</span><span class="sxs-lookup"><span data-stu-id="fb358-170">10%</span></span> |

### <a name="user-load"></a><span data-ttu-id="fb358-171">โหลดผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="fb358-171">User load</span></span>
<span data-ttu-id="fb358-172">สำหรับการทดสอบการเรียกใช้ การทดสอบถูกดำเนินการโดยยึดตามความถี่ที่ระบุในปริมาณงานหนึ่งหรือสองอย่าง</span><span class="sxs-lookup"><span data-stu-id="fb358-172">For each test run, tests were executed based on the frequency specified in one of the two workloads.</span></span> <span data-ttu-id="fb358-173">ทดสอบการเริ่มต้นใช้งานกับผู้ใช้งานพร้อมกัน 20 ราย ที่ขอไปยังเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-173">Tests started with 20 concurrent user requests to the report server.</span></span> <span data-ttu-id="fb358-174">การโหลดผู้ใช้จากนั้นถูกเพิ่มขึ้นทีละน้อยจนกว่าความน่าเชื่อถือจะตกต่ำกว่าเป้าหมาย 99%</span><span class="sxs-lookup"><span data-stu-id="fb358-174">The user load was then gradually increased until reliability dropped below the 99% target.</span></span>

## <a name="results"></a><span data-ttu-id="fb358-175">ผลลัพธ์</span><span class="sxs-lookup"><span data-stu-id="fb358-175">Results</span></span>
### <a name="concurrent-user-capacity"></a><span data-ttu-id="fb358-176">ความจุเพื่อผู้ใช้พร้อมกัน</span><span class="sxs-lookup"><span data-stu-id="fb358-176">Concurrent user capacity</span></span>
<span data-ttu-id="fb358-177">ตามที่ระบุไว้ก่อนหน้านี้ การทดสอบเริ่มต้นใช้งานกับผู้ใช้พร้อมกัน 20 ราย ที่ทำการขอไปยังเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-177">As stated earlier, tests started with 20 concurrent users making requests to the report server.</span></span> <span data-ttu-id="fb358-178">จำนวนผู้ใช้พร้อมกันได้เพิ่มขึ้นทีละน้อยจนกว่า 1% ของคำขอทั้งหมดจะล้มเหลว</span><span class="sxs-lookup"><span data-stu-id="fb358-178">The number of concurrent users was then gradually increased until 1% of all requests were failing.</span></span> <span data-ttu-id="fb358-179">ผลลัพธ์ในตารางต่อไปนี้บอกให้เราจำนวนการขอของผู้ใช้พร้อมกัน ซึ่งเซิร์ฟเวอร์จะสามารถจัดการภายใต้การโหลดสูงสุดกับอัตราความล้มเหลวน้อยกว่า 1%</span><span class="sxs-lookup"><span data-stu-id="fb358-179">The results in the following table tell us the number of concurrent user requests that the server would be able to handle under peak load with a failure rate of less than 1%.</span></span>

| <span data-ttu-id="fb358-180">ปริมาณงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-180">Workload</span></span> | <span data-ttu-id="fb358-181">8 Core/32 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-181">8 Core/32 GB</span></span> | <span data-ttu-id="fb358-182">16 Core/64 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-182">16 Core/64 GB</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fb358-183">**Power BI Report Heavy**</span><span class="sxs-lookup"><span data-stu-id="fb358-183">**Power BI Report Heavy**</span></span> |<span data-ttu-id="fb358-184">ผู้ใช้พร้อมกัน 50 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-184">50 concurrent users</span></span> |<span data-ttu-id="fb358-185">ผู้ใช้พร้อมกัน 150 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-185">150 concurrent users</span></span> |
| <span data-ttu-id="fb358-186">**Paginated Report Heavy**</span><span class="sxs-lookup"><span data-stu-id="fb358-186">**Paginated Report Heavy**</span></span> |<span data-ttu-id="fb358-187">ผู้ใช้พร้อมกัน 100 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-187">100 concurrent users</span></span> |<span data-ttu-id="fb358-188">ผู้ใช้พร้อมกัน 160 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-188">160 concurrent users</span></span> |

### <a name="total-user-capacity"></a><span data-ttu-id="fb358-189">ความจุผู้ใช้ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="fb358-189">Total user capacity</span></span>
<span data-ttu-id="fb358-190">ที่ Microsoft เรามีการปรับใช้ของการผลิตของเซิร์ฟเวอร์รายงาน Power BI ที่ใช้หลายทีม</span><span class="sxs-lookup"><span data-stu-id="fb358-190">At Microsoft, we have a production deployment of Power BI Report Server that several teams used.</span></span> <span data-ttu-id="fb358-191">เมื่อเราวิเคราะห์การใช้งานจริงของสภาพแวดล้อมนี้ เราจะสังเกตเห็นว่า จำนวนผู้ใช้พร้อมกันในเวลาใดุ (แม้แต่ในระหว่างการโหลดสูงสุดประจำวัน) ไม่มีแนวโน้มเกิน 5% ของฐานผู้ใช้ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="fb358-191">When we analyze actual usage of this environment, we observe that the number of concurrent users at any given time (even during daily peak load) doesn't tend to exceed 5% of the total user base.</span></span> <span data-ttu-id="fb358-192">เราใช้ 5% ของอัตราส่วนแบบพร้อมกัน เป็นเกณฑ์มาตรฐาน หาฐานผู้ใช้เซิร์ฟเวอร์รายงาน Power BI ไม่สามารถจัดการความน่าเชื่อถือ 99%</span><span class="sxs-lookup"><span data-stu-id="fb358-192">Using this 5% concurrency ratio as a benchmark, we extrapolated the total user base Power BI Report Server could handle with 99% reliability.</span></span>

| <span data-ttu-id="fb358-193">ปริมาณงาน</span><span class="sxs-lookup"><span data-stu-id="fb358-193">Workload</span></span> | <span data-ttu-id="fb358-194">8 Core/32 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-194">8 Core/32 GB</span></span> | <span data-ttu-id="fb358-195">16 Core/64 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-195">16 Core/64 GB</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fb358-196">**Power BI Report Heavy**</span><span class="sxs-lookup"><span data-stu-id="fb358-196">**Power BI Report Heavy**</span></span> |<span data-ttu-id="fb358-197">ผู้ใช้ 1000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-197">1,000 users</span></span> |<span data-ttu-id="fb358-198">ผู้ใช้ 3000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-198">3,000 users</span></span> |
| <span data-ttu-id="fb358-199">**Paginated Report Heavy**</span><span class="sxs-lookup"><span data-stu-id="fb358-199">**Paginated Report Heavy**</span></span> |<span data-ttu-id="fb358-200">ผู้ใช้ 2000 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-200">2,000 users</span></span> |<span data-ttu-id="fb358-201">ผู้ใช้ 3,200 ราย</span><span class="sxs-lookup"><span data-stu-id="fb358-201">3,200 users</span></span> |

## <a name="summary"></a><span data-ttu-id="fb358-202">สรุป</span><span class="sxs-lookup"><span data-stu-id="fb358-202">Summary</span></span>
<span data-ttu-id="fb358-203">สำหรับแต่ละทดสอบการโหลดที่ทำ CPU ใช้ทรัพยากรมากที่สุดตรงจุดโหลดสูงสุดบนเครื่องเซิร์ฟเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-203">For each load test run, CPU was the most overwhelmed resource at the point of peak load on the Power BI Report Server machine.</span></span> <span data-ttu-id="fb358-204">เนื่องจากนี่ ทรัพยากรแรกที่ต้องการเพิ่มคือจำนวนของ core</span><span class="sxs-lookup"><span data-stu-id="fb358-204">Due to this, the first resource that should be increased is the number of cores.</span></span> <span data-ttu-id="fb358-205">อีกวิธีหนึ่งคือ คุณสามารถพิจารณาขยาย โดยการเพิ่มโฮสต์เซิร์ฟเวอร์รายงาน Power BI ในโทโพโลยีของคุณ</span><span class="sxs-lookup"><span data-stu-id="fb358-205">Alternately, you can consider scaling out by adding more servers hosting Power BI Report Server in your topology.</span></span>

<span data-ttu-id="fb358-206">ผลลัพธ์นำเสนอในเอกสารนี้มาจากการดำเนินการกับชุดเฉพาะของรายงานที่ใช้ชุดข้อมูล ซึ่งถูกทำซ้ำในรูปแบบเฉพาะเจาะจง</span><span class="sxs-lookup"><span data-stu-id="fb358-206">The results presented in this paper were derived from executing a specific set of reports consuming a specific set of data, repeated in a specific way.</span></span> <span data-ttu-id="fb358-207">เป็นจุดอ้างอิงที่มีประโยชน์ แต่โปรดทราบว่าการใช้งานของคุณจะขึ้นอยู่กับรายงาน คิวรี่ รูปแบบการใช้ และการปรับใช้ของเซิร์ฟเวอร์รายงาน Power BI ของคุณ</span><span class="sxs-lookup"><span data-stu-id="fb358-207">It's a useful reference point, but keep in mind that your usage will depend on your reports, queries, usage patterns and deployment of your Power BI Report Server.</span></span>

## <a name="appendix"></a><span data-ttu-id="fb358-208">ภาคผนวก</span><span class="sxs-lookup"><span data-stu-id="fb358-208">Appendix</span></span>
### <a name="1-topology"></a><span data-ttu-id="fb358-209">โทโพโลยี 1</span><span class="sxs-lookup"><span data-stu-id="fb358-209">1 Topology</span></span>
<span data-ttu-id="fb358-210">**1.1 โทโพโลยีเซิร์ฟเวอร์รายงาน BI power**</span><span class="sxs-lookup"><span data-stu-id="fb358-210">**1.1 Power BI Report Server Topology**</span></span>

<span data-ttu-id="fb358-211">เมื่อต้องเน้นเท่านั้นบนเซิร์ฟเวอร์รายงาน Power BI ลักษณะการทำงานภายใต้การกำหนดค่าที่หลากหลาย การกำหนดค่า VM สำหรับเครื่องแต่ละชนิด(ยกเว้นเครื่องโฮสตเซิร์ฟเวอ์รรายงาน Power BI) ได้รับการแก้ไข</span><span class="sxs-lookup"><span data-stu-id="fb358-211">To focus solely on Power BI Report Server behavior under different configurations, the VM configuration  for each type of machine (except for the machine hosting Power BI Report Server) was fixed.</span></span> <span data-ttu-id="fb358-212">แต่ละเครื่องจะถูกเตรียมใช้งานตามเครื่อง D Series second-generation (v2) ที่มี Premium Storage Disks</span><span class="sxs-lookup"><span data-stu-id="fb358-212">Each machine was provisioned according to the second-generation (v2) D Series machines with Premium Storage Disks.</span></span> <span data-ttu-id="fb358-213">คุณสามารถหาข้อมูลโดยละเอียดเกี่ยวกับ แต่ละขนาดของ VM ภายใต้ส่วน [“วัตถุประสงค์ทั่วไป”](https://azure.microsoft.com/pricing/details/virtual-machines/windows/)</span><span class="sxs-lookup"><span data-stu-id="fb358-213">You can find detailed information about each VM size under the ["General Purpose" section](https://azure.microsoft.com/pricing/details/virtual-machines/windows/).</span></span>

| <span data-ttu-id="fb358-214">ชนิดเครื่องเสมือน</span><span class="sxs-lookup"><span data-stu-id="fb358-214">Virtual Machine Type</span></span> | <span data-ttu-id="fb358-215">ตัวประมวลผล</span><span class="sxs-lookup"><span data-stu-id="fb358-215">Processor</span></span> | <span data-ttu-id="fb358-216">หน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="fb358-216">Memory</span></span> | <span data-ttu-id="fb358-217">ขนาด azure VM</span><span class="sxs-lookup"><span data-stu-id="fb358-217">Azure VM Size</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fb358-218">**Active Directory Domain Controller**</span><span class="sxs-lookup"><span data-stu-id="fb358-218">**Active Directory Domain Controller**</span></span> |<span data-ttu-id="fb358-219">2 Cores</span><span class="sxs-lookup"><span data-stu-id="fb358-219">2 Cores</span></span> |<span data-ttu-id="fb358-220">7 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-220">7 GB</span></span> |<span data-ttu-id="fb358-221">Standard_DS2_v2</span><span class="sxs-lookup"><span data-stu-id="fb358-221">Standard_DS2_v2</span></span> |
| <span data-ttu-id="fb358-222">**SQL Server Database Engine and Analysis Services**</span><span class="sxs-lookup"><span data-stu-id="fb358-222">**SQL Server Database Engine and Analysis Services**</span></span> |<span data-ttu-id="fb358-223">16 cores</span><span class="sxs-lookup"><span data-stu-id="fb358-223">16 Cores</span></span> |<span data-ttu-id="fb358-224">56 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-224">56 GB</span></span> |<span data-ttu-id="fb358-225">Standard_DS5_v2</span><span class="sxs-lookup"><span data-stu-id="fb358-225">Standard_DS5_v2</span></span> |
| <span data-ttu-id="fb358-226">**ฐานข้อมูลเซิร์ฟเวอร์รายงาน**</span><span class="sxs-lookup"><span data-stu-id="fb358-226">**Report Server Database**</span></span> |<span data-ttu-id="fb358-227">16 Cores</span><span class="sxs-lookup"><span data-stu-id="fb358-227">16 Cores</span></span> |<span data-ttu-id="fb358-228">56 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-228">56 GB</span></span> |<span data-ttu-id="fb358-229">Standard_DS5_v2</span><span class="sxs-lookup"><span data-stu-id="fb358-229">Standard_DS5_v2</span></span> |

<span data-ttu-id="fb358-230">**1.2 กำหนดค่าเครื่องเสมือนของเซิร์ฟเวอร์รายงาน BI power**</span><span class="sxs-lookup"><span data-stu-id="fb358-230">**1.2 Power BI Report Server Virtual Machine Configuration**</span></span> 

<span data-ttu-id="fb358-231">กำหนดค่าที่หลากหลายของตัวประมวลผลและหน่วยความจะถูกใช้สำหรับเครื่องเสมือนโฮสต์เซิร์ฟเวอร์รายงาน BI power</span><span class="sxs-lookup"><span data-stu-id="fb358-231">Different configurations of processor and memory were used for the Virtual Machine hosting Power BI Report Server.</span></span> <span data-ttu-id="fb358-232">ไม่เหมือนกับ Vm อื่นๆ เครื่องนี้ถูกเตรียมใช้งานตามเครื่อง D Series third-generation (v3) ที่มี Premium Storage Disks</span><span class="sxs-lookup"><span data-stu-id="fb358-232">Unlike the other VMs, this machine was provisioned according to the third-generation (v3) D Series Machines with Premium Storage Disks.</span></span> <span data-ttu-id="fb358-233">คุณสามารถหาข้อมูลโดยละเอียดเกี่ยวกับขนาดของ VM นี้ ภายใต้ส่วน [“วัตถุประสงค์ทั่วไป”](https://azure.microsoft.com/pricing/details/virtual-machines/windows/.)</span><span class="sxs-lookup"><span data-stu-id="fb358-233">You can find detailed information about this VM size under the ["General Purpose" section](https://azure.microsoft.com/pricing/details/virtual-machines/windows/.)</span></span>

| <span data-ttu-id="fb358-234">เครื่องเสมือน</span><span class="sxs-lookup"><span data-stu-id="fb358-234">Virtual Machine</span></span> | <span data-ttu-id="fb358-235">ตัวประมวลผล</span><span class="sxs-lookup"><span data-stu-id="fb358-235">Processor</span></span> | <span data-ttu-id="fb358-236">หน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="fb358-236">Memory</span></span> | <span data-ttu-id="fb358-237">ขนาด azure VM</span><span class="sxs-lookup"><span data-stu-id="fb358-237">Azure VM Size</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fb358-238">**เซิร์ฟเวอร์รายงาน BI power(เล็ก)**</span><span class="sxs-lookup"><span data-stu-id="fb358-238">**Power BI Report Server (Small)**</span></span> |<span data-ttu-id="fb358-239">8 Cores</span><span class="sxs-lookup"><span data-stu-id="fb358-239">8 Cores</span></span> |<span data-ttu-id="fb358-240">32 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-240">32 GB</span></span> |<span data-ttu-id="fb358-241">Standard_D8S_v3</span><span class="sxs-lookup"><span data-stu-id="fb358-241">Standard_D8S_v3</span></span> |
| <span data-ttu-id="fb358-242">**เซิร์ฟเวอร์รายงาน BI power(ใหญ่)**</span><span class="sxs-lookup"><span data-stu-id="fb358-242">**Power BI Report Server (Large)**</span></span> |<span data-ttu-id="fb358-243">16 Cores</span><span class="sxs-lookup"><span data-stu-id="fb358-243">16 Cores</span></span> |<span data-ttu-id="fb358-244">64 GB</span><span class="sxs-lookup"><span data-stu-id="fb358-244">64 GB</span></span> |<span data-ttu-id="fb358-245">vStandard_D16S_v3</span><span class="sxs-lookup"><span data-stu-id="fb358-245">vStandard_D16S_v3</span></span> |

### <a name="2-run-the-loadtest-tool"></a><span data-ttu-id="fb358-246">2 เรียกใช้เครื่องมือ LoadTest</span><span class="sxs-lookup"><span data-stu-id="fb358-246">2 Run the LoadTest tool</span></span>
<span data-ttu-id="fb358-247">ถ้าคุณต้องการเรียกใช้เครื่องมือReporting Services LoadTest กับ Microsoft Azure ของเซิร์ฟเวอร์รายงาน Power BI ของคุณ ให้ทำตามขั้นตอนเหล่านี้</span><span class="sxs-lookup"><span data-stu-id="fb358-247">If you'd like to run the Reporting Services LoadTest tool against your or a Microsoft Azure deployment of Power BI Report Server, follow these steps.</span></span>

1. <span data-ttu-id="fb358-248">โคลนโครงการ Reporting Services LoadTest จาก GitHub (https://github.com/Microsoft/Reporting-Services-LoadTest)</span><span class="sxs-lookup"><span data-stu-id="fb358-248">Clone the Reporting Services LoadTest project from GitHub (https://github.com/Microsoft/Reporting-Services-LoadTest).</span></span>  
2. <span data-ttu-id="fb358-249">ในไดเรกทอรีโครงการ คุณจะพบไฟล์โซลูชันที่เรียกว่า RSLoadTests.sln</span><span class="sxs-lookup"><span data-stu-id="fb358-249">In the project directory, you will find a solution file called RSLoadTests.sln.</span></span> <span data-ttu-id="fb358-250">เปิดไฟล์นี้ ในปี Visual Studio 2015 หรือใหม่กว่า</span><span class="sxs-lookup"><span data-stu-id="fb358-250">Open this file in Visual Studio 2015 or later.</span></span>
3. <span data-ttu-id="fb358-251">กำหนดว่าคุณต้องการเรียกใช้เครื่องมือนี้ กับการใชงาน้ของเซิร์ฟเวอร์รายงาน Power BI หรือกับเซิร์ฟเวอร์รายงานของ Power BI ใน Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="fb358-251">Determine whether you want to run this tool against your deployment of Power BI Report Server or against a deployment of Power BI Report Server in Microsoft Azure.</span></span> <span data-ttu-id="fb358-252">ถ้าคุณกำลังจะเรียกใช้กับการปรับใช้ของคุณเอง ไปที่ขั้นตอนที่ 5</span><span class="sxs-lookup"><span data-stu-id="fb358-252">If you are going to run it against your own deployment, go to step 5.</span></span>
4. <span data-ttu-id="fb358-253">ทำตามคำแนะนำที่แสดงอยู่บน https://github.com/Microsoft/Reporting-Services-LoadTest#create-a-sql-server-reporting-services-load-environment-in-azure เพื่อสร้างสภาพแวดล้อมเซิร์ฟเวอร์รายงาน Power BI ใน Azure</span><span class="sxs-lookup"><span data-stu-id="fb358-253">Follow the instructions listed on https://github.com/Microsoft/Reporting-Services-LoadTest#create-a-sql-server-reporting-services-load-environment-in-azure to create a Power BI Report Server environment in Azure.</span></span>
5. <span data-ttu-id="fb358-254">เมื่อคุณปรับใช้สภาพแวดล้อมเสร็จแล้ว ทำตามคำแนะนำที่แสดงอยู่ที่ https://github.com/Microsoft/Reporting-Services-LoadTest#load-test-execution เพื่อเรียกใช้การทดสอบ</span><span class="sxs-lookup"><span data-stu-id="fb358-254">Once you finish deploying the environment, follow the instructions listed on https://github.com/Microsoft/Reporting-Services-LoadTest#load-test-execution to run the tests.</span></span>

<span data-ttu-id="fb358-255">มีคำถามเพิ่มเติมหรือไม่</span><span class="sxs-lookup"><span data-stu-id="fb358-255">More questions?</span></span> [<span data-ttu-id="fb358-256">ลองถามชุมชน Power BI</span><span class="sxs-lookup"><span data-stu-id="fb358-256">Try asking the Power BI Community</span></span>](https://community.powerbi.com/)
