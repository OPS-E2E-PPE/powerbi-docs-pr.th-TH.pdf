---
title: รายงาน Power BI รีเฟรชตามกำหนดการในเซิร์ฟเวอร์รายงาน Power BI
description: การรีเฟรชตามกำหนดการสำหรับรายงาน Power BI ช่วยให้ข้อมูลสำหรับรายงานที่มีแบบจำลองฝังตัวเพื่อให้ทันสมัยอยู่เสมอ
author: maggiesMSFT
ms.author: maggies
ms.reviewer: kayu
ms.service: powerbi
ms.subservice: powerbi-report-server
ms.topic: conceptual
ms.date: 01/09/2020
ms.openlocfilehash: 4dd8914abe1f098b66d23daa299200b90b9bda6a
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96412586"
---
# <a name="power-bi-report-scheduled-refresh-in-power-bi-report-server"></a><span data-ttu-id="542b9-103">รายงาน Power BI รีเฟรชตามกำหนดการในเซิร์ฟเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="542b9-103">Power BI report scheduled refresh in Power BI Report Server</span></span>
<span data-ttu-id="542b9-104">การรีเฟรชตามกำหนดการสำหรับรายงาน Power BI จะช่วยให้ข้อมูลสำหรับรายงานได้รับการอัปเดตอยู่เสมอ</span><span class="sxs-lookup"><span data-stu-id="542b9-104">Scheduled refresh for Power BI reports allows the data for a report to stay up to date.</span></span>

![การรีเฟรชตามกำหนดการในเซิร์ฟเวอร์รายงาน Power BI](media/scheduled-refresh/scheduled-refresh-success.png)

<span data-ttu-id="542b9-106">การรีเฟรชตามกำหนดการจะใช้เฉพาะกับรายงาน Power BI ที่มีแบบจำลองที่ฝัง</span><span class="sxs-lookup"><span data-stu-id="542b9-106">Scheduled refresh is specific to Power BI reports with an embedded model.</span></span> <span data-ttu-id="542b9-107">ซึ่งหมายความว่า คุณนำเข้าข้อมูลลงในรายงานแทนการใช้การเชื่อมต่อแบบรายงานสดหรือ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="542b9-107">Meaning you imported data into the report instead of using a live connection or DirectQuery.</span></span> <span data-ttu-id="542b9-108">เมื่อนำเข้าข้อมูลของคุณ จซึ่งะไม่ได้เชื่อมต่อจากแหล่งข้อมูลต้นฉบับ และจำเป็นต้องอัปเดตเพื่อทำให้ข้อมูลใหม่อยู่เสมอ</span><span class="sxs-lookup"><span data-stu-id="542b9-108">When importing your data, it is disconnected from the original data source and needs to be updated to keep data fresh.</span></span> <span data-ttu-id="542b9-109">การรีเฟรชตามกำหนดการเป็นวิธีที่จะทำให้ข้อมูลของคุณอัปเดตอยู่เสมอ</span><span class="sxs-lookup"><span data-stu-id="542b9-109">Scheduled refresh is the way to keep your data up to date.</span></span>

<span data-ttu-id="542b9-110">การรีเฟรชตามกำหนดการได้รับการกำหนดค่าภายในส่วนการจัดการของรายงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-110">Scheduled refresh is configured within the management section of a report.</span></span> <span data-ttu-id="542b9-111">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการกำหนดค่าการรีเฟรชตามกำหนดการ ดูที่[วิธีการกำหนดค่าการรีเฟรชตามกำหนดการของรายงาน Power BI](configure-scheduled-refresh.md)</span><span class="sxs-lookup"><span data-stu-id="542b9-111">For more information on how to configure scheduled refresh, see [How to configure Power BI report scheduled refresh](configure-scheduled-refresh.md).</span></span>

## <a name="how-this-works"></a><span data-ttu-id="542b9-112">วิธีการทำงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-112">How this works</span></span>
<span data-ttu-id="542b9-113">มีส่วนประกอบมากมายที่เกี่ยวข้องเมื่อมีการใช้การรีเฟรชตามกำหนดการสำหรับรายงาน Power BI ของคุณ</span><span class="sxs-lookup"><span data-stu-id="542b9-113">Several components are involved when using scheduled refresh for your Power BI reports.</span></span>

* <span data-ttu-id="542b9-114">SQL Server Agent เป็นตัวจับเวลาการสร้างเหตุการณ์ตามกำหนดการ</span><span class="sxs-lookup"><span data-stu-id="542b9-114">SQL Server Agent as a timer to generate scheduled events.</span></span>
* <span data-ttu-id="542b9-115">งานที่กำหนดจะถูกเพิ่มลงในคิวของเหตุการณ์และการแจ้งเตือนในฐานข้อมูลเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-115">Scheduled jobs are added to a queue of events and notifications in the report server database.</span></span> <span data-ttu-id="542b9-116">ในการใช้งาน scale-out คิวจะได้รับการแชร์ทั่วทั้งเซิร์ฟเวอร์รายงานทั้งหมดในการใช้งาน</span><span class="sxs-lookup"><span data-stu-id="542b9-116">In a scale-out deployment, the queue is shared across all of the report servers in the deployment.</span></span>
* <span data-ttu-id="542b9-117">การประมวลผลรายงานทั้งหมดที่เกิดขึ้นเนื่องจากผลลัพธ์ของกำหนดการเหตุการณ์ทำหน้าที่เป็นกระบวนการพื้นหลัง</span><span class="sxs-lookup"><span data-stu-id="542b9-117">All report processing that occurs as a result of a schedule event is performed as a background process.</span></span>
* <span data-ttu-id="542b9-118">โหลดแบบจำลองข้อมูลภายในอินสแตนซ์ Analysis Services</span><span class="sxs-lookup"><span data-stu-id="542b9-118">The data model is loaded within an Analysis Services instance.</span></span>
* <span data-ttu-id="542b9-119">สำหรับบางแหล่งข้อมูล กลไกจัดการโต้ตอบกับผู้ใช้ Power Query ถูกใช้เพื่อเชื่อมต่อกับแหล่งข้อมูล และแปลงข้อมูล</span><span class="sxs-lookup"><span data-stu-id="542b9-119">For some data sources, the Power Query mashup engine is used to connect to data sources and transform the data.</span></span> <span data-ttu-id="542b9-120">แหล่งข้อมูลอื่นๆอาจเชื่อมต่อโดยตรงจากบริการ Analysis Services ที่ใช้สำหรับการโฮสต์แบบจำลองข้อมูลสำหรับเซิร์ฟเวอร์รายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="542b9-120">Other data sources may be connected to directly from an Analysis Services service used to host the data models for Power BI Report Server.</span></span>
* <span data-ttu-id="542b9-121">โหลดข้อมูลใหม่ลงในแบบจำลองข้อมูลภายใน Analysis Services</span><span class="sxs-lookup"><span data-stu-id="542b9-121">New data is loaded into the data model within Analysis Services.</span></span>
* <span data-ttu-id="542b9-122">ในการกำหนดค่าการขยายขนาดความจุ แบบจำลองข้อมูลสามารถทำซ้ำข้ามโหนดได้</span><span class="sxs-lookup"><span data-stu-id="542b9-122">In a scale-out configuration, the data model can be replicated across nodes.</span></span>
* <span data-ttu-id="542b9-123">Analysis Services ประมวลผลข้อมูล และดำเนินการการคำนวณที่จำเป็นต่างๆ</span><span class="sxs-lookup"><span data-stu-id="542b9-123">Analysis Services processes the data and executes any needed calculations.</span></span>

<span data-ttu-id="542b9-124">เซิร์ฟเวอร์รายงาน power BI จะรักษาคิวของเหตุการณ์สำหรับการดำเนินการที่กำหนดไว้ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="542b9-124">Power BI Report Server maintains an event queue for all scheduled operations.</span></span> <span data-ttu-id="542b9-125">ซึ่งจะทำการสำรวจคิวตามเวลาปกติเพื่อตรวจสอบเหตุการณ์ใหม่</span><span class="sxs-lookup"><span data-stu-id="542b9-125">It polls the queue at regular intervals to check for new events.</span></span> <span data-ttu-id="542b9-126">ตามค่าเริ่มต้น คิวจะได้รับการสแกนที่ช่วงเวลา 10 วินาที</span><span class="sxs-lookup"><span data-stu-id="542b9-126">By default, the queue is scanned at 10 second intervals.</span></span> <span data-ttu-id="542b9-127">คุณสามารถเปลี่ยนช่วงเวลาโดยการปรับเปลี่ยน **PollingInterval**, **IsNotificationService** และ **IsEventService** ตั้งค่าการกำหนดค่าในตัวไฟล์ RSReportServer.config</span><span class="sxs-lookup"><span data-stu-id="542b9-127">You can change the interval by modifying the **PollingInterval**, **IsNotificationService**, and **IsEventService** configuration settings in the RSReportServer.config file.</span></span> <span data-ttu-id="542b9-128">**IsDataModelRefreshService** ยังสามารถใช้เพื่อตั้งค่าว่ากระบวนการของเซิร์ฟเวอร์รายงานกำหนดเหตุการณ์ไว้หรือไม่</span><span class="sxs-lookup"><span data-stu-id="542b9-128">**IsDataModelRefreshService** can also be used to set whether a report server process scheduled events.</span></span>

### <a name="analysis-services"></a><span data-ttu-id="542b9-129">การบริการด้านการวิเคราะห์</span><span class="sxs-lookup"><span data-stu-id="542b9-129">Analysis Services</span></span>
<span data-ttu-id="542b9-130">สร้างรายงาน Power BI รวมถึงการดำเนินการรีเฟรชตามกำหนดการ จำเป็นต้องโหลดแบบจำลองข้อมูลของรายงาน Power BI ใน Analysis Services</span><span class="sxs-lookup"><span data-stu-id="542b9-130">Rendering a Power BI report, as well as performing a scheduled refresh, requires loading the Power BI report's data model in Analysis Services.</span></span> <span data-ttu-id="542b9-131">กระบวนการ Analysis Services จะทำงานร่วมกับเซิร์ฟเวอร์รายงาน Power BI Report</span><span class="sxs-lookup"><span data-stu-id="542b9-131">An Analysis Services process will be running with Power BI Report Server.</span></span>

## <a name="considerations-and-limitations"></a><span data-ttu-id="542b9-132">ข้อควรพิจารณาและข้อจำกัด</span><span class="sxs-lookup"><span data-stu-id="542b9-132">Considerations and limitations</span></span>
### <a name="when-scheduled-refresh-cant-be-used"></a><span data-ttu-id="542b9-133">เมื่อไม่สามารถใช้การรีเฟรชตามกำหนดการ</span><span class="sxs-lookup"><span data-stu-id="542b9-133">When scheduled refresh can't be used</span></span>
<span data-ttu-id="542b9-134">รายงาน Power BI ทั้งหมดไม่สามารถมีแผนการรีเฟรชตามกำหนดการที่ถูกสร้างขึ้นบนรายงานเหล่านั้น</span><span class="sxs-lookup"><span data-stu-id="542b9-134">Not all Power BI Reports can have a scheduled refresh plan created on them.</span></span> <span data-ttu-id="542b9-135">รายการต่อไปนี้คือรายงาน Power BI ที่คุณไม่สามารถสร้างแผนการรีเฟรชตามกำหนดการได้</span><span class="sxs-lookup"><span data-stu-id="542b9-135">The following is a list of Power BI Reports that you Can't create a scheduled refresh plan.</span></span>

* <span data-ttu-id="542b9-136">รายงานของคุณประกอบด้วยแหล่งข้อมูล Analysis Services อย่างน้อยหนึ่งแหล่งที่ใช้การเชื่อมต่อแบบรายงานสด</span><span class="sxs-lookup"><span data-stu-id="542b9-136">Your report contains one or more Analysis Services data sources, which use a live connection.</span></span>
* <span data-ttu-id="542b9-137">รายงานของคุณประกอบด้วยแหล่งข้อมูลอย่างน้อยหนึ่งแหล่งที่ใช้ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="542b9-137">Your report contains one or more data sources, which use DirectQuery.</span></span>
* <span data-ttu-id="542b9-138">รายงานของคุณไม่มีแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="542b9-138">Your report does not contain any data source.</span></span> <span data-ttu-id="542b9-139">ตัวอย่างเช่น ข้อมูลที่ป้อนด้วยตนเองผ่านทาง *ป้อนข้อมูล* หรือรายงานมีเนื้อหาแบบค่าคงที่เท่านั้น เช่น รูปภาพ ข้อความ และอื่นๆ</span><span class="sxs-lookup"><span data-stu-id="542b9-139">For example, data is manually entered via *Enter Data* or a report contains only static content like images, text, etc.</span></span>

<span data-ttu-id="542b9-140">นอกเหนือจากรายการด้านบน ยังมีสถานการณ์เฉพาะที่มีแหล่งข้อมูลในโหมด *นำเข้า* ที่คุณไม่สามารถสร้างแผนการรีเฟรชได้</span><span class="sxs-lookup"><span data-stu-id="542b9-140">In addition to the above list, there are specific scenarios with data sources in *import* mode, for which you cannot create refresh plans.</span></span>

* <span data-ttu-id="542b9-141">ถ้าแหล่งข้อมูล *ไฟล์* หรือ *โฟลเดอร์* ถูกใช้และเส้นทางของไฟล์เป็นเส้นทางท้องถิ่น (เช่น C:\Users\user\Documents), แผนการรีเฟรชจะไม่สามารถสร้างได้</span><span class="sxs-lookup"><span data-stu-id="542b9-141">If a *File* or *Folder* data source is used and the file path is a local path (e.g. C:\Users\user\Documents), then a refresh plan cannot be created.</span></span> <span data-ttu-id="542b9-142">เส้นทางจะต้องเป็นเส้นทางที่เซิร์ฟเวอร์รายงานสามารถเชื่อมต่อเหมือนกับการแชร์เครือข่าย</span><span class="sxs-lookup"><span data-stu-id="542b9-142">The path must be a path the report server can connect to like a network share.</span></span> <span data-ttu-id="542b9-143">ตัวอย่างเช่น *\\myshare\Documents*</span><span class="sxs-lookup"><span data-stu-id="542b9-143">For example, *\\myshare\Documents*.</span></span>
* <span data-ttu-id="542b9-144">ถ้าแหล่งข้อมูลสามารถเชื่อมต่อโดยใช้เฉพาะ OAuth (ตัวอย่างเช่น Facebook, Google Analytics, Salesforce และอื่นๆ), แผนการรีเฟรช cache จะไม่สามารถสร้างได้</span><span class="sxs-lookup"><span data-stu-id="542b9-144">If data source can be connected using only OAuth (e.g. Facebook, Google Analytics, Salesforce, etc.), then cache refresh plan cannot be created.</span></span> <span data-ttu-id="542b9-145">ในขณะนี้ RS ไม่สนับสนุนการรับรองความถูกต้อง OAuth สำหรับแหล่งข้อมูลใดๆ ไม่ว่าจะเป็นสำหรับแบ่งหน้า เคลื่อนที่ หรือรายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="542b9-145">At the moment, RS does not support OAuth authentication for any data source whether it is for paginated, mobile or Power BI reports.</span></span>

### <a name="memory-limits"></a><span data-ttu-id="542b9-146">ขีดจำกัดหน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="542b9-146">Memory limits</span></span>
<span data-ttu-id="542b9-147">ปริมาณงานแบบดั้งเดิมสำหรับเซิร์ฟเวอร์รายงานเหมือนกับเว็บแอปพลิเคชัน</span><span class="sxs-lookup"><span data-stu-id="542b9-147">Traditional workload for a report server has been similar to a web application.</span></span> <span data-ttu-id="542b9-148">ความสามารถในการอัปโหลดรายงานที่มีข้อมูลที่นำเข้า หรือ DirectQuery และความสามารถในการดำเนินการรีเฟรชตามกำหนดการ ขึ้นอยู่กับอินสแตนซ์ Analysis Services ที่ถูกโฮสต์ควบคู่ไปกับเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-148">The ability to load reports with imported data or DirectQuery, and the ability to perform scheduled refresh, rely on an Analysis Services instance being hosted alongside of the report server.</span></span> <span data-ttu-id="542b9-149">จากผลที่ได้อาจทำให้เกิดความดันหน่วยความจำที่ไม่คาดคิดบนเซิร์ฟเวอร์</span><span class="sxs-lookup"><span data-stu-id="542b9-149">As a result, this could result is unexpected memory pressure on the server.</span></span> <span data-ttu-id="542b9-150">วางแผนการใช้งานเซิร์ฟเวอร์ของคุณให้สอดคล้องกับ Analysis Services ที่อาจจะสามารถใช้หน่วยความจำควบคู่ไปกับเซิร์ฟเวอร์รายงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-150">Plan your server deployment accordingly knowning that Analysis Services may be consuming memory alongside the report server.</span></span>

<span data-ttu-id="542b9-151">สำหรับข้อมูลเกี่ยวกับวิธีการตรวจสอบอินสแตนซ์ Analysis Services ดู[ตรวจสอบอินสแตนซ์ Analysis Services](/sql/analysis-services/instances/monitor-an-analysis-services-instance)</span><span class="sxs-lookup"><span data-stu-id="542b9-151">For information on how to monitor an Analysis Services instance, see [Monitor an Analysis Services Instance](/sql/analysis-services/instances/monitor-an-analysis-services-instance).</span></span>

<span data-ttu-id="542b9-152">สำหรับข้อมูลเกี่ยวกับการตั้งค่าหน่วยความจำภายใน Analysis Services ดู[คุณสมบัติหน่วยความจำ](/sql/analysis-services/server-properties/memory-properties)</span><span class="sxs-lookup"><span data-stu-id="542b9-152">For information about memory settings within Analysis Services, see [Memory Properties](/sql/analysis-services/server-properties/memory-properties).</span></span>

### <a name="data-model-size-limit"></a><span data-ttu-id="542b9-153">ขีดจำกัดขนาดของแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="542b9-153">Data model size limit</span></span>
<span data-ttu-id="542b9-154">แบบจำลองข้อมูลที่โหลดลงในกลไก Analysis Services ภายในระหว่างการรีเฟรชตามกำหนดการมีขนาดสูงสุด 2,000 MB (2GB)</span><span class="sxs-lookup"><span data-stu-id="542b9-154">The data model loaded into the internal Analysis Services engine during a scheduled refresh has a maximum size of 2,000 MB (2GB).</span></span> <span data-ttu-id="542b9-155">ซึ่งคุณไม่สามารถกำหนดค่าขนาดสูงสุดนี้ได้</span><span class="sxs-lookup"><span data-stu-id="542b9-155">This maximum size can't be configured.</span></span> <span data-ttu-id="542b9-156">ถ้าแบบจำลองข้อมูลของคุณขยายขนาดใหญ่กว่า 2GB คุณจะได้รับข้อผิดพลาดการรีเฟรชเป็น "ความยาวของผลลัพธ์เกินขีดจำกัดความยาว (2GB) ของประเภทเป้าหมายขนาดใหญ่"</span><span class="sxs-lookup"><span data-stu-id="542b9-156">If your data model grows larger than 2GB, you will receive the refresh error, "The length of the result exceeds the length limit (2GB) of the target large type."</span></span> <span data-ttu-id="542b9-157">ในกรณีนี้ เราขอแนะนำให้โฮสต์แบบจำลองในอินสแตนซ์ Analysis Services และใช้การเชื่อมต่อแบบสดกับแบบจำลองในรายงาน</span><span class="sxs-lookup"><span data-stu-id="542b9-157">In that case, we recommend hosting the model in an Analysis Services instance and using a live connection to the model in the report.</span></span>

## <a name="next-steps"></a><span data-ttu-id="542b9-158">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="542b9-158">Next steps</span></span>
<span data-ttu-id="542b9-159">กำหนดค่า[การรีเฟรชตามกำหนดการ](configure-scheduled-refresh.md)ในรายงาน Power BI</span><span class="sxs-lookup"><span data-stu-id="542b9-159">Configure [scheduled refresh](configure-scheduled-refresh.md) on a Power BI report.</span></span>

<span data-ttu-id="542b9-160">มีคำถามเพิ่มเติมหรือไม่</span><span class="sxs-lookup"><span data-stu-id="542b9-160">More questions?</span></span> [<span data-ttu-id="542b9-161">ลองถามชุมชน Power BI</span><span class="sxs-lookup"><span data-stu-id="542b9-161">Try asking the Power BI Community</span></span>](https://community.powerbi.com/)