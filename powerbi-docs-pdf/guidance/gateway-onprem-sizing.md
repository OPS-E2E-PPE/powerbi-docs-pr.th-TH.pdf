---
title: ขนาดเกตเวย์ข้อมูลภายในองค์กร
description: คำแนะนำสำหรับการทำงานในการปรับขนาดเกตเวย์ข้อมูลภายในองค์กร
author: peter-myers
ms.author: v-pemyer
ms.reviewer: asaxton
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 12/30/2019
ms.openlocfilehash: c0506b492a0c28140256dc0be850358836b284b0
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96419429"
---
# <a name="on-premises-data-gateway-sizing"></a><span data-ttu-id="70771-103">ขนาดเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="70771-103">On-premises data gateway sizing</span></span>

<span data-ttu-id="70771-104">บทความนี้มุ่งเป้าที่ผู้ดูแลระบบ Power BI ที่จำเป็นต้องติดตั้งและจัดการ [เกตเวย์ข้อมูลภายในองค์กร](../connect-data/service-gateway-onprem.md)</span><span class="sxs-lookup"><span data-stu-id="70771-104">This article targets Power BI administrators who need to install and manage the [on-premises data gateway](../connect-data/service-gateway-onprem.md).</span></span>

<span data-ttu-id="70771-105">จำเป็นต้องใช้เกตเวย์เมื่อ Power BI ต้องเข้าถึงข้อมูลที่ไม่สามารถใช้งานได้โดยตรงผ่านทางอินเทอร์เน็ต</span><span class="sxs-lookup"><span data-stu-id="70771-105">The gateway is required whenever Power BI must access data that isn't accessible directly over the Internet.</span></span> <span data-ttu-id="70771-106">สามารถติดตั้งได้บนเซิร์ฟเวอร์ภายในองค์กรหรือ VM-hosted Infrastructure-as-a-Service (IaaS)</span><span class="sxs-lookup"><span data-stu-id="70771-106">It can be installed on a server on-premises, or VM-hosted Infrastructure-as-a-Service (IaaS).</span></span>

## <a name="gateway-workloads"></a><span data-ttu-id="70771-107">ปริมาณงานเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="70771-107">Gateway workloads</span></span>

<span data-ttu-id="70771-108">เกตเวย์ข้อมูลภายในองค์กรรองรับได้สองปริมาณงาน</span><span class="sxs-lookup"><span data-stu-id="70771-108">The on-premises data gateway supports two workloads.</span></span> <span data-ttu-id="70771-109">เป็นสิ่งสำคัญที่คุณต้องทำความเข้าใจปริมาณงานเหล่านี้ก่อนที่เราจะพูดคุยเกี่ยวกับการปรับขนาดเกตเวย์และคำแนะนำ</span><span class="sxs-lookup"><span data-stu-id="70771-109">It's important you first understand these workloads before we discuss gateway sizing and recommendations.</span></span>

### <a name="cached-data-workload"></a><span data-ttu-id="70771-110">ปริมาณงานข้อมูลที่แคช</span><span class="sxs-lookup"><span data-stu-id="70771-110">Cached data workload</span></span>

<span data-ttu-id="70771-111">ปริมาณงาน _ข้อมูลที่แคชไว้_ ดึงและแปลงแหล่งข้อมูลต้นฉบับสำหรับการโหลดลงในชุดข้อมูล Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-111">The _Cached data_ workload retrieves and transforms source data for loading into Power BI datasets.</span></span> <span data-ttu-id="70771-112">สามารถทำได้ในสามขั้นตอน:</span><span class="sxs-lookup"><span data-stu-id="70771-112">It does so in three steps:</span></span>

1. <span data-ttu-id="70771-113">**การเชื่อมต่อ**: เกตเวย์เชื่อมต่อกับข้อมูลต้นทาง</span><span class="sxs-lookup"><span data-stu-id="70771-113">**Connection**: The gateway connects to source data</span></span>
1. <span data-ttu-id="70771-114">**การเรียกและการแปลงข้อมูล**: ข้อมูลจะถูกเรียกใช้ และเมื่อจำเป็น จะถูกแปลง</span><span class="sxs-lookup"><span data-stu-id="70771-114">**Data retrieval and transformation**: Data is retrieved, and when necessary, transformed.</span></span> <span data-ttu-id="70771-115">เมื่อใดก็ตามที่เป็นไปได้ Power Query mashup engine จะส่งขั้นตอนการแปลงไปยังแหล่งข้อมูล - ซึ่งเรียกว่า _[การพับคิวรี](power-query-folding.md)_</span><span class="sxs-lookup"><span data-stu-id="70771-115">Whenever possible, the Power Query mashup engine pushes transformation steps to the data source—it's known as _[query folding](power-query-folding.md)_.</span></span> <span data-ttu-id="70771-116">เมื่อไม่สามารถทำได้ การแปลงจะต้องทำโดยเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="70771-116">When it's not possible, transformations must be done by the gateway.</span></span> <span data-ttu-id="70771-117">ในกรณีนี้ เกตเวย์จะใช้ทรัพยากร CPU และหน่วยความจำมากขึ้น</span><span class="sxs-lookup"><span data-stu-id="70771-117">In this case, the gateway will consume more CPU and memory resources.</span></span>
1. <span data-ttu-id="70771-118">**ถ่ายโอน**: ข้อมูลถูกถ่ายโอนไปยังบริการของ Power BI —การเชื่อมต่ออินเทอร์เน็ตที่เชื่อถือได้และรวดเร็วเป็นสิ่งสำคัญโดยเฉพาะอย่างยิ่งสำหรับจำนวนข้อมูลขนาดใหญ่</span><span class="sxs-lookup"><span data-stu-id="70771-118">**Transfer**: Data is transferred to the Power BI service—a reliable and fast Internet connection is important, especially for large data volumes</span></span>

![แผนผังของข้อมูลแคช ที่แสดงเกตเวย์ข้อมูลภายในองค์กรที่เชื่อมต่อกับแหล่งที่มาภายในองค์กร:](media/gateway-onprem-sizing/gateway-onprem-workload-cached-data.png)

### <a name="live-connection-and-directquery-workloads"></a><span data-ttu-id="70771-120">ปริมาณงานการเชื่อมต่อสดและ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="70771-120">Live Connection and DirectQuery workloads</span></span>

<span data-ttu-id="70771-121">ปริมาณงาน _การเชื่อมต่อสดและ DirectQuery_ ส่วนใหญ่จะทำงานในโหมดพาส-ทรู</span><span class="sxs-lookup"><span data-stu-id="70771-121">The _Live Connection and DirectQuery_ workload works mostly in pass-through mode.</span></span> <span data-ttu-id="70771-122">บริการของ Power BI ส่งคิวรีและตอบสนองของเกตเวย์ด้วยผลลัพธ์คิวรี</span><span class="sxs-lookup"><span data-stu-id="70771-122">The Power BI service sends queries, and the gateway responds with query results.</span></span> <span data-ttu-id="70771-123">โดยทั่วไป ผลลัพธ์คิวรีมีขนาดเล็ก</span><span class="sxs-lookup"><span data-stu-id="70771-123">Generally, query results are small in size.</span></span>

- <span data-ttu-id="70771-124">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการเชื่อมต่อสด ดู [ชุดข้อมูลในบริการของ Power BI (แบบจำลองข้อมูลที่โฮสต์ภายนอก)](../connect-data/service-datasets-understand.md#external-hosted-models)</span><span class="sxs-lookup"><span data-stu-id="70771-124">For more information about Live Connection, see [Datasets in the Power BI service (Externally-hosted models)](../connect-data/service-datasets-understand.md#external-hosted-models).</span></span>
- <span data-ttu-id="70771-125">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับ DirectQuery ดู [โหมดชุดข้อมูลในบริการของ Power BI (โหมด DirectQuery)](../connect-data/service-dataset-modes-understand.md#directquery-mode)</span><span class="sxs-lookup"><span data-stu-id="70771-125">For more information about DirectQuery, see [Dataset modes in the Power BI service (DirectQuery mode)](../connect-data/service-dataset-modes-understand.md#directquery-mode).</span></span>

<span data-ttu-id="70771-126">ปริมาณงานนี้จำเป็นต้องมีทรัพยากรของ CPU สำหรับคิวรีของเส้นทางและผลลัพธ์คิวรี</span><span class="sxs-lookup"><span data-stu-id="70771-126">This workload requires CPU resources for routing queries and query results.</span></span> <span data-ttu-id="70771-127">โดยปกติแล้วจะมีความต้องการ CPU น้อยกว่าปริมาณการแคชข้อมูลที่จำเป็น โดยเฉพาะอย่างยิ่งเมื่อจำเป็นต้องแปลงข้อมูลสำหรับการแคช</span><span class="sxs-lookup"><span data-stu-id="70771-127">Usually there's much less demand for CPU than is required by the Cache data workload—especially when it's required to transform data for caching.</span></span>

<span data-ttu-id="70771-128">การเชื่อมต่อที่เชื่อถือได้ รวดเร็ว และสม่ำเสมอ เป็นสิ่งสำคัญที่ต้องตรวจสอบให้แน่ใจว่าผู้ใช้รายงานมีประสบการณ์ตอบสนองในลักษณะนี้</span><span class="sxs-lookup"><span data-stu-id="70771-128">Reliable, fast, and consistent connectivity is important to ensure report users have responsive experiences.</span></span>

![แผนผังของ การเชื่อมต่อสดและ DirectQuery ที่แสดงเกตเวย์ข้อมูลภายในองค์กรที่เชื่อมต่อกับแหล่งที่มาภายในองค์กร:](media/gateway-onprem-sizing/gateway-onprem-workload-liveconnection-directquery.png)

## <a name="sizing-considerations"></a><span data-ttu-id="70771-130">ข้อควรพิจารณาเกี่ยวกับการปรับขนาด</span><span class="sxs-lookup"><span data-stu-id="70771-130">Sizing considerations</span></span>

<span data-ttu-id="70771-131">การกำหนดขนาดที่ถูกต้องสำหรับเครื่องเกตเวย์ของคุณอาจขึ้นอยู่กับตัวแปรดังต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="70771-131">Determining the correct sizing for your gateway machine can depend on the following variables:</span></span>

- <span data-ttu-id="70771-132">สำหรับปริมาณงานของข้อมูลแคช:</span><span class="sxs-lookup"><span data-stu-id="70771-132">For Cache data workloads:</span></span>
  - <span data-ttu-id="70771-133">จำนวนการรีเฟรชชุดข้อมูลพร้อมกัน</span><span class="sxs-lookup"><span data-stu-id="70771-133">The number of concurrent dataset refreshes</span></span>
  - <span data-ttu-id="70771-134">ชนิดของแหล่งข้อมูล (ฐานข้อมูลเชิงสัมพันธ์ ฐานข้อมูลการวิเคราะห์ ฟีดข้อมูล หรือไฟล์)</span><span class="sxs-lookup"><span data-stu-id="70771-134">The types of data sources (relational database, analytic database, data feeds, or files)</span></span>
  - <span data-ttu-id="70771-135">ปริมาณข้อมูลที่จะเรียกใช้จากแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="70771-135">The volume of data to be retrieved from data sources</span></span>
  - <span data-ttu-id="70771-136">การแปลงใดๆ ที่จำเป็นต้องทำโดย Power Query mashup engine</span><span class="sxs-lookup"><span data-stu-id="70771-136">Any transformations required to be done by the Power Query mashup engine</span></span>
  - <span data-ttu-id="70771-137">ปริมาณของข้อมูลที่จะถ่ายโอนไปยังบริการของ Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-137">The volume of data to be transferred to the Power BI service</span></span>
- <span data-ttu-id="70771-138">สำหรับปริมาณงานการเชื่อมต่อสดและ DirectQuery:</span><span class="sxs-lookup"><span data-stu-id="70771-138">For Live Connection and DirectQuery workloads:</span></span>
  - <span data-ttu-id="70771-139">จำนวนผู้ใช้รายงานที่เกิดขึ้นพร้อมกัน</span><span class="sxs-lookup"><span data-stu-id="70771-139">The number of concurrent report users</span></span>
  - <span data-ttu-id="70771-140">จำนวนการแสดงผลด้วยภาพบนหน้ารายงาน (แต่ละวิชวลจะส่งอย่างน้อยหนึ่งคิวรี)</span><span class="sxs-lookup"><span data-stu-id="70771-140">The number of visuals on report pages (each visual sends at least one query)</span></span>
  - <span data-ttu-id="70771-141">ความถี่ของการอัปเดตแคชคิวรีของแดชบอร์ด Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-141">The frequency of Power BI dashboard query cache updates</span></span>
  - <span data-ttu-id="70771-142">จำนวนรายงานแบบเรียลไทม์ใช้คุณลักษณะ[การรีเฟรชหน้าโดยอัตโนมัติ](../create-reports/desktop-automatic-page-refresh.md)</span><span class="sxs-lookup"><span data-stu-id="70771-142">The number of real-time reports using the [Automatic page refresh](../create-reports/desktop-automatic-page-refresh.md) feature</span></span>
  - <span data-ttu-id="70771-143">ไม่ว่าชุดข้อมูลจะบังคับใช้ [การรักษาความปลอดภัยระดับแถว (RLS)](../create-reports/desktop-rls.md) หรือไม่</span><span class="sxs-lookup"><span data-stu-id="70771-143">Whether datasets enforce [Row-level Security (RLS)](../create-reports/desktop-rls.md)</span></span>

<span data-ttu-id="70771-144">โดยทั่วไป แล้วปริมาณงานการเชื่อมต่อสดและ DirectQuery จำเป็นต้องมี CPU เพียงพอ ในขณะที่ปริมาณงานแคชข้อมูลจำเป็นต้องใช้ CPU และหน่วยความจำมากขึ้น</span><span class="sxs-lookup"><span data-stu-id="70771-144">Generally, Live Connection and DirectQuery workloads require sufficient CPU, while Cache data workloads require more CPU and memory.</span></span> <span data-ttu-id="70771-145">ปริมาณงานทั้งสองขึ้นอยู่กับการเชื่อมต่อที่ดีกับบริการของ Power BI และแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="70771-145">Both workloads depend on good connectivity with the Power BI service, and the data sources.</span></span>

> [!NOTE]
> <span data-ttu-id="70771-146">ความจุ Power BI กำหนดขีดจำกัดในการรีเฟรชแบบจำลองแบบขนาน และอัตราความเร็วการเชื่อมต่อสดและ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="70771-146">Power BI capacities impose limits on model refresh parallelism, and Live Connection and DirectQuery throughput.</span></span> <span data-ttu-id="70771-147">การปรับขนาดของเกตเวย์ของคุณเพื่อส่งข้อมูลมากกว่าที่บริการของ Power BI สนับสนุนไม่ได้ส่งผลใดๆ เกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="70771-147">There's no point sizing your gateways to deliver more than what the Power BI service supports.</span></span> <span data-ttu-id="70771-148">ขีดจำกัดมีความแตกต่างตาม Premium SKU (และ SKU ที่มีขนาดเท่ากัน)</span><span class="sxs-lookup"><span data-stu-id="70771-148">Limits differ by Premium SKU (and equivalently sized A SKU).</span></span> <span data-ttu-id="70771-149">สำหรับข้อมูลเพิ่มเติม ให้ดู [Power BI Premium คืออะไร (โหนดความจุ)](../admin/service-premium-what-is.md#capacity-nodes)</span><span class="sxs-lookup"><span data-stu-id="70771-149">For more information, see [What is Power BI Premium? (Capacity nodes)](../admin/service-premium-what-is.md#capacity-nodes).</span></span>

## <a name="recommendations"></a><span data-ttu-id="70771-150">คำแนะนำ</span><span class="sxs-lookup"><span data-stu-id="70771-150">Recommendations</span></span>

<span data-ttu-id="70771-151">คำแนะนำในการปรับขนาดเกตเวย์ขึ้นอยู่กับตัวแปรจำนวนมาก</span><span class="sxs-lookup"><span data-stu-id="70771-151">Gateway sizing recommendations depend on many variables.</span></span> <span data-ttu-id="70771-152">ในส่วนนี้ เราจะให้คำแนะนำทั่วไปที่คุณสามารถนำไปพิจารณาดูได้</span><span class="sxs-lookup"><span data-stu-id="70771-152">In this section, we provide you with general recommendations that you can take into consideration.</span></span>

### <a name="initial-sizing"></a><span data-ttu-id="70771-153">การปรับขนาดเริ่มต้น</span><span class="sxs-lookup"><span data-stu-id="70771-153">Initial sizing</span></span>

<span data-ttu-id="70771-154">อาจเป็นเรื่องยากที่จะประเมินขนาดที่ถูกต้องได้อย่างแม่นยำ</span><span class="sxs-lookup"><span data-stu-id="70771-154">It can be difficult to accurately estimate the right size.</span></span> <span data-ttu-id="70771-155">เราขอแนะนำให้คุณเริ่มต้นด้วยเครื่องที่มีแกน CPU อย่างน้อย 8 คอร์ RAM 8 GB และอะแดปเตอร์เครือข่ายหลายจิกะบิต</span><span class="sxs-lookup"><span data-stu-id="70771-155">We recommend that you start with a machine with at least 8 CPU cores, 8 GB of RAM, and multiple Gigabit network adapters.</span></span> <span data-ttu-id="70771-156">จากนั้นคุณสามารถวัดปริมาณงานเกตเวย์ทั่วไปได้โดยการบันทึกตัวนับของ CPU และหน่วยความจำระบบ</span><span class="sxs-lookup"><span data-stu-id="70771-156">You can then measure a typical gateway workload by logging CPU and memory system counters.</span></span> <span data-ttu-id="70771-157">สำหรับข้อมูลเพิ่มเติม ดูที่ [การตรวจสอบและปรับประสิทธิภาพการทำงานของเกตเวย์ข้อมูลภายในองค์กรให้เหมาะสม](/data-integration/gateway/service-gateway-performance)</span><span class="sxs-lookup"><span data-stu-id="70771-157">For more information, see [Monitor and optimize on-premises data gateway performance](/data-integration/gateway/service-gateway-performance).</span></span>

### <a name="connectivity"></a><span data-ttu-id="70771-158">การเชื่อมต่อ</span><span class="sxs-lookup"><span data-stu-id="70771-158">Connectivity</span></span>

<span data-ttu-id="70771-159">วางแผนสำหรับการเชื่อมต่อที่ดีที่สุดที่เป็นไปได้ระหว่างบริการของ Power BI กับเกตเวย์ของคุณ และเกตเวย์ของคุณกับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="70771-159">Plan for the best possible connectivity between the Power BI service and your gateway, and your gateway and the data sources.</span></span>

- <span data-ttu-id="70771-160">มุ่งมั่นเพื่อความน่าเชื่อถือ ความรวดเร็ว และเวลาในการตอบสนองที่ต่ำและสม่ำเสมอ</span><span class="sxs-lookup"><span data-stu-id="70771-160">Strive for reliability, fast speeds, and low, consistent latencies</span></span>
- <span data-ttu-id="70771-161">กำจัด - หรือลด - การกระโดดของเครื่องระหว่างเกตเวย์และแหล่งข้อมูลของคุณ</span><span class="sxs-lookup"><span data-stu-id="70771-161">Eliminate—or reduce—machine hops between the gateway and your data sources</span></span>
- <span data-ttu-id="70771-162">ลบการควบคุมเครือข่ายใดๆ ที่กำหนดโดยเลเยอร์พร็อกซีไฟร์วอลล์ของคุณ</span><span class="sxs-lookup"><span data-stu-id="70771-162">Remove any network throttling imposed by your firewall proxy layer.</span></span> <span data-ttu-id="70771-163">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับตำแหน่งข้อมูล Power BI ดูที่ [เพิ่ม URL Power BI ในรายการอนุญาตของคุณ](../admin/power-bi-whitelist-urls.md)</span><span class="sxs-lookup"><span data-stu-id="70771-163">For more information about Power BI endpoints, see [Add Power BI URLs to your allow list](../admin/power-bi-whitelist-urls.md).</span></span>
- <span data-ttu-id="70771-164">กำหนดค่า [Azure ExpressRoute](/azure/expressroute/expressroute-introduction) เพื่อสร้างการเชื่อมต่อส่วนตัวที่มีการจัดการไปยัง Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-164">Configure [Azure ExpressRoute](/azure/expressroute/expressroute-introduction) to establish private, managed connections to Power BI</span></span>
- <span data-ttu-id="70771-165">สำหรับแหล่งข้อมูลใน Azure VMs ตรวจสอบให้แน่ใจว่า VMs [colocate กับบริการของ Power BI](../admin/service-admin-where-is-my-tenant-located.md)</span><span class="sxs-lookup"><span data-stu-id="70771-165">For data sources in Azure VMs, ensure the VMs are [colocated with the Power BI service](../admin/service-admin-where-is-my-tenant-located.md)</span></span>
- <span data-ttu-id="70771-166">สำหรับปริมาณงานการเชื่อมต่อสดไปยัง SQL Server Analysis Services (SSAS) ที่เกี่ยวข้องกับ RLS แบบไดนามิก ตรวจสอบให้แน่ใจว่ามีการเชื่อมต่อที่ดีระหว่างเครื่องเกตเวย์และ Active Directory ภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="70771-166">For Live Connection workloads to SQL Server Analysis Services (SSAS) involving dynamic RLS, ensure good connectivity between the gateway machine and the on-premises Active Directory</span></span>

### <a name="clustering"></a><span data-ttu-id="70771-167">การทำคลัสเตอร์</span><span class="sxs-lookup"><span data-stu-id="70771-167">Clustering</span></span>

<span data-ttu-id="70771-168">สำหรับการปรับใช้งานขนาดใหญ่ คุณสามารถสร้างเกตเวย์ของการติดตั้งคลัสเตอร์ได้</span><span class="sxs-lookup"><span data-stu-id="70771-168">For large-scale deployments, you can create a gateway of cluster installations.</span></span> <span data-ttu-id="70771-169">คลัสเตอร์หลีกเลี่ยงจุดเดียวของความล้มเหลว และสามารถโหลดการรับส่งข้อมูลสมดุลข้ามเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="70771-169">Clusters avoid single points of failure, and can load balance traffic across gateways.</span></span> <span data-ttu-id="70771-170">คุณสามารถ:</span><span class="sxs-lookup"><span data-stu-id="70771-170">You can:</span></span>

- <span data-ttu-id="70771-171">ติดตั้งเกตเวย์หนึ่งรายการหรือมากกว่าได้ในคลัสเตอร์</span><span class="sxs-lookup"><span data-stu-id="70771-171">Install one or more gateways in a cluster</span></span>
- <span data-ttu-id="70771-172">แยกปริมาณงานไปยังเกตเวย์แบบสแตนด์อโลน หรือคลัสเตอร์ของเซิร์ฟเวอร์เกตเวย์ได้</span><span class="sxs-lookup"><span data-stu-id="70771-172">Isolate workloads to standalone gateways, or clusters of gateway servers</span></span>

<span data-ttu-id="70771-173">สำหรับข้อมูลเพิ่มเติม ดู [การจัดการคลัสเตอร์เกตเวย์ข้อมูลภายในองค์กรที่มีความพร้อมใช้งานสูงและการปรับสมดุลการโหลด](/data-integration/gateway/service-gateway-high-availability-clusters)</span><span class="sxs-lookup"><span data-stu-id="70771-173">For more information, see [Manage on-premises data gateway high-availability clusters and load balancing](/data-integration/gateway/service-gateway-high-availability-clusters).</span></span>

### <a name="dataset-design-and-settings"></a><span data-ttu-id="70771-174">การออกแบบชุดข้อมูลและการตั้งค่า</span><span class="sxs-lookup"><span data-stu-id="70771-174">Dataset design and settings</span></span>

<span data-ttu-id="70771-175">การออกแบบชุดข้อมูลและการตั้งค่าอาจส่งผลต่อปริมาณงานเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="70771-175">Dataset design, and their settings, can impact on gateway workloads.</span></span> <span data-ttu-id="70771-176">หากต้องการลดปริมาณงานเกตเวย์ คุณสามารถพิจารณาการดำเนินการต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="70771-176">To reduce gateway workload, you can consider the following actions.</span></span>

<span data-ttu-id="70771-177">สำหรับชุดข้อมูลที่นำเข้า:</span><span class="sxs-lookup"><span data-stu-id="70771-177">For Import datasets:</span></span>

- <span data-ttu-id="70771-178">กำหนดค่าการรีเฟรชข้อมูลน้อยลง</span><span class="sxs-lookup"><span data-stu-id="70771-178">Configure less frequent data refresh</span></span>
- <span data-ttu-id="70771-179">กำหนดค่า [การรีเฟรชแบบเพิ่มทีละส่วน](../admin/service-premium-incremental-refresh.md) เพื่อลดจำนวนข้อมูลที่จะถ่ายโอน</span><span class="sxs-lookup"><span data-stu-id="70771-179">Configure [incremental refresh](../admin/service-premium-incremental-refresh.md) to minimize the amount of data to transfer</span></span>
- <span data-ttu-id="70771-180">เมื่อใดที่เป็นไปได้ ตรวจสอบแน่ใจว่ามี [การพับคิวรี](power-query-folding.md)เกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="70771-180">Whenever possible, ensure [query folding](power-query-folding.md) takes place</span></span>
- <span data-ttu-id="70771-181">โดยเฉพาะอย่างยิ่งสำหรับข้อมูลขนาดใหญ่หรือความจำเป็นสำหรับผลลัพธ์ที่มีความแฝงต่ำ ให้แปลงการออกแบบเป็นแบบจำลอง DirectQuery หรือ [แบบรวม](../connect-data/service-dataset-modes-understand.md#composite-mode)</span><span class="sxs-lookup"><span data-stu-id="70771-181">Especially for large data volumes or a need for low-latency results, convert the design to a DirectQuery or [Composite](../connect-data/service-dataset-modes-understand.md#composite-mode) model</span></span>

<span data-ttu-id="70771-182">สำหรับชุดข้อมูล DirectQuery:</span><span class="sxs-lookup"><span data-stu-id="70771-182">For DirectQuery datasets:</span></span>

- <span data-ttu-id="70771-183">ปรับแหล่งข้อมูล แบบจำลอง และการออกแบบรายงานให้เหมาะสม สำหรับข้อมูลเพิ่มเติม ดู [คำแนะนำแบบจำลอง DirectQuery ใน Power BI Desktop](directquery-model-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="70771-183">Optimize data sources, model, and report designs—for more information, see [DirectQuery model guidance in Power BI Desktop](directquery-model-guidance.md)</span></span>
- <span data-ttu-id="70771-184">สร้าง [การรวม](../transform-model/desktop-aggregations.md) เพื่อแคชผลลัพธ์ในระดับที่สูงขึ้น เพื่อลดจำนวนคำขอ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="70771-184">Create [aggregations](../transform-model/desktop-aggregations.md) to cache higher-level results to reduce the number of DirectQuery requests</span></span>
- <span data-ttu-id="70771-185">จำกัดช่วง [การรีเฟรชหน้าอัตโนมัติ](../create-reports/desktop-automatic-page-refresh.md) ในการออกแบบรายงานและการตั้งค่าความจุ</span><span class="sxs-lookup"><span data-stu-id="70771-185">Restrict [Automatic page refresh](../create-reports/desktop-automatic-page-refresh.md) intervals, in report designs and capacity settings</span></span>
- <span data-ttu-id="70771-186">โดยเฉพาะอย่างยิ่งเมื่อบังคับใช้ RLS แบบไดนามิก ให้จำกัดความถี่ในการอัปเดตแคชของแดชบอร์ด</span><span class="sxs-lookup"><span data-stu-id="70771-186">Especially when dynamic RLS is enforced, restrict dashboard cache update frequency</span></span>
- <span data-ttu-id="70771-187">โดยเฉพาะอย่างยิ่งสำหรับข้อมูลที่มีขนาดเล็กหรือสำหรับข้อมูลถาวร ให้แปลงการออกแบบเป็นแบบจำลองการนำเข้าหรือ [แบบรวม](../connect-data/service-dataset-modes-understand.md#composite-mode)</span><span class="sxs-lookup"><span data-stu-id="70771-187">Especially for smaller data volumes or for non-volatile data, convert the design to an Import or [Composite](../connect-data/service-dataset-modes-understand.md#composite-mode) model</span></span>

<span data-ttu-id="70771-188">สำหรับชุดข้อมูลการเชื่อมต่อสด:</span><span class="sxs-lookup"><span data-stu-id="70771-188">For Live Connection datasets:</span></span>

- <span data-ttu-id="70771-189">โดยเฉพาะอย่างยิ่งเมื่อบังคับใช้ RLS แบบไดนามิก ให้จำกัดความถี่ในการอัปเดตแคชของแดชบอร์ด</span><span class="sxs-lookup"><span data-stu-id="70771-189">Especially when dynamic RLS is enforced, restrict dashboard cache update frequency</span></span>

## <a name="next-steps"></a><span data-ttu-id="70771-190">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="70771-190">Next steps</span></span>

<span data-ttu-id="70771-191">สำหรับข้อมูลเพิ่มเติมที่เกี่ยวข้องกับบทความนี้ โปรดดูทรัพยากรต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="70771-191">For more information related to this article, check out the following resources:</span></span>

- [<span data-ttu-id="70771-192">คำแนะนำสำหรับการปรับใช้เกตเวย์ข้อมูลจาก Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-192">Guidance for deploying a data gateway for Power BI</span></span>](../connect-data/service-gateway-deployment-guidance.md)
- [<span data-ttu-id="70771-193">กำหนดค่าการตั้งค่าพร็อกซีสำหรับเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="70771-193">Configure proxy settings for the on-premises data gateway</span></span>](/data-integration/gateway/service-gateway-proxy)
- [<span data-ttu-id="70771-194">การตรวจสอบและปรับประสิทธิภาพการทำงานของเกตเวย์ข้อมูลภายในองค์กรให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="70771-194">Monitor and optimize on-premises data gateway performance</span></span>](/data-integration/gateway/service-gateway-performance)
- [<span data-ttu-id="70771-195">แก้ไขปัญหาเกตเวย์-Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-195">Troubleshoot gateways - Power BI</span></span>](../connect-data/service-gateway-onprem-tshoot.md)
- [<span data-ttu-id="70771-196">แก้ไขปัญหาเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="70771-196">Troubleshoot the on-premises data gateway</span></span>](/data-integration/gateway/service-gateway-tshoot)
- [<span data-ttu-id="70771-197">ความสำคัญของการพับคิวรี</span><span class="sxs-lookup"><span data-stu-id="70771-197">The importance of query folding</span></span>](power-query-folding.md)
- <span data-ttu-id="70771-198">มีคำถามหรือไม่</span><span class="sxs-lookup"><span data-stu-id="70771-198">Questions?</span></span> [<span data-ttu-id="70771-199">ลองถามชุมชน Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-199">Try asking the Power BI Community</span></span>](https://community.powerbi.com/)
- <span data-ttu-id="70771-200">มีข้อเสนอแนะไหม</span><span class="sxs-lookup"><span data-stu-id="70771-200">Suggestions?</span></span> [<span data-ttu-id="70771-201">สนับสนุนแนวคิดในการปรับปรุง Power BI</span><span class="sxs-lookup"><span data-stu-id="70771-201">Contribute ideas to improve Power BI</span></span>](https://ideas.powerbi.com)
