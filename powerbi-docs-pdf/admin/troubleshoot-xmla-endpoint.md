---
title: แก้ไขปัญหาการเชื่อมต่อจุดปลายทาง XMLA ใน Power BI
description: อธิบายวิธีการแก้ไขปัญหาการเชื่อมต่อผ่านตำแหน่งข้อมูล XMLA ใน Power BI Premium
author: Minewiskan
ms.author: kfollis
ms.reviewer: kayu
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: troubleshooting
ms.date: 01/11/2021
ms.custom: seodec18, css_fy20Q4
LocalizationGroup: Premium
ms.openlocfilehash: 16a07065507abfe825c39677f234d626070827b4
ms.sourcegitcommit: c86ce723d5db16fb960d1731795d84f4654e4b4e
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/12/2021
ms.locfileid: "98110739"
---
# <a name="troubleshoot-xmla-endpoint-connectivity"></a><span data-ttu-id="a98a4-103">แก้ไขปัญหาการเชื่อมต่อจุดปลายทาง XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-103">Troubleshoot XMLA endpoint connectivity</span></span>

<span data-ttu-id="a98a4-104">ตำแหน่งข้อมูล XMLA ใน Power BI Premium ขึ้นอยู่กับโพรโทคอลการสื่อสารของ Analysis Services เพื่อเข้าถึงชุดข้อมูล Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-104">XMLA endpoints in Power BI Premium rely on the native Analysis Services communication protocol for access to Power BI datasets.</span></span> <span data-ttu-id="a98a4-105">ด้วยเหตุนี้ การแก้ไขปัญหาตำแหน่งข้อมูล XMLA จึงเหมือนกับการแก้ไขปัญหาการเชื่อมต่อ Analysis Services ทั่วไป</span><span class="sxs-lookup"><span data-stu-id="a98a4-105">Because of this, XMLA endpoint troubleshooting is much the same as troubleshooting a typical Analysis Services connection.</span></span> <span data-ttu-id="a98a4-106">อย่างไรก็ตาม มีความแตกต่างบางประการเกี่ยวกับการพึ่งพาเฉพาะของ Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-106">However, some differences around Power BI-specific dependencies apply.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="a98a4-107">ก่อนที่คุณเริ่มต้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-107">Before you begin</span></span>

<span data-ttu-id="a98a4-108">ก่อนที่จะแก้ไขปัญหาสถานการณ์ตำแหน่งข้อมูล XMLA ต้องแน่ใจว่าได้ตรวจสอบพื้นฐานที่ครอบคลุมใน [การเชื่อมต่อชุดข้อมูลด้วยจุดปลายทาง XMLA](service-premium-connect-tools.md)</span><span class="sxs-lookup"><span data-stu-id="a98a4-108">Before troubleshooting an XMLA endpoint scenario, be sure to review the basics covered in [Dataset connectivity with the XMLA endpoint](service-premium-connect-tools.md).</span></span> <span data-ttu-id="a98a4-109">กรณีการใช้งานตำแหน่งข้อมูล XMLA ที่พบบ่อยจะกล่าวถึงในนั้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-109">Most common XMLA endpoint use cases are covered there.</span></span> <span data-ttu-id="a98a4-110">คำแนะนำการแก้ไขปัญหา Power BI อื่นๆ เช่น [การแก้ไขปัญหาเกตเวย์ - Power BI](../connect-data/service-gateway-onprem-tshoot.md) และ [การแก้ไขปัญหาการวิเคราะห์ใน Excel](../collaborate-share/desktop-troubleshooting-analyze-in-excel.md) ยังสามารถเป็นประโยชน์ได้เช่นกัน</span><span class="sxs-lookup"><span data-stu-id="a98a4-110">Other Power BI troubleshooting guides, such as [Troubleshoot gateways - Power BI](../connect-data/service-gateway-onprem-tshoot.md) and [Troubleshooting Analyze in Excel](../collaborate-share/desktop-troubleshooting-analyze-in-excel.md), can also be helpful.</span></span>

## <a name="enabling-the-xmla-endpoint"></a><span data-ttu-id="a98a4-111">การเปิดใช้งานตำแหน่งข้อมูล XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-111">Enabling the XMLA endpoint</span></span>

<span data-ttu-id="a98a4-112">สามารถเปิดใช้งานตำแหน่งข้อมูล XMLA ได้ทั้งใน Power BI Premium และความจุ Power BI Embedded</span><span class="sxs-lookup"><span data-stu-id="a98a4-112">The XMLA endpoint can be enabled on both Power BI Premium and Power BI Embedded capacities.</span></span> <span data-ttu-id="a98a4-113">ในความจุที่มีขนาดเล็ก เช่น ความจุ A1 ที่มีหน่วยความจำเพียง 2.5 GB คุณอาจพบข้อผิดพลาดในการตั้งค่าความจุเมื่อพยายามตั้งค่าตำแหน่งข้อมูล XMLA เพื่อ **อ่าน/เขียน** จากนั้นเลือก **ใช้**</span><span class="sxs-lookup"><span data-stu-id="a98a4-113">On smaller capacities, such as an A1 capacity with only 2.5 GB of memory, you might encounter an error in Capacity settings when trying to set the XMLA Endpoint to **Read/Write** and then selecting **Apply**.</span></span> <span data-ttu-id="a98a4-114">สถานะข้อผิดพลาด "มีปัญหาเกิดขึ้นกับการตั้งค่าปริมาณงานของคุณ</span><span class="sxs-lookup"><span data-stu-id="a98a4-114">The error states "There was an issue with your workload settings.</span></span> <span data-ttu-id="a98a4-115">โปรดลองอีกครั้งในอีกสักครู่</span><span class="sxs-lookup"><span data-stu-id="a98a4-115">Try again in a little while.".</span></span>

<span data-ttu-id="a98a4-116">ให้คุณลองทำสิ่งต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-116">Here are a couple things to try:</span></span>

- <span data-ttu-id="a98a4-117">จำกัดปริมาณการใช้หน่วยความจำของบริการอื่นๆ ในความจุ เช่น กระแสข้อมูล ให้อยู่ที่ 40% หรือน้อยกว่า หรือปิดใช้งานบริการทั้งหมดที่ไม่จำเป็น</span><span class="sxs-lookup"><span data-stu-id="a98a4-117">Limit the memory consumption of other services on the capacity, such as Dataflows, to 40% or less, or disable an unnecessary service completely.</span></span>  
- <span data-ttu-id="a98a4-118">อัปเกรดความจุเป็น SKU ที่มีขนาดใหญ่ขึ้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-118">Upgrade the capacity to a larger SKU.</span></span> <span data-ttu-id="a98a4-119">ตัวอย่างเช่น การอัปเกรดจากความจุ A1 เป็นความจุ A3 สามารถแก้ปัญหาการกำหนดค่านี้ได้โดยไม่ต้องปิดใช้งานกระแสข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-119">For example, upgrading from an A1 to an A3 capacity solves this configuration issue without having to disable Dataflows.</span></span>

<span data-ttu-id="a98a4-120">โปรดจำไว้ว่าคุณยังต้องเปิดใช้งาน [การตั้งค่าการส่งออกข้อมูลระดับผู้เช่า](service-premium-connect-tools.md#security) ในพอร์ทัลผู้ดูแลระบบ Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-120">Keep in-mind, you must also enable the tenant-level [Export data setting](service-premium-connect-tools.md#security) in the Power BI Admin Portal.</span></span> <span data-ttu-id="a98a4-121">นอกจากนั้น การตั้งค่านี้ยังจำเป็นสำหรับการวิเคราะห์ในคุณลักษณะ Excel</span><span class="sxs-lookup"><span data-stu-id="a98a4-121">This setting is also required for the Analyze in Excel feature.</span></span>

## <a name="establishing-a-client-connection"></a><span data-ttu-id="a98a4-122">การสร้างการเชื่อมต่อไคลเอ็นต์</span><span class="sxs-lookup"><span data-stu-id="a98a4-122">Establishing a client connection</span></span>

<span data-ttu-id="a98a4-123">หลังจากเปิดใช้งานตำแหน่งข้อมูล XMLA เป็นความคิดที่ดีในการทดสอบการเชื่อมต่อกับพื้นที่ทำงานบนความจุ</span><span class="sxs-lookup"><span data-stu-id="a98a4-123">After enabling the XMLA endpoint, it's a good idea to test connectivity to a workspace on the capacity.</span></span> <span data-ttu-id="a98a4-124">หากต้องการเรียนรู้เพิ่มเติม ดูที่ [การเชื่อมต่อกับพื้นที่ทำงาน Premium](service-premium-connect-tools.md#connecting-to-a-premium-workspace)</span><span class="sxs-lookup"><span data-stu-id="a98a4-124">To learn more, see [Connecting to a Premium workspace](service-premium-connect-tools.md#connecting-to-a-premium-workspace).</span></span> <span data-ttu-id="a98a4-125">นอกจากนี้ โปรดอ่านส่วน [ข้อกำหนดการเชื่อมต่อ](service-premium-connect-tools.md#connection-requirements) สำหรับเคล็ดลับและข้อมูลที่เป็นประโยชน์ที่เกี่ยวกับข้อจำกัดการเชื่อมต่อ XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-125">Also, be sure to read the section [Connection requirements](service-premium-connect-tools.md#connection-requirements) for helpful tips and information about current XMLA connectivity limitations.</span></span>

### <a name="connecting-with-a-service-principal"></a><span data-ttu-id="a98a4-126">การเชื่อมต่อด้วยบริการหลัก</span><span class="sxs-lookup"><span data-stu-id="a98a4-126">Connecting with a service principal</span></span>

<span data-ttu-id="a98a4-127">ถ้าคุณได้เปิดใช้งานการตั้งค่าผู้เช่าเพื่ออนุญาตให้บริการหลักสามารถใช้ Power BI API ได้ตามที่อธิบายไว้ใน [เปิดใช้งานบริการหลัก](service-premium-service-principal.md#enable-service-principals) คุณสามารถเชื่อมต่อกับตำแหน่งข้อมูล XMLA ได้โดยใช้บริการหลัก</span><span class="sxs-lookup"><span data-stu-id="a98a4-127">If you've enabled tenant settings to allow service principals to use Power BI APIs, as described in [Enable service principals](service-premium-service-principal.md#enable-service-principals), you can connect to an XMLA endpoint by using a service principal.</span></span> <span data-ttu-id="a98a4-128">โปรดทราบว่าบริการหลักจำเป็นต้องมีสิทธิ์ในการเข้าถึงระดับพื้นที่ทำงานหรือระดับชุดข้อมูลเช่นเดียวกันกับผู้ใช้ทั่วไป</span><span class="sxs-lookup"><span data-stu-id="a98a4-128">Keep in mind the service principal requires the same level of access permissions at the workspace or dataset level as regular users.</span></span>

<span data-ttu-id="a98a4-129">หากต้องการใช้บริการหลัก ตรวจสอบให้แน่ใจว่าได้ระบุข้อมูลประจำตัวของแอปพลิเคชันในสตริงการเชื่อมต่อเป็น:</span><span class="sxs-lookup"><span data-stu-id="a98a4-129">To use a service principal, be sure to specify the application identity information in the connection string as:</span></span>

- `User ID=<app:appid@tenantid>`
- `Password=<application secret>`

<span data-ttu-id="a98a4-130">ตัวอย่างเช่น:</span><span class="sxs-lookup"><span data-stu-id="a98a4-130">For example:</span></span>

`Data Source=powerbi://api.powerbi.com/v1.0/myorg/Contoso;Initial Catalog=PowerBI_Dataset;User ID=app:91ab91bb-6b32-4f6d-8bbc-97a0f9f8906b@19373176-316e-4dc7-834c-328902628ad4;Password=6drX...;`

<span data-ttu-id="a98a4-131">ถ้าคุณได้รับข้อผิดพลาดต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-131">If you receive the following error:</span></span>

<span data-ttu-id="a98a4-132">"เราไม่สามารถเชื่อมต่อไปยังชุดข้อมูลได้เนื่องจากข้อมูลบัญชีไม่สมบูรณ์</span><span class="sxs-lookup"><span data-stu-id="a98a4-132">"We cannot connect to the dataset due to incomplete account information.</span></span> <span data-ttu-id="a98a4-133">สำหรับบริการหลัก โปรดตรวจสอบให้แน่ใจว่าคุณได้ระบุรหัสผู้เช่าพร้อมกับรหัสแอป โดยใช้แอปแบบจัดรูปแบบ:\<appId>@\<tenantId> จากนั้นลองอีกครั้ง"</span><span class="sxs-lookup"><span data-stu-id="a98a4-133">For service principals, make sure you specify the tenant ID together with the app ID using the format app:\<appId>@\<tenantId>, then try again."</span></span>

<span data-ttu-id="a98a4-134">ตรวจสอบให้แน่ใจว่าคุณได้ระบุรหัสผู้เช่าพร้อมกับรหัสแอปด้วยรูปแบบที่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="a98a4-134">Make sure you specify the tenant ID together with the app ID using the correct format.</span></span>

<span data-ttu-id="a98a4-135">คุณยังสามารถระบุรหัสแอปได้โดยไม่ต้องมีรหัสผู้เช่าได้เช่นกัน</span><span class="sxs-lookup"><span data-stu-id="a98a4-135">It's also valid to specify the app ID without the tenant ID.</span></span> <span data-ttu-id="a98a4-136">อย่างไรก็ตามในกรณีนี้ คุณต้องแทนที่นามแฝง `myorg` ใน URL แหล่งข้อมูลที่มี รหัสผู้เช่าที่แท้จริง</span><span class="sxs-lookup"><span data-stu-id="a98a4-136">However, in this case, you must replace the `myorg` alias in the data source URL with the actual tenant ID.</span></span> <span data-ttu-id="a98a4-137">Power BI จึงจะสามารถค้นหาบริการหลักในผู้เช่าที่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="a98a4-137">Power BI can then locate the service principal in the correct tenant.</span></span> <span data-ttu-id="a98a4-138">อย่างไรก็ตาม แนวทางปฏิบัติที่ดีที่สุดคือการใช้นามแฝง `myorg` และระบุรหัสผู้เช่าพร้อมกับรหัสแอปในพารามิเตอร์รหัสผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="a98a4-138">But, as a best practice, use the `myorg` alias and specify the tenant ID together with the app ID in the User ID parameter.</span></span>

### <a name="connecting-with-azure-active-directory-b2b"></a><span data-ttu-id="a98a4-139">การเชื่อมต่อด้วยด้วย Azure Active Directory B2B</span><span class="sxs-lookup"><span data-stu-id="a98a4-139">Connecting with Azure Active Directory B2B</span></span>

<span data-ttu-id="a98a4-140">ด้วยการรองรับ Azure Active Directory (Azure AD) business-to-business (B2B) ใน Power BI คุณสามารถให้ผู้ใช้ที่เป็นผู้เยี่ยมชมภายนอกเข้าถึงชุดข้อมูลผ่านตำแหน่งข้อมูล XMLA ได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-140">With support for Azure Active Directory (Azure AD) business-to-business (B2B) in Power BI, you can provide external guest users with access to datasets over the XMLA endpoint.</span></span> <span data-ttu-id="a98a4-141">ตรวจสอบให้แน่ใจว่าได้เปิดใช้งานการตั้งค่า [แชร์เนื้อหากับผู้ใช้ภายนอก](service-admin-portal.md#export-and-sharing-settings) ในพอร์ทัลผู้ดูแลระบบ Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-141">Make sure the [Share content with external users](service-admin-portal.md#export-and-sharing-settings) setting is enabled in the Power BI Admin portal.</span></span> <span data-ttu-id="a98a4-142">หากต้องการเรียนรู้เพิ่มเติม ดู [แจกจ่ายเนื้อหา Power BI ไปยังผู้ใช้ที่เป็นผู้เยี่ยมชมด้วย Azure AD B2B](service-admin-azure-ad-b2b.md)</span><span class="sxs-lookup"><span data-stu-id="a98a4-142">To learn more, see [Distribute Power BI content to external guest users with Azure AD B2B](service-admin-azure-ad-b2b.md).</span></span>

## <a name="deploying-a-dataset"></a><span data-ttu-id="a98a4-143">การปรับใช้ชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-143">Deploying a dataset</span></span>

<span data-ttu-id="a98a4-144">คุณสามารถปรับใช้โครงการแบบจำลองแบบตารางใน Visual Studio (SSDT) ไปยังพื้นที่ทำงานของ Power BI Premium ได้เทียบเท่ากับการปรับใช้กับ Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="a98a4-144">You can deploy a tabular model project in Visual Studio (SSDT) to a Power BI Premium workspace much the same as to Azure Analysis Services.</span></span> <span data-ttu-id="a98a4-145">อย่างไรก็ตาม เมื่อปรับใช้ไปยังพื้นที่ทำงาน Power BI Premium มีข้อควรพิจารณาบางอย่างเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="a98a4-145">However, when deploying to a Power BI Premium workspace, there are some additional considerations.</span></span> <span data-ttu-id="a98a4-146">ตรวจสอบให้แน่ใจว่าได้ตรวจทานส่วน [ปรับใช้โครงการแบบจำลองจาก Visual Studio (SSDT)](service-premium-connect-tools.md#deploy-model-projects-from-visual-studio-ssdt) ในการเชื่อมต่อชุดข้อมูล ด้วยบทความเรื่องตำแหน่งข้อมูล XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-146">Be sure to review the section [Deploy model projects from Visual Studio (SSDT)](service-premium-connect-tools.md#deploy-model-projects-from-visual-studio-ssdt) in the Dataset connectivity with the XMLA endpoint article.</span></span>

### <a name="deploying-a-new-model"></a><span data-ttu-id="a98a4-147">การปรับใช้แบบจำลองใหม่</span><span class="sxs-lookup"><span data-stu-id="a98a4-147">Deploying a new model</span></span>

<span data-ttu-id="a98a4-148">ในการกำหนดค่าเริ่มต้น Visual Studio พยายามประมวลผลแบบจำลองเป็นส่วนหนึ่งของการดำเนินการปรับใช้เพื่อโหลดข้อมูลลงในชุดข้อมูลจากแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-148">In the default configuration, Visual Studio attempts to process the model as part of the deployment operation to load data into the dataset from the data sources.</span></span> <span data-ttu-id="a98a4-149">ตามที่อธิบายไว้ใน [ปรับใช้โครงการแบบจำลองจาก Visual Studio (SSDT)](service-premium-connect-tools.md#deploy-model-projects-from-visual-studio-ssdt) การดำเนินการนี้อาจล้มเหลวเนื่องจากไม่ได้ระบุข้อมูลประจำตัวของแหล่งข้อมูลเป็นส่วนหนึ่งของการดำเนินการปรับใช้</span><span class="sxs-lookup"><span data-stu-id="a98a4-149">As described in [Deploy model projects from Visual Studio (SSDT)](service-premium-connect-tools.md#deploy-model-projects-from-visual-studio-ssdt), this operation can fail because data source credentials cannot be specified as part of the deployment operation.</span></span> <span data-ttu-id="a98a4-150">แต่ถ้าข้อมูลประจำตัวสำหรับแหล่งข้อมูลของคุณยังไม่ได้ถูกกำหนดสำหรับชุดข้อมูลของใดๆ ที่มีอยู่ คุณต้องระบุข้อมูลประจำตัวของแหล่งข้อมูลในการตั้งค่าชุดข้อมูลโดยใช้อินเทอร์เฟซผู้ใช้ Power BI (**ชุดข้อมูล** > **การตั้งค่า** > **ข้อมูลประจำตัวของแหล่งข้อมูลที่** > **แก้ไขข้อมูลประจำตัว**)</span><span class="sxs-lookup"><span data-stu-id="a98a4-150">Instead, if credentials for your data source aren't already defined for any of your existing datasets, you must specify the data source credentials in the dataset settings using the Power BI user interface (**Datasets** > **Settings** > **Data source credentials** > **Edit credentials**).</span></span> <span data-ttu-id="a98a4-151">เมื่อมีการกำหนดข้อมูลประจำตัวของแหล่งข้อมูลแล้ว Power BI จึงสามารถใช้ข้อมูลประจำตัวของแหล่งข้อมูลนี้ได้โดยอัตโนมัติสำหรับชุดข้อมูลใหม่ หลังจากที่การปรับใช้เมตาดาต้าสำเร็จแล้วและมีการสร้างชุดข้อมูลแล้ว</span><span class="sxs-lookup"><span data-stu-id="a98a4-151">Having defined the data source credentials, Power BI can then apply the credentials to this data source automatically for any new dataset, after metadata deployment has succeeded and the dataset has been created.</span></span>

<span data-ttu-id="a98a4-152">ถ้า Power BI ไม่สามารถผูกชุดข้อมูลใหม่ของคุณกับข้อมูลประจำตัวของแหล่งข้อมูลได้ คุณจะได้รับข้อความแสดงข้อผิดพลาดที่ระบุว่า "ไม่สามารถประมวลผลฐานข้อมูลได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-152">If Power BI cannot bind your new dataset to data source credentials, you will receive an error stating "Cannot process database.</span></span> <span data-ttu-id="a98a4-153">เหตุผล: การบันทึกการปรับเปลี่ยนไปยังเซิร์ฟเวอร์ล้มเหลว"</span><span class="sxs-lookup"><span data-stu-id="a98a4-153">Reason: Failed to save modifications to the server."</span></span> <span data-ttu-id="a98a4-154">ด้วยรหัสข้อผิดพลาด "DMTS_DatasourceHasNoCredentialError" ดังที่แสดงด้านล่าง:</span><span class="sxs-lookup"><span data-stu-id="a98a4-154">with the error code "DMTS_DatasourceHasNoCredentialError", as shown below:</span></span>

:::image type="content" source="media/troubleshoot-xmla-endpoint/deploy-refresh-error.png" alt-text="ข้อผิดพลาดในการปรับใช้แบบจำลอง":::

<span data-ttu-id="a98a4-156">เพื่อหลีกเลี่ยงความล้มเหลวในการประมวลผล ให้ตั้งค่า **ตัวเลือกการปรับใช้** > **ตัวเลือกการประมวลผล** เป็น **ไม่ประมวลผล** ดังแสดงในรูปต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="a98a4-156">To avoid the processing failure, set the **Deployment Options** > **Processing Options** to **Do not Process**, as shown in the following image.</span></span> <span data-ttu-id="a98a4-157">จากนั้น Visual Studio จะปรับใช้เพียงเมตาดาต้าเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-157">Visual Studio  then deploys only metadata.</span></span> <span data-ttu-id="a98a4-158">จากนั้นคุณสามารถกำหนดค่าข้อมูลประจำตัวของแหล่งข้อมูล และคลิกที่ **รีเฟรชตอนนี้** สำหรับชุดข้อมูลในอินเทอร์เฟซผู้ใช้ Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-158">You can then configure the data source credentials, and click on **Refresh now** for the dataset in the Power BI user interface.</span></span> <span data-ttu-id="a98a4-159">สำหรับข้อมูลเกี่ยวกับการแก้ไขปัญหาการประมวลผล ให้ดูที่ส่วน [การรีเฟรชชุดข้อมูล](#refreshing-a-dataset) ซึ่งอยู่ในภายหลังของบทความนี้</span><span class="sxs-lookup"><span data-stu-id="a98a4-159">For information about troubleshooting processing issues, see the section [Refreshing a dataset](#refreshing-a-dataset) later in this article.</span></span>

:::image type="content" source="media/troubleshoot-xmla-endpoint/do-not-process.png" alt-text="ตัวเลือกไม่ประมวลผล":::

### <a name="new-project-from-an-existing-dataset"></a><span data-ttu-id="a98a4-161">โครงการใหม่จากชุดข้อมูลที่มีอยู่</span><span class="sxs-lookup"><span data-stu-id="a98a4-161">New project from an existing dataset</span></span>

<span data-ttu-id="a98a4-162">การสร้างโครงการแบบตารางใหม่ใน Visual Studio โดยการนำเข้าเมตาดาต้าจากชุดข้อมูลที่มีอยู่ในพื้นที่ทำงาน Power BI Premium ไม่ได้รับการรองรับ</span><span class="sxs-lookup"><span data-stu-id="a98a4-162">Creating a new tabular project in Visual Studio by importing the metadata from an existing dataset on a Power BI Premium workspace is not supported.</span></span> <span data-ttu-id="a98a4-163">อย่างไรก็ตาม คุณสามารถเชื่อมต่อไปยังชุดข้อมูลได้โดยใช้ SQL Server Management Studio สคริปต์เมตาดาต้าออกมา และนำไปใช้งานอีกครั้งในโครงการแบบตารางอื่นๆ</span><span class="sxs-lookup"><span data-stu-id="a98a4-163">However, you can connect to the dataset by using SQL Server Management Studio, script out the metadata, and reuse it in other tabular projects.</span></span>

## <a name="migrating-a-dataset-to-power-bi"></a><span data-ttu-id="a98a4-164">การโยกย้ายชุดข้อมูลไปยัง Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-164">Migrating a dataset to Power BI</span></span>

<span data-ttu-id="a98a4-165">ขอแนะนำให้คุณระบุระดับของความเข้ากันได้สำหรับแบบจำลองตารางให้อยู่ที่ 1500 (หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="a98a4-165">It's recommended you specify the 1500 (or higher) compatibility level for tabular models.</span></span> <span data-ttu-id="a98a4-166">ระดับของความเข้ากันได้นี้สามารถรองรับความสามารถและชนิดแหล่งข้อมูลส่วนใหญ่ได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-166">This compatibility level supports the most capabilities and data source types.</span></span> <span data-ttu-id="a98a4-167">ระดับของความเข้ากันได้ในภายหลังนั้นย้อนกลับเข้ากันได้กับระดับก่อนหน้า</span><span class="sxs-lookup"><span data-stu-id="a98a4-167">Later compatibility levels are backwards compatible with earlier levels.</span></span>

### <a name="supported-data-providers"></a><span data-ttu-id="a98a4-168">ผู้ให้บริการข้อมูลที่รองรับ</span><span class="sxs-lookup"><span data-stu-id="a98a4-168">Supported data providers</span></span>

<span data-ttu-id="a98a4-169">ในระดับความเข้ากันได้ที่ 1500 นี้ Power BI สามารถรองรับชนิดแหล่งข้อมูลต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-169">At the 1500 compatibility level, Power BI supports the following data source types:</span></span>

- <span data-ttu-id="a98a4-170">แหล่งข้อมูลของผู้ให้บริการ (แบบดั้งเดิมที่มีสตริงการเชื่อมต่อในเมตาดาต้าแบบจำลอง)</span><span class="sxs-lookup"><span data-stu-id="a98a4-170">Provider data sources (legacy with a connection string in the model metadata).</span></span>
- <span data-ttu-id="a98a4-171">แหล่งข้อมูลที่มีโครงสร้าง (นำมาใช้กับระดับความเข้ากันได้ที่ 1400)</span><span class="sxs-lookup"><span data-stu-id="a98a4-171">Structured data sources (introduced with the 1400 compatibility level).</span></span>
- <span data-ttu-id="a98a4-172">การประกาศ M แบบอินไลน์ของแหล่งข้อมูล (ตามที่ Power BI Desktop ได้ประกาศ)</span><span class="sxs-lookup"><span data-stu-id="a98a4-172">Inline M declarations of data sources (as Power BI Desktop declares them).</span></span>

<span data-ttu-id="a98a4-173">ขอแนะนำให้คุณใช้แหล่งข้อมูลที่มีโครงสร้างซึ่ง Visual Studio สร้างขึ้นตามค่าเริ่มต้นเมื่อดำเนินการตามขั้นตอนโฟลว์การนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-173">It's recommended you use structured data sources, which Visual Studio creates by default when going through the Import data flow.</span></span> <span data-ttu-id="a98a4-174">อย่างไรก็ตามถ้าคุณกำลังวางแผนที่จะย้ายแบบจำลองที่มีอยู่ไปยัง Power BI ที่ใช้แหล่งข้อมูลของผู้ให้บริการ ควรตรวจสอบให้แน่ใจว่าแหล่งข้อมูลของผู้ให้บริการนั้นขึ้นอยู่กับผู้ให้บริการข้อมูลที่ไม่รองรับ</span><span class="sxs-lookup"><span data-stu-id="a98a4-174">However, if you are planning to migrate an existing model to Power BI that uses a provider data source, make sure the provider data source relies on a supported data provider.</span></span> <span data-ttu-id="a98a4-175">โดยเฉพาะโปรแกรมควบคุม OLE DB Driver สำหรับ SQL Server และ ODBC driver อื่นๆ ของบุคคลที่สาม</span><span class="sxs-lookup"><span data-stu-id="a98a4-175">Specifically, the Microsoft OLE DB Driver for SQL Server and any third-party ODBC drivers.</span></span> <span data-ttu-id="a98a4-176">สำหรับ OLE DB Driver สำหรับ SQL Server คุณต้องสลับข้อกำหนดแหล่งข้อมูลให้เป็น .NET Framework Data Provider สำหรับ SQL Server</span><span class="sxs-lookup"><span data-stu-id="a98a4-176">For OLE DB Driver for SQL Server, you must switch the data source definition to the .NET Framework Data Provider for SQL Server.</span></span> <span data-ttu-id="a98a4-177">สำหรับ ODBC driver ของบุคคลที่สามซึ่งอาจไม่มีให้พร้อมใช้งานในบริการของ Power BI คุณต้องเปลี่ยนเป็นข้อกำหนดแหล่งข้อมูลที่มีโครงสร้างแทน</span><span class="sxs-lookup"><span data-stu-id="a98a4-177">For third-party ODBC drivers that might be unavailable in the Power BI service, you must switch to a structured data source definition instead.</span></span>

<span data-ttu-id="a98a4-178">นอกจากนี้ยังขอแนะนำให้คุณแทนที่โปรแกรมควบคุม Microsoft OLE DB ที่ล้าสมัยสำหรับ SQL Server (SQLNCLI11) ในข้อกำหนดแหล่งข้อมูล SQL Server ของคุณด้วย .NET Framework Data Provider สำหรับ SQL Server</span><span class="sxs-lookup"><span data-stu-id="a98a4-178">It's also recommended you replace the outdated Microsoft OLE DB Driver for SQL Server (SQLNCLI11) in your SQL Server data source definitions with the .NET Framework Data Provider for SQL Server.</span></span>

<span data-ttu-id="a98a4-179">ตารางต่อไปนี้แสดงตัวอย่างของ .NET Framework Data Provider สำหรับสตริงการเชื่อมต่อ SQL Server แทนที่สตริงการเชื่อมต่อที่สอดคล้องกันสำหรับโปรแกรมควบคุม OLE DB สำหรับ SQL Server</span><span class="sxs-lookup"><span data-stu-id="a98a4-179">The following table provides an example of a .NET Framework Data Provider for SQL Server connection string replacing a corresponding connection string for the OLE DB Driver for SQL Server.</span></span>

|<span data-ttu-id="a98a4-180">OLE DB Driver สำหรับ SQL Server</span><span class="sxs-lookup"><span data-stu-id="a98a4-180">OLE DB Driver for SQL Server</span></span>  |<span data-ttu-id="a98a4-181">.Net Framework Data Provider สำหรับ SQL Server</span><span class="sxs-lookup"><span data-stu-id="a98a4-181">.NET Framework Data Provider for SQL Server</span></span>   |
|---------|---------|
|`Provider=SQLNCLI11;Data Source=sqldb.database.windows.net;Initial Catalog=AdventureWorksDW;Trusted_Connection=yes;`    |   `Data Source=sqldb.database.windows.net;Initial Catalog=AdventureWorksDW2016;Integrated Security=SSPI;Encrypt=true;TrustServerCertificate=false`       |

### <a name="cross-referencing-partition-sources"></a><span data-ttu-id="a98a4-182">แหล่งที่มาของพาร์ติชันที่อ้างอิงแบบข้าม</span><span class="sxs-lookup"><span data-stu-id="a98a4-182">Cross-referencing partition sources</span></span>

<span data-ttu-id="a98a4-183">เช่นเดียวกับแหล่งข้อมูลที่มีหลายชนิด แหล่งที่มาของพาร์ติชันก็มีอยู่หลายชนิดเช่นกัน ซึ่งแบบจำลองตารางสามารถใช้นำเข้าข้อมูลลงในตารางได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-183">Just as there are multiple data source types, there are also multiple partition source types a tabular model can include to import data into a table.</span></span> <span data-ttu-id="a98a4-184">โดยเฉพาะพาร์ติชันสามารถใช้แหล่งที่มาของพาร์ติชันคิวรีหรือแหล่งที่มาของพาร์ติชัน M ได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-184">Specifically, a partition can use a query partition source or an M partition source.</span></span> <span data-ttu-id="a98a4-185">ในทางกลับกัน ชนิดแหล่งที่มาของพาร์ติชันเหล่านี้สามารถอ้างอิงแหล่งข้อมูลผู้ให้บริการหรือแหล่งข้อมูลที่มีโครงสร้างได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-185">These partition source types, in turn, can reference provider data sources or structured data sources.</span></span> <span data-ttu-id="a98a4-186">ในขณะที่แบบจำลองตารางใน Azure Analysis Services รองรับการอ้างอิงข้ามแหล่งข้อมูลและชนิดพาร์ติชันเหล่านี้ Power BI จะบังคับใช้ความสัมพันธ์ที่เข้มงวดมากขึ้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-186">While tabular models in Azure Analysis Services support cross-referencing these various data source and partition types, Power BI enforces a more strict relationship.</span></span> <span data-ttu-id="a98a4-187">แหล่งที่มาของพาร์ติชันคิวรีต้องอ้างอิงแหล่งข้อมูลผู้ให้บริการ และแหล่งที่มาของพาร์ติชัน M ต้องอ้างอิงแหล่งข้อมูลที่มีโครงสร้าง</span><span class="sxs-lookup"><span data-stu-id="a98a4-187">Query partition sources must reference provider data sources, and M partition sources must reference structured data sources.</span></span> <span data-ttu-id="a98a4-188">ชุดข้อมูลอื่นๆ ไม่ได้รับการสนับสนุนใน Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-188">Other combinations are not supported in Power BI.</span></span> <span data-ttu-id="a98a4-189">ถ้าคุณต้องการโยกย้ายชุดข้อมูลที่มีการอ้างอิงข้าม ตารางต่อไปนี้จะอธิบายถึงการกำหนดค่าที่ได้รับการสนับสนุน:</span><span class="sxs-lookup"><span data-stu-id="a98a4-189">If you want to migrate a cross-referencing dataset, the following table describes supported configurations:</span></span>  

|<span data-ttu-id="a98a4-190">แหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-190">Data source</span></span>   |<span data-ttu-id="a98a4-191">แหล่งที่มาของพาร์ติชัน</span><span class="sxs-lookup"><span data-stu-id="a98a4-191">Partition source</span></span>   |<span data-ttu-id="a98a4-192">ข้อคิดเห็น</span><span class="sxs-lookup"><span data-stu-id="a98a4-192">Comments</span></span>   |<span data-ttu-id="a98a4-193">รองรับใน Power BI Premium ที่มีตำแหน่งข้อมูล XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-193">Supported in Power BI Premium with XMLA endpoint</span></span>   |
|---------|---------|---------|---------|
|<span data-ttu-id="a98a4-194">แหล่งข้อมูลของผู้ให้บริการ</span><span class="sxs-lookup"><span data-stu-id="a98a4-194">Provider data source</span></span>      |   <span data-ttu-id="a98a4-195">แหล่งข้อมูลของพาร์ติชันคิวรี</span><span class="sxs-lookup"><span data-stu-id="a98a4-195">Query partition source</span></span>      |   <span data-ttu-id="a98a4-196">โปรแกรม AS ใช้สแตกการเชื่อมต่อที่ยึดตามตัวบรรจุเพื่อเข้าถึงแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-196">The AS engine uses the cartridge-based connectivity stack to access the data source.</span></span>       |     <span data-ttu-id="a98a4-197">ใช่</span><span class="sxs-lookup"><span data-stu-id="a98a4-197">Yes</span></span>     |
|<span data-ttu-id="a98a4-198">แหล่งข้อมูลของผู้ให้บริการ</span><span class="sxs-lookup"><span data-stu-id="a98a4-198">Provider data source</span></span>      |   <span data-ttu-id="a98a4-199">แหล่งที่มาของพาร์ติชัน M</span><span class="sxs-lookup"><span data-stu-id="a98a4-199">M partition source</span></span>       |   <span data-ttu-id="a98a4-200">โปรแกรม AS แปลค่าแหล่งข้อมูลของผู้ให้บริการให้เป็นแหล่งข้อมูลที่มีโครงสร้างทั่วไป แล้วจึงใช้โปรแกรม Mashup เพื่อนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-200">The AS engine translates the provider data source into a generic structured data source and then uses the Mashup engine to import the data.</span></span>       |    <span data-ttu-id="a98a4-201">ไม่ใช่</span><span class="sxs-lookup"><span data-stu-id="a98a4-201">No</span></span>     |
|<span data-ttu-id="a98a4-202">แหล่งข้อมูลที่มีโครงสร้าง</span><span class="sxs-lookup"><span data-stu-id="a98a4-202">Structured data source</span></span>      |     <span data-ttu-id="a98a4-203">แหล่งข้อมูลของพาร์ติชันคิวรี</span><span class="sxs-lookup"><span data-stu-id="a98a4-203">Query partition source</span></span>     |    <span data-ttu-id="a98a4-204">โปรแกรม AS จัดการคิวรีเดิมบนแหล่งข้อมูลของพาร์ติชันลงในนิพจน์ M และจากนั้นใช้โปรแกรม Mashup เพื่อนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-204">The AS engine wraps the native query on the partition source into an M expression and then uses the Mashup engine to import the data.</span></span>      |    <span data-ttu-id="a98a4-205">ไม่ใช่</span><span class="sxs-lookup"><span data-stu-id="a98a4-205">No</span></span>     |
|<span data-ttu-id="a98a4-206">แหล่งข้อมูลที่มีโครงสร้าง</span><span class="sxs-lookup"><span data-stu-id="a98a4-206">Structured data source</span></span>      |    <span data-ttu-id="a98a4-207">แหล่งที่มาของพาร์ติชัน M</span><span class="sxs-lookup"><span data-stu-id="a98a4-207">M partition source</span></span>      |     <span data-ttu-id="a98a4-208">โปรแกรม AS ใช้โปรแกรม Mashup ในการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-208">The AS engine uses the Mashup engine to import the data.</span></span>     |   <span data-ttu-id="a98a4-209">ใช่</span><span class="sxs-lookup"><span data-stu-id="a98a4-209">Yes</span></span>      |

## <a name="refreshing-a-dataset"></a><span data-ttu-id="a98a4-210">รีเฟรชชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-210">Refreshing a dataset</span></span>

<span data-ttu-id="a98a4-211">ตำแหน่งข้อมูล XMLA ช่วยให้คุณสามารถดำเนินการรีเฟรชกับแบบจำลองตารางเช่นเดียวกับชุดข้อมูลที่สร้างขึ้นใน Power BI Desktop ได้</span><span class="sxs-lookup"><span data-stu-id="a98a4-211">XMLA endpoints enable you to perform refresh operations against tabular models as well as datasets created in Power BI Desktop.</span></span> <span data-ttu-id="a98a4-212">หากต้องการรองรับชุดข้อมูล โปรดตรวจสอบให้แน่ใจว่าคุณได้ระบุการตั้งค่ารูปแบบการจัดเก็บข้อมูลขั้นสูงแล้ว</span><span class="sxs-lookup"><span data-stu-id="a98a4-212">To support the latter, make sure you specify the Enhanced storage format setting.</span></span> <span data-ttu-id="a98a4-213">การตั้งค่านี้จำเป็นถ้าคุณต้องการดำเนินการประมวลผลหรือการดำเนินการอ่าน/เขียนอื่นๆ โดยใช้ตำแหน่งข้อมูล XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-213">This setting is required if you want to perform processing or other read/write operations by using the XMLA endpoint.</span></span> <span data-ttu-id="a98a4-214">คุณสามารถเข้าถึงการตั้งค่าใน Power BI Desktop ภายใต้คุณลักษณะตัวอย่าง</span><span class="sxs-lookup"><span data-stu-id="a98a4-214">You can find the setting in Power BI Desktop under Preview features.</span></span> <span data-ttu-id="a98a4-215">หลังจากการตั้งค่า ให้เผยแพร่โซลูชัน PBIX ของคุณไปยังพื้นที่ทำงาน Power BI Premium ของคุณอีกครั้ง</span><span class="sxs-lookup"><span data-stu-id="a98a4-215">After setting, publish your PBIX solution again to your Power BI Premium workspace.</span></span>  

<span data-ttu-id="a98a4-216">Power BI จะส่งกลับข้อผิดพลาดต่อไปนี้เมื่อคุณทำการรีเฟรชผ่านตำแหน่งข้อมูล XMLA กับแบบจำลองโดยไม่มีเมตาดาต้าที่ได้รับการปรับปรุง: การดำเนินการได้รับการสนับสนุนเฉพาะกับแบบจำลองที่มีคุณสมบัติ "DefaultPowerBIDataSourceVersion" ที่ตั้งค่าเป็น "PowerBI_V3" ใน PowerBI Premium เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="a98a4-216">Power BI returns the following error if you perform a refresh via the XMLA endpoint against a model without enhanced metadata: "The operation is only supported on model with property 'DefaultPowerBIDataSourceVersion' set to 'PowerBI_V3' in Power BI Premium."</span></span>

### <a name="data-sources-and-impersonation"></a><span data-ttu-id="a98a4-217">แหล่งข้อมูลและการเลียนแบบ</span><span class="sxs-lookup"><span data-stu-id="a98a4-217">Data sources and impersonation</span></span>

<span data-ttu-id="a98a4-218">การตั้งค่าการเลียนแบบที่คุณสามารถกำหนดสำหรับแหล่งข้อมูลของผู้ให้บริการไม่เกี่ยวข้องกับ Power BI</span><span class="sxs-lookup"><span data-stu-id="a98a4-218">Impersonation settings you can define for provider data sources are not relevant for Power BI.</span></span> <span data-ttu-id="a98a4-219">Power BI ใช้กลไกที่แตกต่างกันตามการตั้งค่าชุดข้อมูลเพื่อจัดการข้อมูลประจำตัวของแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="a98a4-219">Power BI uses a different mechanism based on dataset settings to manage data source credentials.</span></span> <span data-ttu-id="a98a4-220">ด้วยเหตุนี้ ควรตรวจสอบให้แน่ใจว่าคุณได้เลือก **บัญชีบริการ** ถ้าคุณสร้างแหล่งข้อมูลของผู้ให้บริการ</span><span class="sxs-lookup"><span data-stu-id="a98a4-220">For this reason, make sure you select **Service Account** if you are creating a Provider Data Source.</span></span>

:::image type="content" source="media/troubleshoot-xmla-endpoint/impersonate-services-account.png" alt-text="เลียนแบบบัญชีบริการ":::

### <a name="fine-grained-processing"></a><span data-ttu-id="a98a4-222">การประมวลผลแบบละเอียด</span><span class="sxs-lookup"><span data-stu-id="a98a4-222">Fine-grained processing</span></span>

<span data-ttu-id="a98a4-223">เมื่อทำการทริกเกอร์การรีเฟรชตามกำหนดการหรือการรีเฟรชตามความต้องการใน Power BI นั้น Power BI จะรีเฟรชชุดข้อมูลทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="a98a4-223">When triggering a scheduled refresh or on-demand refresh in Power BI, Power BI typically refreshes the entire dataset.</span></span> <span data-ttu-id="a98a4-224">โดยในหลายกรณี การดำเนินการรีเฟรชโดยการคัดเลือกให้มากขึ้นจะมีประสิทธิภาพสูงกว่า</span><span class="sxs-lookup"><span data-stu-id="a98a4-224">In many cases, it's more efficient to perform refreshes more selectively.</span></span> <span data-ttu-id="a98a4-225">คุณสามารถดำเนินงานการประมวลผลแบบละเอียดได้ใน SQL Server Management Studio (SSMS) ตามที่แสดงด้านล่าง หรือโดยใช้เครื่องมือหรือสคริปต์ของบุคคลที่สาม</span><span class="sxs-lookup"><span data-stu-id="a98a4-225">You can perform fine-grained processing tasks in SQL Server Management Studio (SSMS) as shown below, or by using third-party tools or scripts.</span></span>

:::image type="content" source="media/troubleshoot-xmla-endpoint/process-tables.png" alt-text="ประมวลผลตารางใน SSMS":::

### <a name="overrides-in-refresh-tmsl-command"></a><span data-ttu-id="a98a4-227">การแทนที่ในคำสั่งรีเฟรช TMSL</span><span class="sxs-lookup"><span data-stu-id="a98a4-227">Overrides in Refresh TMSL command</span></span>

<span data-ttu-id="a98a4-228">การแทนที่ใน[คำสั่งรีเฟรช (TMSL)](/analysis-services/tmsl/refresh-command-tmsl) จะอนุญาตให้ผู้ใช้เลือกข้อกำหนดคิวรีของพาร์ติชันที่แตกต่างกัน หรือข้อกำหนดแหล่งข้อมูลสำหรับการดำเนินการรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="a98a4-228">Overrides in [Refresh command (TMSL)](/analysis-services/tmsl/refresh-command-tmsl) allow users choosing a different partition query definition or data source definition for the refresh operation.</span></span> <span data-ttu-id="a98a4-229">ในขณะนี้ Power BI Premium **ยังไม่รองรับการแทนที่**</span><span class="sxs-lookup"><span data-stu-id="a98a4-229">Currently, **overrides are not supported** in Power BI Premium.</span></span> <span data-ttu-id="a98a4-230">ข้อผิดพลาด "ไม่อนุญาตให้ทำการผูกข้อมูลนอกบรรทัด" ใน Power BI Premium</span><span class="sxs-lookup"><span data-stu-id="a98a4-230">An error,  "Out-of-line binding is not allowed in Power BI Premium.</span></span> <span data-ttu-id="a98a4-231">โปรดดูข้อมูลเพิ่มเติมที่ 'การสนับสนุนการอ่าน/เขียน XMLA' ในเอกสารประกอบของผลิตภัณฑ์"</span><span class="sxs-lookup"><span data-stu-id="a98a4-231">For additional information, see 'XMLA read/write support' in the product documentation."</span></span> <span data-ttu-id="a98a4-232">จะถูกส่งกลับ</span><span class="sxs-lookup"><span data-stu-id="a98a4-232">is returned.</span></span>

## <a name="errors-in-ssms---premium-gen-2"></a><span data-ttu-id="a98a4-233">ข้อผิดพลาดใน SSMS - Premium Gen 2</span><span class="sxs-lookup"><span data-stu-id="a98a4-233">Errors in SSMS - Premium Gen 2</span></span>

### <a name="query-execution"></a><span data-ttu-id="a98a4-234">การดำเนินการคิวรี</span><span class="sxs-lookup"><span data-stu-id="a98a4-234">Query execution</span></span>

<span data-ttu-id="a98a4-235">เมื่อเชื่อมต่อกับพื้นที่ทำงานในความจุ [Premium Gen2](service-premium-what-is.md#power-bi-premium-generation-2-preview) แล้ว SQL Server Management Studio อาจแสดงข้อผิดพลาดต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-235">When connected to a workspace in a [Premium Gen2](service-premium-what-is.md#power-bi-premium-generation-2-preview) capacity, SQL Server Management Studio may display the following error:</span></span>

```
Executing the query ...
Error -1052311437:
```

<span data-ttu-id="a98a4-236">ปัญหานี้เกิดขึ้นเนื่องจากไลบรารีไคลเอ็นต์ที่ติดตั้งด้วย SSMS v 18.7.1 ไม่รองรับการติดตามเซสชัน</span><span class="sxs-lookup"><span data-stu-id="a98a4-236">This occurs because client libraries installed with SSMS v18.7.1 do not support session tracing.</span></span> <span data-ttu-id="a98a4-237">สิ่งนี้ได้รับการแก้ไขแล้วใน SSMS 18.8 และสูงกว่า</span><span class="sxs-lookup"><span data-stu-id="a98a4-237">This is resolved in SSMS 18.8 and higher.</span></span> <span data-ttu-id="a98a4-238">[ดาวน์โหลด SSMS ล่าสุด](/sql/ssms/download-sql-server-management-studio-ssms)</span><span class="sxs-lookup"><span data-stu-id="a98a4-238">[Download the latest SSMS](/sql/ssms/download-sql-server-management-studio-ssms).</span></span>

### <a name="refresh-operations"></a><span data-ttu-id="a98a4-239">การดำเนินการรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="a98a4-239">Refresh operations</span></span>

<span data-ttu-id="a98a4-240">เมื่อใช้ SSMS v18.7.1 หรือต่ำกว่าเพื่อดำเนินการรีเฟรชที่การทำงานเป็นเวลานาน (> 1 นาที) บนชุดข้อมูลในความจุ Premium Gen2 อาจส่งผลให้ SSMS แสดงข้อผิดพลาดดังต่อไปนี้แม้ว่าการดำเนินการรีเฟรชจะสำเร็จ:</span><span class="sxs-lookup"><span data-stu-id="a98a4-240">When using SSMS v18.7.1 or lower to perform a long running (>1 min) refresh operation on a dataset in a Premium Gen2 capacity, SSMS may display an error like the following even though the refresh operation succeeds:</span></span>

```
Executing the query ...
Error -1052311437:
The remote server returned an error: (400) Bad Request.

Technical Details:
RootActivityId: 3716c0f7-3d01-4595-8061-e6b2bd9f3428
Date (UTC): 11/13/2020 7:57:16 PM
Run complete
```

<span data-ttu-id="a98a4-241">สาเหตุนี้เกิดจากปัญหาที่ทราบในไลบรารีไคลเอ็นต์ที่มีการติดตามสถานะของคำขอรีเฟรชอย่างไม่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="a98a4-241">This is due to a known issue in the client libraries where the status of the refresh request is incorrectly tracked.</span></span> <span data-ttu-id="a98a4-242">สิ่งนี้ได้รับการแก้ไขแล้วใน SSMS 18.8 และสูงกว่า</span><span class="sxs-lookup"><span data-stu-id="a98a4-242">This is resolved in SSMS 18.8 and higher.</span></span> <span data-ttu-id="a98a4-243">[ดาวน์โหลด SSMS ล่าสุด](/sql/ssms/download-sql-server-management-studio-ssms)</span><span class="sxs-lookup"><span data-stu-id="a98a4-243">[Download the latest SSMS](/sql/ssms/download-sql-server-management-studio-ssms).</span></span>

## <a name="editing-role-memberships-in-ssms"></a><span data-ttu-id="a98a4-244">แก้ไขการเป็นสมาชิกบทบาทใน SSMS</span><span class="sxs-lookup"><span data-stu-id="a98a4-244">Editing role memberships in SSMS</span></span>

<span data-ttu-id="a98a4-245">เมื่อใช้ SQL Server Management Studio (SSMS) v18.8 เพื่อแก้ไขการเป็นสมาชิกของบทบาทบนชุดข้อมูล SSMS อาจแสดงข้อผิดพลาดต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-245">When using the SQL Server Management Studio (SSMS) v18.8 to edit a role membership on a dataset, SSMS may display the following error:</span></span>

```
Failed to save modifications to the server. 
Error returned: ‘Metadata change of current operation cannot be resolved, please check the command or try again later.’ 
```

<span data-ttu-id="a98a4-246">สาเหตุนี้เกิดจากปัญหาที่ทราบใน REST API ของบริการแอป</span><span class="sxs-lookup"><span data-stu-id="a98a4-246">This is due to a known issue in the app services REST API.</span></span> <span data-ttu-id="a98a4-247">ปัญหานี้จะได้รับการแก้ไขในรุ่นต่อไป</span><span class="sxs-lookup"><span data-stu-id="a98a4-247">This will be resolved in an upcoming release.</span></span> <span data-ttu-id="a98a4-248">ในระหว่างนี้เพื่อแก้ไขข้อผิดพลาดนี้ ให้คลิก **สคริปต์** ใน **คุณสมบัติบทบาท** จากนั้นป้อนและดำเนินการคำสั่ง TMSL ต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a98a4-248">In the meantime, to get around this error, in **Role Properties**, click **Script**, and then enter and execute the following TMSL command:</span></span>

```json
{ 
  "createOrReplace": { 
    "object": { 
      "database": "AdventureWorks", 
      "role": "Role" 
    }, 
    "role": { 
      "name": "Role", 
      "modelPermission": "read", 
      "members": [ 
        { 
          "memberName": "xxxx", 
          "identityProvider": "AzureAD" 
        }, 
        { 
          "memberName": “xxxx” 
          "identityProvider": "AzureAD" 
        } 
      ] 
    } 
  } 
} 
```

## <a name="publish-error---live-connected-dataset"></a><span data-ttu-id="a98a4-249">ข้อผิดพลาดในการเผยแพร่ - ชุดข้อมูลที่เชื่อมต่อแบบสด</span><span class="sxs-lookup"><span data-stu-id="a98a4-249">Publish Error - Live connected dataset</span></span>

<span data-ttu-id="a98a4-250">เมื่อเผยแพร่ชุดข้อมูลที่เชื่อมต่อแบบสดอีกครั้งโดยใช้ตัวเชื่อมต่อ Analysis Services ข้อผิดพลาดต่อไปนี้อาจแสดงขึ้น:</span><span class="sxs-lookup"><span data-stu-id="a98a4-250">When republishing a live connected dataset utilizing the Analysis Services connector, the following error may be shown:</span></span>

:::image type="content" source="media/troubleshoot-xmla-endpoint/couldnt-publish-to-power-bi.png" alt-text="ไม่สามารถเผยแพร่ไปยังข้อผิดพลาด Power BI ได้":::

<span data-ttu-id="a98a4-252">ตามที่ระบุไว้ในข้อความแสดงข้อผิดพลาด ให้ลบหรือเปลี่ยนชื่อชุดข้อมูลที่มีอยู่เพื่อแก้ไขปัญหานี้</span><span class="sxs-lookup"><span data-stu-id="a98a4-252">As stated in the error message, to resolve this issue, either delete or rename the existing dataset.</span></span> <span data-ttu-id="a98a4-253">นอกจากนี้ตรวจสอบให้แน่ใจว่าได้เผยแพร่แอปทั้งหมดที่ขึ้นอยู่กับรายงานอีกครั้ง</span><span class="sxs-lookup"><span data-stu-id="a98a4-253">Also be sure to republish any apps that are dependent on the report.</span></span> <span data-ttu-id="a98a4-254">หากจำเป็น ผู้ใช้ปลายทางควรได้รับแจ้งให้อัปเดตบุ๊กมาร์กด้วยที่อยู่รายงานใหม่เพื่อให้แน่ใจว่าพวกเขาเข้าถึงรายงานล่าสุด</span><span class="sxs-lookup"><span data-stu-id="a98a4-254">If necessary, downstream users should also be informed to update any bookmarks with the new report address to ensure they access the latest report.</span></span>  

## <a name="workspaceserver-alias"></a><span data-ttu-id="a98a4-255">นามแฝงพื้นที่ทำงาน/เซิร์ฟเวอร์</span><span class="sxs-lookup"><span data-stu-id="a98a4-255">Workspace/server alias</span></span>

<span data-ttu-id="a98a4-256">พื้นที่ทำงาน Power BI Premium [ไม่รองรับ](/azure/analysis-services/analysis-services-server-alias)**นามแฝง** ชื่อเซิร์ฟเวอร์ ซึ่งต่างจาก Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="a98a4-256">Unlike Azure Analysis Services, server name [aliases](/azure/analysis-services/analysis-services-server-alias) **are not supported** for Power BI Premium workspaces.</span></span> 

## <a name="see-also"></a><span data-ttu-id="a98a4-257">อาจดูได้จาก</span><span class="sxs-lookup"><span data-stu-id="a98a4-257">See also</span></span>

[<span data-ttu-id="a98a4-258">การเชื่อมต่อชุดข้อมูลกับตำแหน่งข้อมูล XMLA</span><span class="sxs-lookup"><span data-stu-id="a98a4-258">Dataset connectivity with the XMLA endpoint</span></span>](service-premium-connect-tools.md)  
[<span data-ttu-id="a98a4-259">ทำให้พื้นที่ทำงาน Premium และงานชุดข้อมูลเป็นแบบอัตโนมัติิด้วยบริการหลัก</span><span class="sxs-lookup"><span data-stu-id="a98a4-259">Automate Premium workspace and dataset tasks with service principals</span></span>](service-premium-service-principal.md)  
[<span data-ttu-id="a98a4-260">การแก้ไขปัญหาการวิเคราะห์ใน Excel</span><span class="sxs-lookup"><span data-stu-id="a98a4-260">Troubleshooting Analyze in Excel</span></span>](../collaborate-share/desktop-troubleshooting-analyze-in-excel.md)  
[<span data-ttu-id="a98a4-261">การปรับใช้โซลูชันแบบจำลองตาราง</span><span class="sxs-lookup"><span data-stu-id="a98a4-261">Tabular model solution deployment</span></span>](/analysis-services/deployment/tabular-model-solution-deployment?view=power-bi-premium-current&preserve-view=true)
