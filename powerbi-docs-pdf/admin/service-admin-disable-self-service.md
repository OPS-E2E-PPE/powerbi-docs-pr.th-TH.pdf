---
title: เปิดหรือปิดใช้งานการลงชื่อสมัครใช้และการสั่งซื้อบริการด้วยตนเอง
description: วิธีการข้อมูลสำหรับผู้ดูแลระบบในการปิดความสามารถสำหรับผู้ใช้ในการสมัครใช้บริการ Power BI และซื้อหรืออัปเกรดสิทธิการใช้งาน
author: mihart
ms.author: mihart
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: how-to
ms.date: 01/31/2021
ms.custom: licensing support
LocalizationGroup: Administration
ms.openlocfilehash: 80e263cc6e67c28b7593fcf10aea4c81c9f4af86
ms.sourcegitcommit: f7330dabb9cd8bce90bb2efec3e3273a11578f10
ms.translationtype: MT
ms.contentlocale: th-TH
ms.lasthandoff: 02/03/2021
ms.locfileid: "99494316"
---
# <a name="enable-or-disable-self-service-sign-up-and-purchasing"></a>เปิดหรือปิดใช้งานการลงชื่อสมัครใช้และการสั่งซื้อบริการด้วยตนเอง

## <a name="what-is-self-service"></a>บริการตนเองคืออะไร

บริการตนเองอ้างอิงถึงความสามารถสำหรับบุคคลในองค์กร (ที่ทำงานหรือโรงเรียน) ในการลงทะเบียนเพื่อใช้บริการที่ชำระเงินโดยการสมัครสมาชิกขององค์กรของพวกเขาหรือใช้บริการฟรีโดยไม่ต้องขอให้องค์กรของพวกเขาดำเนินการในนามของพวกเขา แต่ละบุคคลไปยังเว็บไซต์ของ Microsoft ค้นหาบริการระบบคลาวด์ที่องค์กรของพวกเขาเสนอและใช้ที่อยู่อีเมลขององค์กรของพวกเขาเพื่อลงทะเบียนบริการดังกล่าว 

ในหลายกรณีองค์กรได้ชำระค่าธรรมเนียมสำหรับการสมัครใช้งานไปยังบริการนั้น ในกรณีอื่นๆบุคคลเป็นผู้ใช้คนแรกและเป็นผู้ดูแลระบบสำหรับบริการ สำหรับใบอนุญาตรุ่นทดลองใช้ฟรีหรือไม่จำเป็นต้องมีการซื้อ แต่สำหรับ Power BI Pro องค์กรมีหน้าที่รับผิดชอบในการชำระค่าบริการรายเดือน 

ในฐานะเป็นผู้ดูแล Microsoft 365 คุณสามารถดูว่าใครลงทะเบียนสำหรับการทดลองใช้สิทธิ์การใช้งานและการสมัครสมาชิก

> [!NOTE]
> การลงทะเบียนแบบบริการตนเองจะใช้ได้กับลูกค้า cloud เชิงพาณิชย์เท่านั้นและไม่ได้เป็นเมฆหรือลูกค้าภาครัฐ

## <a name="when-to-use-self-service-sign-up-and-purchase"></a>เมื่อต้องการใช้การลงทะเบียนและการซื้อแบบบริการตนเอง

### <a name="self-service-is-a-good-idea"></a>บริการตนเองเป็นความคิดที่ดี: 

- ในองค์กรที่มีขนาดใหญ่และมีการกระจายตัว (ที่ทำงานหรือโรงเรียน) ซึ่งบุคคลมักจะมีความยืดหยุ่นในการซื้อ SaaS (ซอฟต์แวร์ในฐานะเป็นบริการ) สิทธิ์การใช้งานของตนเอง 
- สำหรับองค์กรหนึ่งคนหรือหน่วยงานขนาดเล็กที่จำเป็นต้องซื้อสิทธิ์การใช้งาน Power BI Pro เดียวเท่านั้นหรือเพียงไม่กี่ใบอนุญาต
- สำหรับบุคคลที่สนใจในการลองใช้ Power BI ให้ความเชี่ยวชาญก่อนซื้อการสมัครใช้งานสำหรับทั้งองค์กร
- สำหรับผู้ใช้ปัจจุบันที่มีสิทธิ์การใช้งาน Power BI ฟรีที่ตอนนี้คุณต้องการสร้างและแชร์เนื้อหาและอัปเกรดตัวเองให้เป็นรุ่นทดลองใช้ Power BI Pro 

### <a name="you-may-want-to-disable-self-service-when"></a>คุณอาจต้องการปิดใช้งานบริการตนเองเมื่อ:

- องค์กรของคุณมีกระบวนการจัดหาเพื่อให้ตรงตามความต้องการด้านการปฏิบัติตามข้อบังคับการรักษาความปลอดภัยและการกำกับดูแล คุณจำเป็นต้องตรวจสอบให้แน่ใจว่าสิทธิ์การใช้งาน Power BI Pro ทั้งหมดได้รับการอนุมัติและจัดการตามกระบวนการที่กำหนดไว้ 
- องค์กรของคุณมีข้อกำหนดสำหรับผู้ใช้ Power BI Pro ใหม่เช่นการฝึกอบรมที่จำเป็นหรือการยอมรับนโยบายการป้องกันข้อมูลของผู้ใช้
- องค์กรของคุณห้ามการใช้บริการของ Power BI เนื่องจากข้อมูลความเป็นส่วนตัวหรือข้อกังวลอื่นๆและจำเป็นต้องควบคุมการกำหนดสิทธิ์การใช้งาน Power BI ฟรีอย่างใกล้ชิด
- เพื่อให้แน่ใจว่าสิทธิ์การใช้งาน Power BI Pro ทั้งหมดอยู่ภายใต้ข้อตกลงขององค์กรเพื่อที่จะได้รับประโยชน์จากอัตราการให้สิทธิ์อนุญาตที่เจรจา/ส่วนลด
- สำหรับผู้ใช้ปัจจุบันที่มีสิทธิ์การใช้งาน Power BI ฟรีซึ่งได้รับการพร้อมท์ให้ลองหรือซื้อสิทธิ์การใช้งาน Power BI Pro โดยตรง องค์กรของคุณอาจไม่ต้องการให้ผู้ใช้เหล่านี้อัปเกรดเนื่องจากความปลอดภัยความเป็นส่วนตัวหรือค่าใช้จ่าย


## <a name="enable-and-disable-self-service"></a>เปิดใช้งานและปิดใช้งานบริการตนเอง

ในฐานะผู้ดูแลระบบ คุณสามารถกำหนดได้ว่าจะเปิดหรือปิดใช้งานการลงชื่อสมัครใช้บริการด้วยตนเอง คุณยังกำหนดว่าผู้ใช้ในองค์กรของคุณสามารถทำการซื้อแบบบริการตนเองเพื่อรับสิทธิ์การใช้งานของตนเองได้หรือไม่ 

การปิดการลงทะเบียนแบบบริการตนเองทำให้ผู้ใช้ไม่สามารถสำรวจ Power BI สำหรับการแสดงข้อมูลและการวิเคราะห์ได้ ถ้าคุณบล็อกการลงทะเบียนรายบุคคล คุณอาจต้องการรับสิทธิ์การใช้งาน Power BI (ฟรี) สำหรับองค์กรของคุณและกำหนดสิทธิ์นั้นให้กับผู้ใช้ทั้งหมด 

> [!NOTE]
>ถ้าคุณได้รับ Power BI ผ่านทางผู้ให้บริการโซลูชัน Cloud ของ Microsoft (CSP) การตั้งค่าอาจถูกปิดใช้งานเพื่อบล็อกผู้ใช้จากการลงทะเบียนเป็นรายบุคคล CSP ของคุณอาจทำหน้าที่เป็นผู้ดูแลระบบส่วนกลางสำหรับองค์กรของคุณด้วย ซึ่งทำให้คุณต้องติดต่อพวกเขาเพื่อช่วยคุณเปลี่ยนการตั้งค่านี้
>


 คุณจะใช้คำสั่ง PowerShell เพื่อเปลี่ยนการตั้งค่าที่ควบคุมการลงทะเบียนแบบบริการตนเองและการซื้อ 

- หากคุณต้องการปิดใช้งานการลงชื่อสมัครใช้บริการด้วยตนเองทั้งหมด ให้เปลี่ยนการตั้งค่าใน Azure Active Directory ที่ชื่อ **AllowAdHocSubscriptions** โดยใช้คำสั่ง Azure AD PowerShell ให้ปฏิบัติตามขั้นตอนในบทความนี้เพื่อ [เปิดหรือปิดใช้งานการลงชื่อสมัครใช้บริการด้วยตนเอง](#enable-or-disable-self-service-sign-up-for-your-organization) ตัวเลือกนี้จะเปิดใช้งานการลงชื่อสมัครใช้บริการด้วยตนเองสำหรับแอปและบริการที่ใช้งานระบบคลาวด์ของ Microsoft *ทั้งหมด*

- หากคุณต้องการป้องกันไม่ให้ผู้ใช้ซื้อสิทธิการใช้งาน Pro ของตนเอง ให้เปลี่ยนการตั้งค่า **AllowSelfServicePurchase** โดยใช้คำสั่ง MSCommerce PowerShell การตั้งค่านี้ช่วยให้คุณปิดการสั่งซื้อบริการผลิตภัณฑ์ที่เฉพาะเจาะจงด้วยตนเอง ให้ปฏิบัติตามขั้นตอนในบทความนี้เพื่อ[เปิดหรือปิดใช้งานการสั่งซื้อสิทธิการใช้งาน Power BI Pro ด้วยตนเอง](#enable-or-disable-self-service-purchase-in-your-organization)

## <a name="enable-or-disable-self-service-sign-up-for-your-organization"></a>เปิดใช้งานหรือปิดใช้งานการลงทะเบียนแบบบริการตนเองสำหรับองค์กรของคุณ

หากมีการเปิดใช้งานการลงชื่อสมัครใช้บริการด้วยตนเองไว้ ค่าของ **AllowAdHocSubscriptions** จะเป็น *จริง* มาดูกันว่าจะเกิดอะไรขึ้นหากคุณเปลี่ยนการตั้งค่านี้เป็น *เท็จ*:

- ผู้ใช้ใหม่ในองค์กรของคุณถูกบล็อคจากการลงทะเบียนแต่ละรายการ ผู้ใช้ใดๆที่ลงทะเบียนสำหรับ Power BI ก่อนที่คุณจะเปลี่ยนการตั้งค่าให้ใบอนุญาตของพวกเขา

- ผู้ใช้ที่มีสิทธิ์การใช้งาน Power BI (ฟรี) ยังคงสามารถลงทะเบียนสำหรับการทดลองใช้ Power BI Pro แต่ละครั้งได้

- ผู้ดูแลระบบจะจำเป็นต้องกำหนดสิทธิ์การใช้งาน Power BI ทั้งหมดให้กับลูกค้าใหม่ที่จำเป็นต้องมี

### <a name="before-you-begin"></a>ก่อนที่คุณเริ่มต้น

ขั้นตอนเหล่านี้ใช้คำสั่ง PowerShell ของ Azure Active Directory เพื่อเปลี่ยนค่าของการตั้งค่า **AllowAdHocSubscriptions** คุณต้องมีโมดูล Azure AD PowerShell ที่ติดตั้งไว้สำหรับคำสั่งเหล่านี้เพื่อให้สามารถใช้งานได้ คุณสามารถศึกษาข้อมูลเพิ่มเติมเกี่ยวกับการใช้ PowerShell ได้ที่ [เริ่มต้นใช้งาน Windows PowerShell](/powershell/scripting/getting-started/getting-started-with-windows-powershell)

ในการติดตั้งโมดูล Azure AD ให้เริ่มใช้งาน Windows PowerShell ในฐานะผู้ดูแลระบบ ตรวจสอบให้มั่นใจว่านโยบายการดำเนินการภายในเครื่องของคุณอนุญาตให้คุณเรียกใช้สคริปต์ได้ หากคุณพบปัญหา โปรอ่าน[นโยบายการดำเนินการของ PowerShell](/powershell/module/microsoft.powershell.core/about/about_execution_policies#powershell-execution-policies) เพื่อเรียนรู้วิธีการเปลี่ยนแปลงนโยบายภายในเครื่องของคุณ

เรียกใช้คำสั่งต่อไปนี้เพื่อติดตั้งโมดูล Azure AD:

```powershell
Install-Module MSOnline
```

### <a name="change-the-self-service-signup-policy"></a>เปลี่ยนนโยบายการลงชื่อสมัครใช้บริการด้วยตนเอง

ใน PowerShell ให้เรียกใช้คำสั่งต่อไปนี้เพื่อเชื่อมต่อไปยัง Azure AD:

```powershell
Connect-MsolService
```

ป้อนข้อมูลประจำตัวผู้ดูแลระบบของคุณลงในกล่องโต้ตอบการลงชื่อเข้าใช้ จากนั้นดำเนินการรับรองความถูกต้องแบบสองปัจจัยที่อาจจำเป็นต้องทำ หลังจากการตรวจสอบ คุณจะกลับไปยังหน้าต่าง PowerShell

หากต้องการดูการตั้งค่าปัจจุบัน ให้เรียกใช้คำสั่งต่อไปนี้ ผลลัพธ์จะถูกส่งไปยังรายการที่จัดรูปแบบไว้โดยใช้สวิตช์ "fl"

```powershell
Get-MsolCompanyInformation | fl AllowAdHocSubscriptions
```

หากต้องการเปลี่ยนการตั้งค่าปัจจุบัน ให้เรียกใช้คำสั่งนี้:

```powershell
Set-MsolCompanySettings -AllowAdHocSubscriptions $false
```

หลังจากเรียกใช้คำสั่งนี้ ระบบจะปิดการลงชื่อสมัครใช้บริการด้วยตนเองของผู้ใช้ทั้งหมด หากต้องการเปิดใช้งานอีกครั้ง ให้เรียกใช้คำสั่งนี้ใหม่แล้วตั้งค่าให้เป็น $true

## <a name="enable-or-disable-self-service-purchase-in-your-organization"></a>เปิดใช้งานหรือปิดใช้งานการซื้อแบบบริการตนเองในองค์กรของคุณ

หากเปิดใช้งานการสั่งซื้อบริการด้วยตนเองไว้ ค่าของ **AllowSelfServicePurchase** จะเป็น *จริง* มาดูกันว่าจะเกิดอะไรขึ้นหากคุณเปลี่ยนการตั้งค่านี้เป็น *เท็จ*:

- ผู้ใช้ในองค์กรของคุณถูกบล็อกจากการซื้อสิทธิ์การใช้งาน Power BI Pro ของตนเอง ผู้ใช้ใดๆที่ซื้อใบอนุญาตให้ใช้งานก่อนที่คุณจะเปลี่ยนการตั้งค่าให้ใบอนุญาตของพวกเขา

- ผู้ใช้ที่มีสิทธิ์การใช้งาน Power BI (ฟรี) ไม่สามารถรับสิทธิ์การใช้งาน Power BI Pro แต่ละรายการได้ 

- ผู้ดูแลระบบจำเป็นต้องกำหนดสิทธิ์การใช้งาน Pro ให้กับผู้ใช้ทั้งหมดที่จำเป็นต้องมี

### <a name="before-you-begin"></a>ก่อนที่คุณเริ่มต้น

ขั้นตอนเหล่านี้ใช้คำสั่ง MSCommerce PowerShell เพื่อเปลี่ยนค่าในการตั้งค่าของ **AllowSelfServicePurchase** คุณต้องมีโมดูล MSCommerce PowerShell ที่ติดตั้งไว้สำหรับคำสั่งเหล่านี้เพื่อให้สามารถใช้งานได้ คุณสามารถศึกษาข้อมูลเพิ่มเติมเกี่ยวกับการใช้ PowerShell ได้ที่ [เริ่มต้นใช้งาน Windows PowerShell](/powershell/scripting/getting-started/getting-started-with-windows-powershell)

ในการติดตั้งโมดูล MSCommerce ให้เริ่มใช้งาน Windows PowerShell ในฐานะผู้ดูแลระบบ ตรวจสอบให้มั่นใจว่านโยบายการดำเนินการภายในเครื่องของคุณอนุญาตให้คุณเรียกใช้สคริปต์ได้ หากคุณพบปัญหา โปรอ่าน[นโยบายการดำเนินการของ PowerShell](/powershell/module/microsoft.powershell.core/about/about_execution_policies#powershell-execution-policies) เพื่อเรียนรู้วิธีการเปลี่ยนแปลงนโยบายภายในเครื่องของคุณ

เรียกใช้คำสั่งต่อไปนี้เพื่อติดตั้งโมดูล MSCommerce:

```powershell
Install-Module -name MSCommerce
```

### <a name="change-the-self-service-signup-policy"></a>เปลี่ยนนโยบายการลงชื่อสมัครใช้บริการด้วยตนเอง

ใน PowerShell ให้เรียกใช้คำสั่งต่อไปนี้เพื่อเชื่อมต่อ:

```powershell
Connect-MSCommerce
```

ป้อนข้อมูลประจำตัวผู้ดูแลระบบของคุณลงในกล่องโต้ตอบการลงชื่อเข้าใช้ จากนั้นดำเนินการรับรองความถูกต้องแบบสองปัจจัยที่อาจจำเป็นต้องทำ หลังจากการตรวจสอบ หน้าต่าง PowerShell จะแสดงการเชื่อมต่อที่สำเร็จ

หากต้องการดูการตั้งค่าปัจจุบัน ให้เรียกใช้คำสั่งต่อไปนี้ เพื่อป้องกันการตัดทอนข้อความ ผลลัพธ์จะถูกส่งไปยังรายการที่จัดรูปแบบไว้โดยใช้สวิตช์ "fl"

```powershell
Get-MSCommercePolicy -PolicyId AllowSelfServicePurchase | fl
```

คุณสามารถปิดใช้งานการตั้งค่าที่อนุญาตให้มีการสั่งซื้อบริการของตนเองสำหรับแต่ละผลิตภัณฑ์โดยการแจ้ง **ProductId** เมื่อต้องการเปลี่ยนการตั้งค่าปัจจุบันสำหรับบริการของ Power BI ให้เรียกใช้คำสั่งนี้:

```powershell
Update-MSCommerceProductPolicy -PolicyId AllowSelfServicePurchase -ProductId CFQ7TTC0L3PB -Enabled $False
```

หลังจากเรียกใช้คำสั่งนี้ ระบบจะปิดการสั่งซื้อบริการด้วยตนเองของผู้ใช้ทั้งหมด หากต้องการเปิดใช้งานอีกครั้ง ให้เรียกใช้คำสั่งนี้ใหม่แล้วตั้งค่าให้เป็น $true

## <a name="what-to-do-if-individuals-have-already-used-self-service"></a>จะทำอย่างไรถ้าบุคคลที่มีการใช้บริการตนเองแล้ว

การลงทะเบียนและการซื้อแบบบริการตนเองทั้งสองเปิดใช้งานตามค่าเริ่มต้น ซึ่งเป็นไปได้สำหรับบุคคลในองค์กรของคุณที่มีสิทธิ์การใช้งาน Power BI และการสมัครสมาชิกอยู่แล้ว ไม่ว่าคุณจะดำเนินการใดๆหรือไม่คุณจำเป็นต้องมีรูปภาพที่ชัดเจนของสิ่งที่มีอยู่แล้ว

ผู้ใช้ที่เข้าร่วมกับผู้เช่าของคุณผ่านการลงชื่อสมัครใช้บริการด้วยตนเอง จะได้รับการกำหนดสิทธิ์การใช้งานเฉพาะที่คุณสามารถกรองได้ภายในบานหน้าต่างผู้ใช้ที่ใช้งานอยู่ในแดชบอร์ดผู้ดูแลระบบของคุณ หากต้องการสร้างมุมมองนี้ใหม่ ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ ศูนย์การจัดการ Microsoft 365

1. ในบานหน้าต่างนำทาง เลือก **ผู้ใช้** >  **ผู้ใช้ที่ใช้งานอยู่**

1. บนเมนู มุมมอง เลือก **เพิ่มมุมมองแบบกำหนดเอง**

1. ตั้งชื่อมุมมองใหม่ของคุณ และใต้ สิทธิ์การใช้งานที่มอบหมาย ให้เลือก Power BI (ฟรี) หรือ Power BI Pro

    คุณสามารถมีได้เพียงหนึ่งสิทธิ์การใช้งานที่เลือกต่อหนึ่งมุมมอง หากคุณมีทั้งสิทธิ์การใช้งาน Power BI (ฟรี) และ Power BI Pro ในองค์กรของคุณ คุณจะต้องสร้างสองมุมมอง

1. ใส่เงื่อนไขอื่นที่คุณต้องการ จากนั้นเลือก **เพิ่ม**

    หลังจากที่คุณสร้างมุมมองใหม่ มุมมองดังกล่าวจะพร้อมใช้งานจากเมนู มุมมอง


    > [!NOTE]
    > ถ้าองค์กรของคุณไม่มีสภาพแวดล้อม Microsoft 365 ที่เชื่อมต่อกับโดเมนอีเมลของคุณผู้ใช้แบบบริการตนเองได้รับการเพิ่มไปยังไดเรกทอรีผู้ใช้ระบบคลาวด์ใหม่ คุณอาจจำเป็นต้องค้นหาอ้างสิทธิ์และ[ใช้เวลามากกว่าผู้เช่าที่สร้างขึ้นแล้ว](https://docs.microsoft.com/azure/active-directory/users-groups-roles/domains-admin-takeover) 

## <a name="next-steps"></a>ขั้นตอนถัดไป

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการสั่งซื้อบริการด้วยตนเองใน Power BI และส่วนอื่น ๆ ของ Power Platform ใหอ่านบทความเหล่านี้:

- [คำถามที่พบบ่อยเกี่ยวกับการสั่งซื้อบริการด้วยตนเอง](/microsoft-365/commerce/subscriptions/self-service-purchase-faq#admin-capabilities)
- [ใช้ AllowSelfServicePurchase สำหรับโมดูล MSCommerce PowerShell](/microsoft-365/commerce/subscriptions/allowselfservicepurchase-powershell)