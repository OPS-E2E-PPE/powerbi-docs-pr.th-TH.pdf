---
title: ปรับความจุแบบพรีเมียมของ Microsoft Power BI ให้เหมาะสม
description: อธิบายกลยุทธ์การปรับให้เหมาะสมสำหรับความจุ Power BI Premium
author: davidiseminger
ms.author: davidi
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-premium
ms.topic: conceptual
ms.date: 11/11/2020
ms.custom: ''
LocalizationGroup: Premium
ms.openlocfilehash: dd0080f96117be949a7d4901f8445a509740b5b0
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96413460"
---
# <a name="optimizing-premium-capacities"></a><span data-ttu-id="72a45-103">การปรับความจุแบบพรีเมียมให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-103">Optimizing Premium capacities</span></span>

<span data-ttu-id="72a45-104">เมื่อเกิดปัญหาเกี่ยวกับประสิทธิภาพของความจุแบบพรีเมียม แนวทางแรกทั่วไปคือการปรับหรือปรับแต่งโซลูชันเพื่อคืนค่าเวลาการตอบสนองที่ยอมรับได้</span><span class="sxs-lookup"><span data-stu-id="72a45-104">When Premium capacity performance issues arise, a common first approach is to optimize or tune your solutions to restore acceptable response times.</span></span> <span data-ttu-id="72a45-105">เหตุผลในการหลีกเลี่ยงการซื้อความจุแบบพรีเมียมเพิ่มเติม เว้นแต่จะได้รับการพิสูจน์แล้ว</span><span class="sxs-lookup"><span data-stu-id="72a45-105">The rationale being to avoid purchasing additional Premium capacity unless justified.</span></span>

<span data-ttu-id="72a45-106">เมื่อจำเป็นต้องใช้ความจุแบบพรีเมียมเพิ่มเติม มีสองตัวเลือกซึ่งจะกล่าวถึงในภายหลังในบทความนี้:</span><span class="sxs-lookup"><span data-stu-id="72a45-106">When additional Premium capacity is required, there are two options described in this article:</span></span>

- <span data-ttu-id="72a45-107">เพิ่มขนาดความจุพรีเมียมที่มีอยู่</span><span class="sxs-lookup"><span data-stu-id="72a45-107">Scale-up an existing Premium capacity</span></span>
- <span data-ttu-id="72a45-108">เพิ่มความจุแบบพรีเมียมใหม่</span><span class="sxs-lookup"><span data-stu-id="72a45-108">Add a new Premium capacity</span></span>

<span data-ttu-id="72a45-109">สุดท้าย การทดสอบวิธีการและการปรับขนาดความจุแบบพรีเมียมจะรวบรวมไว้ในบทความนี้</span><span class="sxs-lookup"><span data-stu-id="72a45-109">Finally, testing approaches and Premium capacity sizing conclude this article.</span></span>

> [!NOTE]
> <span data-ttu-id="72a45-110">Power BI Premium เพิ่งเปิดตัว Premium เวอร์ชันใหม่ชื่อ **Premium Gen2** ซึ่งกำลังอยู่ในช่วงการแสดงตัวอย่าง</span><span class="sxs-lookup"><span data-stu-id="72a45-110">Power BI Premium recently released a new version of Premium, called **Premium Gen2**, which is currently in preview.</span></span> <span data-ttu-id="72a45-111">Premium Gen2 จะทำให้การจัดการความจุระดับพรีเมียมง่ายขึ้นและลดค่าใช้จ่ายในการจัดการ</span><span class="sxs-lookup"><span data-stu-id="72a45-111">Premium Gen2 will simplify the management of Premium capacities, and reduce management overhead.</span></span> <span data-ttu-id="72a45-112">สำหรับข้อมูลเพิ่มเติม โปรดดูที่ [Power BI Premium Generation 2 (ตัวอย่าง)](service-premium-what-is.md#power-bi-premium-generation-2-preview)</span><span class="sxs-lookup"><span data-stu-id="72a45-112">For more information, see [Power BI Premium Generation 2 (preview)](service-premium-what-is.md#power-bi-premium-generation-2-preview).</span></span>

<span data-ttu-id="72a45-113">คำแนะนำและแนวทางปฏิบัติที่ดีที่สุดที่แนะนำในบทความนี้ช่วยให้มั่นใจได้ว่าการใช้งาน CPU ของแต่ละชุดข้อมูลและอาร์ทิแฟกต์ Power BI อื่น ๆ ได้รับการปรับให้เหมาะสมแล้ว</span><span class="sxs-lookup"><span data-stu-id="72a45-113">The recommendations and best practices recommended in this article ensure CPU utilization of each dataset, and other Power BI artifacts, are optimized.</span></span>

## <a name="best-practices"></a><span data-ttu-id="72a45-114">แนวทางปฏิบัติที่ดีที่สุด</span><span class="sxs-lookup"><span data-stu-id="72a45-114">Best practices</span></span>

<span data-ttu-id="72a45-115">เพื่อให้สามารถใช้ประโยชน์ได้สูงสุดและมีประสิทธิภาพมากที่สุด มีแนวทางปฏิบัติที่ดีที่สุดที่แนะนำบางอย่าง ซึ่งรวมถึง:</span><span class="sxs-lookup"><span data-stu-id="72a45-115">When trying to get the best utilization and performance, there are some recommended best practices, including:</span></span>

- <span data-ttu-id="72a45-116">การใช้พื้นที่ทำงานแทนพื้นที่ทำงานส่วนบุคคล</span><span class="sxs-lookup"><span data-stu-id="72a45-116">Using workspaces instead of personal workspaces.</span></span>
- <span data-ttu-id="72a45-117">การแยกความสำคัญทางธุรกิจและ Self-Service BI (SSBI) ลงในความจุอื่น</span><span class="sxs-lookup"><span data-stu-id="72a45-117">Separating business critical and Self-Service BI (SSBI) into different capacities.</span></span>

  ![การแยกความสำคัญทางธุรกิจและ Self-Service BI ลงในความจุอื่น](media/service-premium-capacity-optimize/separate-capacities.png)

- <span data-ttu-id="72a45-119">ถ้ามีการแชร์เนื้อหากับผู้ใช้ Power BI Pro เท่านั้น อาจไม่จำเป็นต้องจัดเก็บเนื้อหาในความจุเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="72a45-119">If sharing content only with Power BI Pro users, there may be no need to store the content in a dedicated capacity.</span></span>
- <span data-ttu-id="72a45-120">ใช้ความจุเฉพาะเมื่อต้องการเวลาการรีเฟรชที่เฉพาะเจาะจง หรือเมื่อจำเป็นต้องใช้คุณลักษณะเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="72a45-120">Use dedicated capacities when looking to achieve a specific refresh time, or when specific features are required.</span></span> <span data-ttu-id="72a45-121">ตัวอย่างเช่น ชุดข้อมูลขนาดใหญ่หรือรายงานที่มีการแบ่งหน้า</span><span class="sxs-lookup"><span data-stu-id="72a45-121">For example, with large datasets or paginated reporting.</span></span>

### <a name="addressing-common-questions"></a><span data-ttu-id="72a45-122">การกำหนดคำถามทั่วไป</span><span class="sxs-lookup"><span data-stu-id="72a45-122">Addressing common questions</span></span>

<span data-ttu-id="72a45-123">การปรับใช้ Power BI Premium ให้เหมาะสมเป็นเรื่องที่ซับซ้อนที่เกี่ยวข้องกับการทำความเข้าใจข้อกำหนดของปริมาณงาน ทรัพยากรที่มีอยู่ และการใช้งานอย่างมีประสิทธิภาพ</span><span class="sxs-lookup"><span data-stu-id="72a45-123">Optimizing Power BI Premium deployments is a complex subject involving an understanding of workload requirements, available resources, and their effective use.</span></span>

<span data-ttu-id="72a45-124">บทความนี้เน้นคำถามการสนับสนุนโดยทั่วไปเจ็ดข้อ ซึ่งอธิบายปัญหาที่อาจเกิดขึ้นและคำอธิบาย รวมถึงข้อมูลเกี่ยวกับวิธีการระบุและแก้ไขปัญหา</span><span class="sxs-lookup"><span data-stu-id="72a45-124">This article addresses seven common support questions, describing possible issues and explanations, and information on how to identify and resolve them.</span></span>

### <a name="why-is-the-capacity-slow-and-what-can-i-do"></a><span data-ttu-id="72a45-125">ทำไมความจุจึงช้าลง และฉันสามารถทำอะไรได้บ้าง</span><span class="sxs-lookup"><span data-stu-id="72a45-125">Why is the capacity slow, and what can I do?</span></span>

<span data-ttu-id="72a45-126">มีหลายเหตุผลที่สามารถทำให้ความจุแบบพรีเมียมช้าลง</span><span class="sxs-lookup"><span data-stu-id="72a45-126">There are many reasons that can contribute to a slow Premium capacity.</span></span> <span data-ttu-id="72a45-127">คำถามนี้ต้องการข้อมูลเพิ่มเติมเพื่อทำความเข้าใจกับสิ่งที่ทำให้ช้าลง</span><span class="sxs-lookup"><span data-stu-id="72a45-127">This question requires further information to understand what is meant by slow.</span></span> <span data-ttu-id="72a45-128">รายงานโหลดช้าหรือไม่</span><span class="sxs-lookup"><span data-stu-id="72a45-128">Are reports slow to load?</span></span> <span data-ttu-id="72a45-129">หรือไม่สามารถโหลดรายงานได้ใช่หรือไม่</span><span class="sxs-lookup"><span data-stu-id="72a45-129">Or are they failing to load?</span></span> <span data-ttu-id="72a45-130">วิชวลการรายงานโหลดช้าหรืออัปเดตเมื่อผู้ใช้โต้ตอบกับรายงานใช่หรือไม่</span><span class="sxs-lookup"><span data-stu-id="72a45-130">Are report visuals slow to load or update when users interact with the report?</span></span> <span data-ttu-id="72a45-131">การรีเฟรชใช้เวลานานกว่าจะเสร็จสมบูรณ์ซึ่งนานกว่าที่คาดไว้หรือเคยมีประสบการณ์มาก่อนหรือไม่</span><span class="sxs-lookup"><span data-stu-id="72a45-131">Are refreshed taking longer to complete than expected, or previously experienced?</span></span>

<span data-ttu-id="72a45-132">เมื่อเข้าใจเหตุผลแล้ว คุณสามารถเริ่มตรวจสอบได้</span><span class="sxs-lookup"><span data-stu-id="72a45-132">Having gained an understanding of the reason, you can then begin to investigate.</span></span> <span data-ttu-id="72a45-133">คำตอบสำหรับคำถามหกข้อต่อไปนี้จะช่วยให้คุณสามารถแก้ไขปัญหาที่เฉพาะเจาะจงได้มากขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-133">Responses to the following six questions will help you to address more specific issues.</span></span>

### <a name="what-content-is-using-up-my-capacity"></a><span data-ttu-id="72a45-134">เนื้อหาใดที่ใช้ความจุของฉันหมด</span><span class="sxs-lookup"><span data-stu-id="72a45-134">What content is using up my capacity?</span></span>

<span data-ttu-id="72a45-135">คุณสามารถใช้แอป **เมตริกความจุ Power BI Premium** เพื่อกรองตามความจุ และตรวจสอบเมตริกประสิทธิภาพการทำงานสำหรับเนื้อหาของพื้นที่ทำงานได้</span><span class="sxs-lookup"><span data-stu-id="72a45-135">You can use the **Power BI Premium Capacity Metrics** app to filter by capacity, and review performance metrics for workspace content.</span></span> <span data-ttu-id="72a45-136">คุณสามารถตรวจสอบเมตริกประสิทธิภาพการทำงานและการใช้งานทรัพยากรต่อชั่วโมงในช่วงเจ็ดวันที่ผ่านมาสำหรับเนื้อหาทั้งหมดที่จัดเก็บไว้ภายในความจุแบบพรีเมียม</span><span class="sxs-lookup"><span data-stu-id="72a45-136">It's possible to review the performance metrics and resource usage by hour for the past seven days for all content stored within a Premium capacity.</span></span> <span data-ttu-id="72a45-137">การตรวจสอบมักจะเป็นขั้นตอนแรกที่จะดำเนินการเมื่อแก้ไขปัญหาข้อกังวลทั่วไปเกี่ยวกับประสิทธิภาพการทำงานของความจุแบบพรีเมียม</span><span class="sxs-lookup"><span data-stu-id="72a45-137">Monitoring is often the first step to take when troubleshooting a general concern about Premium capacity performance.</span></span>

<span data-ttu-id="72a45-138">เมตริกหลักที่จะต้องตรวจสอบรวมถึง:</span><span class="sxs-lookup"><span data-stu-id="72a45-138">Key metrics to monitor include:</span></span>

- <span data-ttu-id="72a45-139">CPU โดยเฉลี่ยและจำนวนการใช้งานสูง</span><span class="sxs-lookup"><span data-stu-id="72a45-139">Average CPU and high utilization count.</span></span>
- <span data-ttu-id="72a45-140">หน่วยความจำโดยเฉลี่ย และจำนวนการใช้งานสูง และการใช้หน่วยความจำสำหรับชุดข้อมูลที่เฉพาะเจาะจง กระแสข้อมูล และรายงานที่มีการแบ่งหน้า</span><span class="sxs-lookup"><span data-stu-id="72a45-140">Average Memory and high utilization count, and memory usage for specific datasets, dataflows, and paginated reports.</span></span>
- <span data-ttu-id="72a45-141">ชุดข้อมูลที่ใช้งานอยู่ที่โหลดในหน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="72a45-141">Active datasets loaded in memory.</span></span>
- <span data-ttu-id="72a45-142">ระยะเวลาการคิวรีโดยเฉลี่ยและสูงสุด</span><span class="sxs-lookup"><span data-stu-id="72a45-142">Average and maximum query durations.</span></span>
- <span data-ttu-id="72a45-143">เวลารอคิวรีโดยเฉลี่ย</span><span class="sxs-lookup"><span data-stu-id="72a45-143">Average query wait times.</span></span>
- <span data-ttu-id="72a45-144">เวลาการรีเฟรชชุดข้อมูลและกระแสข้อมูลโดยเฉลี่ย</span><span class="sxs-lookup"><span data-stu-id="72a45-144">Average dataset and dataflow refresh times.</span></span>

<span data-ttu-id="72a45-145">ในแอปเมตริกความจุ Power BI Premium หน่วยความจำที่ใช้งานอยู่จะแสดงจำนวนหน่วยความจำทั้งหมดที่กำหนดไว้สำหรับรายงานที่ไม่ได้ถูกลดสัดส่วนเนื่องจากมีการใช้งานในสามนาทีที่ผ่านมา</span><span class="sxs-lookup"><span data-stu-id="72a45-145">In the Power BI Premium Capacity Metrics app, active memory shows the total amount of memory given to a report that cannot be evicted because it has been in use within the last three minutes.</span></span> <span data-ttu-id="72a45-146">อัตราการเพิ่มขึ้นสูงในระยะเวลารอการรีเฟรชอาจมีความสัมพันธ์กับชุดข้อมูลขนาดใหญ่และ/หรือชุดข้อมูลที่ใช้งานอยู่</span><span class="sxs-lookup"><span data-stu-id="72a45-146">A high spike in refresh wait time could be correlated with a large and/or active dataset.</span></span>

<span data-ttu-id="72a45-147">แผนภูมิ **ระยะเวลาเฉลี่ยสูงสุด 5 อันดับแรก** เน้นชุดข้อมูลห้าอันดับแรก รายงานที่มีการแบ่งหน้า กระแสข้อมูลที่ใช้ทรัพยากรความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-147">The **Top 5 by Average Duration** chart highlights the top five datasets, paginated reports, and dataflows consuming capacity resources.</span></span> <span data-ttu-id="72a45-148">เนื้อหาในรายการห้าอันดับแรกเป็นตัวเลือกสำหรับการตรวจสอบและการเพิ่มประสิทธิภาพที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-148">Content in the top five lists is candidates for investigation and possible optimization.</span></span>

### <a name="why-are-reports-slow"></a><span data-ttu-id="72a45-149">ทำไมรายงานจึงช้า</span><span class="sxs-lookup"><span data-stu-id="72a45-149">Why are reports slow?</span></span>

<span data-ttu-id="72a45-150">ตารางต่อไปนี้แสดงปัญหาที่เป็นไปได้และวิธีการระบุและแก้ไขปัญหาเหล่านั้น</span><span class="sxs-lookup"><span data-stu-id="72a45-150">The following tables show possible issues and ways to identify and handle them.</span></span>

#### <a name="insufficient-capacity-resources"></a><span data-ttu-id="72a45-151">ทรัพยากรความจุไม่เพียงพอ</span><span class="sxs-lookup"><span data-stu-id="72a45-151">Insufficient capacity resources</span></span>

| <span data-ttu-id="72a45-152">คำอธิบายที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-152">Possible Explanations</span></span> | <span data-ttu-id="72a45-153">วิธีการระบุ</span><span class="sxs-lookup"><span data-stu-id="72a45-153">How to Identify</span></span> | <span data-ttu-id="72a45-154">วิธีการแก้ไข</span><span class="sxs-lookup"><span data-stu-id="72a45-154">How to Resolve</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72a45-155">หน่วยความจำที่ใช้งานอยู่โดยรวมแล้วมีปริมาณสูง (แบบจำลองไม่สามารถลดสัดส่วนได้เนื่องจากมีการใช้งานในสามนาทีล่าสุด)</span><span class="sxs-lookup"><span data-stu-id="72a45-155">High total active memory (model can't be evicted because it's in use within the last three minutes).</span></span><br><br> <span data-ttu-id="72a45-156">อัตราการเพิ่มขึ้นอย่างรวดเร็วทันทีทันใดสูงหลายเท่าในเวลารอคิวรี</span><span class="sxs-lookup"><span data-stu-id="72a45-156">Multiple high spikes in query wait times.</span></span><br><br> <span data-ttu-id="72a45-157">อัตราการเพิ่มขึ้นอย่างรวดเร็วทันทีทันใดสูงหลายเท่าในเวลารอรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="72a45-157">Multiple high spikes in refresh wait times.</span></span> | <span data-ttu-id="72a45-158">ตรวจสอบเมตริกหน่วยความจำ \[[1](#endnote-1)\]และจำนวนการลดสัดส่วน \[[2](#endnote-2)\]</span><span class="sxs-lookup"><span data-stu-id="72a45-158">Monitor memory metrics \[[1](#endnote-1)\], and eviction counts \[[2](#endnote-2)\].</span></span> | <span data-ttu-id="72a45-159">ลดขนาดแบบจำลองหรือแปลงเป็นโหมด DirectQuery</span><span class="sxs-lookup"><span data-stu-id="72a45-159">Decrease the model size, or convert to DirectQuery mode.</span></span> <span data-ttu-id="72a45-160">ดูที่ส่วน [การปรับแบบจำลองให้เหมาะสม](#optimizing-models) ในบทความนี้</span><span class="sxs-lookup"><span data-stu-id="72a45-160">See the [Optimizing models](#optimizing-models) section in this article.</span></span><br><br> <span data-ttu-id="72a45-161">เพิ่มขนาดความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-161">Scale-up the capacity.</span></span><br><br> <span data-ttu-id="72a45-162">กำหนดเนื้อหาไปยังความจุอื่น</span><span class="sxs-lookup"><span data-stu-id="72a45-162">Assign the content to a different capacity.</span></span> |

#### <a name="inefficient-report-designs"></a><span data-ttu-id="72a45-163">การออกแบบรายงานที่ไม่มีประสิทธิภาพ</span><span class="sxs-lookup"><span data-stu-id="72a45-163">Inefficient report designs</span></span>

| <span data-ttu-id="72a45-164">คำอธิบายที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-164">Possible Explanations</span></span> | <span data-ttu-id="72a45-165">วิธีการระบุ</span><span class="sxs-lookup"><span data-stu-id="72a45-165">How to Identify</span></span> | <span data-ttu-id="72a45-166">วิธีการแก้ไข</span><span class="sxs-lookup"><span data-stu-id="72a45-166">How to Resolve</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72a45-167">หน้ารายงานประกอบด้วยวิชวลมากมายเกินไป (การกรองแบบโต้ตอบสามารถทริกเกอร์อย่างน้อยหนึ่งคิวรีต่อวิชวล)</span><span class="sxs-lookup"><span data-stu-id="72a45-167">Report pages contain too many visuals (interactive filtering can trigger at least one query per visual).</span></span><br><br> <span data-ttu-id="72a45-168">วิชวลจะดึงข้อมูลมากเกินความจำเป็น</span><span class="sxs-lookup"><span data-stu-id="72a45-168">Visuals retrieve more data than necessary.</span></span> | <span data-ttu-id="72a45-169">ตรวจสอบการออกแบบรายงาน</span><span class="sxs-lookup"><span data-stu-id="72a45-169">Review report designs.</span></span><br><br> <span data-ttu-id="72a45-170">สัมภาษณ์ผู้ใช้รายงานเพื่อทำความเข้าใจวิธีการที่พวกเขาโต้ตอบกับรายงาน</span><span class="sxs-lookup"><span data-stu-id="72a45-170">Interview report users to understand how they interact with the reports.</span></span><br><br> <span data-ttu-id="72a45-171">ตรวจสอบเมตริกคิวรีของชุดข้อมูล \[[3](#endnote-3)\]</span><span class="sxs-lookup"><span data-stu-id="72a45-171">Monitor dataset query metrics \[[3](#endnote-3)\].</span></span> | <span data-ttu-id="72a45-172">การออกแบบรายงานใหม่ที่มีวิชวลที่น้อยลงสำหรับแต่ละหน้า</span><span class="sxs-lookup"><span data-stu-id="72a45-172">Redesign reports with fewer visuals per page.</span></span> |

#### <a name="dataset-is-slow-especially-when-reports-have-previously-performed-well"></a><span data-ttu-id="72a45-173">ชุดข้อมูลช้าโดยเฉพาะอย่างยิ่งเมื่อรายงานก่อนหน้านี้ทำได้ดี</span><span class="sxs-lookup"><span data-stu-id="72a45-173">Dataset is slow, especially when reports have previously performed well</span></span>

| <span data-ttu-id="72a45-174">คำอธิบายที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-174">Possible Explanations</span></span> | <span data-ttu-id="72a45-175">วิธีการระบุ</span><span class="sxs-lookup"><span data-stu-id="72a45-175">How to Identify</span></span> | <span data-ttu-id="72a45-176">วิธีการแก้ไข</span><span class="sxs-lookup"><span data-stu-id="72a45-176">How to Resolve</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72a45-177">ปริมาณข้อมูลการนำเข้าเพิ่มขึ้นเรื่อย ๆ เป็นจำนวนมาก</span><span class="sxs-lookup"><span data-stu-id="72a45-177">Increasingly large volumes of import data.</span></span><br><br> <span data-ttu-id="72a45-178">ตรรกะการคำนวณที่ซับซ้อนหรือไม่มีประสิทธิภาพ รวมถึงบทบาท RLS</span><span class="sxs-lookup"><span data-stu-id="72a45-178">Complex or inefficient calculation logic, including RLS roles.</span></span><br><br> <span data-ttu-id="72a45-179">แบบจำลองไม่ได้รับการปรับให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-179">Model not fully optimized.</span></span><br><br> <span data-ttu-id="72a45-180">เวลาแฝงเกตเวย์ (DQ/LC)</span><span class="sxs-lookup"><span data-stu-id="72a45-180">(DQ/LC) Gateway latency.</span></span><br><br> <span data-ttu-id="72a45-181">เวลาการตอบสนองของคิวรีต้นทาง DQ ช้า</span><span class="sxs-lookup"><span data-stu-id="72a45-181">Slow DQ source query response times.</span></span> | <span data-ttu-id="72a45-182">ตรวจสอบการออกแบบแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="72a45-182">Review model designs.</span></span><br><br> <span data-ttu-id="72a45-183">ตรวจสอบตัวนับประสิทธิภาพของเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="72a45-183">Monitor gateway performance counters.</span></span> | <span data-ttu-id="72a45-184">ดูที่ส่วน [การปรับแบบจำลองให้เหมาะสม](#optimizing-models) ในบทความนี้</span><span class="sxs-lookup"><span data-stu-id="72a45-184">See the [Optimizing models](#optimizing-models) section in this article.</span></span> |

#### <a name="high-concurrent-report-usage"></a><span data-ttu-id="72a45-185">การใช้รายงานพร้อมกันสูง</span><span class="sxs-lookup"><span data-stu-id="72a45-185">High concurrent report usage</span></span>

| <span data-ttu-id="72a45-186">คำอธิบายที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-186">Possible Explanations</span></span> | <span data-ttu-id="72a45-187">วิธีการระบุ</span><span class="sxs-lookup"><span data-stu-id="72a45-187">How to Identify</span></span> | <span data-ttu-id="72a45-188">วิธีการแก้ไข</span><span class="sxs-lookup"><span data-stu-id="72a45-188">How to Resolve</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72a45-189">เวลารอคิวรีสูง</span><span class="sxs-lookup"><span data-stu-id="72a45-189">High query wait times.</span></span><br><br> <span data-ttu-id="72a45-190">ความอิ่มตัวของ CPU</span><span class="sxs-lookup"><span data-stu-id="72a45-190">CPU saturation.</span></span><br><br> <span data-ttu-id="72a45-191">เกินขีดจำกัดการเชื่อมต่อ DQ/LC</span><span class="sxs-lookup"><span data-stu-id="72a45-191">DQ/LC connection limits exceeded.</span></span> | <span data-ttu-id="72a45-192">ตรวจสอบการใช้งาน CPU \[[4](#endnote-4)\], เวลารอคิวรี และการใช้งาน DQ/LC \[[5](#endnote-5)\]เมตริก + ระยะเวลาการคิวรี</span><span class="sxs-lookup"><span data-stu-id="72a45-192">Monitor CPU utilization \[[4](#endnote-4)\], query wait times, and DQ/LC utilization \[[5](#endnote-5)\] metrics + Query durations.</span></span> <span data-ttu-id="72a45-193">ถ้ามีความผันผวน สามารถระบุได้ว่ามีปัญหาเกิดพร้อมกัน</span><span class="sxs-lookup"><span data-stu-id="72a45-193">If fluctuating, can indicate concurrency issues.</span></span> | <span data-ttu-id="72a45-194">เพิ่มขนาดความจุหรือกำหนดเนื้อหาไปยังความจุอื่น</span><span class="sxs-lookup"><span data-stu-id="72a45-194">Scale-up the capacity, or assign the content to a different capacity.</span></span><br><br> <span data-ttu-id="72a45-195">การออกแบบรายงานใหม่ที่มีวิชวลที่น้อยลงสำหรับแต่ละหน้า</span><span class="sxs-lookup"><span data-stu-id="72a45-195">Redesign reports with fewer visuals per page.</span></span> |

<span data-ttu-id="72a45-196">**หมายเหตุ:**  </span><span class="sxs-lookup"><span data-stu-id="72a45-196">**Notes:** </span></span>  
<a name="endnote-1"></a><span data-ttu-id="72a45-197">\[1\] การใช้หน่วยความจำเฉลี่ย (GB) และปริมาณการใช้หน่วยความจำสูงสุด (GB)</span><span class="sxs-lookup"><span data-stu-id="72a45-197">\[1\] Average Memory Usage (GB), and Highest Memory Consumption (GB).</span></span>   
<a name="endnote-2"></a><span data-ttu-id="72a45-198">\[2\] การลดสัดส่วนชุดข้อมูล</span><span class="sxs-lookup"><span data-stu-id="72a45-198">\[2\] Dataset evictions.</span></span>   
<a name="endnote-3"></a><span data-ttu-id="72a45-199">\[3\] คิวรีชุดข้อมูล, ระยะเวลาการคิวรีโดยเฉลี่ยของชุดข้อมูล (มิลลิวินาที), จำนวนชุดข้อมูล และเวลารอของชุดข้อมูลโดยเฉลี่ย (มิลลิวินาที)</span><span class="sxs-lookup"><span data-stu-id="72a45-199">\[3\] Dataset Queries, Dataset Average Query Duration (ms), Dataset Wait Count, and Dataset Average Wait Time (ms).</span></span>   
<a name="endnote-4"></a><span data-ttu-id="72a45-200">\[4\] จำนวนการใช้งาน CPU สูง และเวลาในการใช้งาน CPU สูงสุด (เจ็ดวันที่ผ่านมา)</span><span class="sxs-lookup"><span data-stu-id="72a45-200">\[4\] CPU High Utilization Count and CPU Time of Highest Utilization (past seven days).</span></span>   
<a name="endnote-5"></a><span data-ttu-id="72a45-201">\[5\] จำนวนการใช้งาน DQ/LC สูง และเวลาในการใช้งาน DQ/LC สูงสุด (เจ็ดวันที่ผ่านมา)</span><span class="sxs-lookup"><span data-stu-id="72a45-201">\[5\] DQ/LC High Utilization Count and DQ/LC Time of Highest Utilization (past seven days).</span></span>   

### <a name="why-are-reports-not-loading"></a><span data-ttu-id="72a45-202">เหตุใดรายงานจึงไม่โหลด</span><span class="sxs-lookup"><span data-stu-id="72a45-202">Why are reports not loading?</span></span>

<span data-ttu-id="72a45-203">เมื่อรายงานไม่สามารถโหลดได้ เป็นสัญญาณเตือนว่าความจุนั้นมีหน่วยความจำไม่เพียงพอและมีอุณหภูมิสูงเกินไป</span><span class="sxs-lookup"><span data-stu-id="72a45-203">When reports fail to load, it's a sure sign the capacity has insufficient memory and is over-heated.</span></span> <span data-ttu-id="72a45-204">สิ่งนี้สามารถเกิดขึ้นได้เมื่อแบบจำลองที่โหลดทั้งหมดกำลังถูกคิวรีอย่างแข็งขันและไม่สามารถลบออกไล่ได ้และการดำเนินการรีเฟรชใด ๆ ได้ถูกหยุดชั่วคราวหรือล่าช้า</span><span class="sxs-lookup"><span data-stu-id="72a45-204">This can occur when all loaded models are being actively queried and so cannot be evicted, and any refresh operations have been paused or delayed.</span></span> <span data-ttu-id="72a45-205">บริการของ Power BI จะพยายามโหลดชุดข้อมูลเป็น 30 วินาที และผู้ใช้ได้รับแจ้งเตือนอย่างสุภาพถึงความล้มเหลว พร้อมด้วยคำแนะนำให้ลองอีกครั้งในอีกสักครู่</span><span class="sxs-lookup"><span data-stu-id="72a45-205">The Power BI service will attempt to load the dataset for 30 seconds, and the user is gracefully notified of the failure with a suggestion to try again shortly.</span></span>

<span data-ttu-id="72a45-206">ในขณะนี้ ไม่มีเมตริกสำหรับตรวจสอบความล้มเหลวในการโหลดรายงาน</span><span class="sxs-lookup"><span data-stu-id="72a45-206">Currently there is no metric to monitor for report loading failures.</span></span> <span data-ttu-id="72a45-207">คุณสามารถระบุความเป็นไปได้ของปัญหานี้ได้โดยการตรวจสอบหน่วยความจำระบบ โดยเฉพาะการใช้งานสูงสุดและเวลาที่มีการใช้งานสูงสุด</span><span class="sxs-lookup"><span data-stu-id="72a45-207">You can identify the potential for this issue by monitoring system memory, specifically highest utilization and time of highest utilization.</span></span> <span data-ttu-id="72a45-208">การลดสัดส่วนชุดข้อมูลสูงและเวลารอเฉลี่ยในการรีเฟรชชุดข้อมูลที่นานแสดงว่าปัญหานี้กำลังเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-208">High dataset evictions and long dataset refresh average wait time could suggest that this issue is occurring.</span></span>

<span data-ttu-id="72a45-209">หากเหตุการณ์เกิดขึ้นเพียงแค่นาน ๆ ครั้ง อาจไม่ถือว่าเป็นปัญหาที่มีความสำคัญ</span><span class="sxs-lookup"><span data-stu-id="72a45-209">If this happens only very occasionally, this may not be considered a priority issue.</span></span> <span data-ttu-id="72a45-210">ผู้ใช้รายงานจะได้รับแจ้งว่าบริการไม่ว่างและควรลองอีกครั้งหลังจากนั้นสักครู่</span><span class="sxs-lookup"><span data-stu-id="72a45-210">Report users are informed that the service is busy and that they should retry after a short time.</span></span> <span data-ttu-id="72a45-211">หากเหตุการณ์นี้เกิดขึ้นบ่อยเกินไป ปัญหาสามารถแก้ไขได้ด้วยการเพิ่มขนาดความจุแบบพรีเมียมหรือโดยการกำหนดเนื้อหาไปยังความจุอื่น</span><span class="sxs-lookup"><span data-stu-id="72a45-211">If this happens too frequently, the issue can be resolved by scaling up the Premium capacity or by assigning the content to a different capacity.</span></span>

<span data-ttu-id="72a45-212">ผู้ดูแลระบบความจุ (และผู้ดูแลระบบบริการของ Power BI) สามารถตรวจสอบเมตริก **ความล้มเหลวของคิวรี** เพื่อกำหนดช่วงเวลาที่เหตุการณ์นี้จะเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-212">Capacity Admins (and Power BI service administrators) can monitor the **Query Failures** metric to determine when this happens.</span></span> <span data-ttu-id="72a45-213">นอกจากนี้ พวกเขายังสามารถรีสตาร์ทความจุ โดยการรีเซ็ตการทำงานทั้งหมดในกรณีที่ระบบโอเวอร์โหลด</span><span class="sxs-lookup"><span data-stu-id="72a45-213">They can also restart the capacity, resetting all operations in case of system overload.</span></span>

### <a name="why-are-refreshes-not-starting-on-schedule"></a><span data-ttu-id="72a45-214">ทำไมการรีเฟรชจึงไม่เริ่มต้นตามกำหนดเวลา</span><span class="sxs-lookup"><span data-stu-id="72a45-214">Why are refreshes not starting on schedule?</span></span>

<span data-ttu-id="72a45-215">ไม่รับประกันเวลาเริ่มต้นการรีเฟรชตามกำหนดเวลา</span><span class="sxs-lookup"><span data-stu-id="72a45-215">Scheduled refresh start times are not guaranteed.</span></span> <span data-ttu-id="72a45-216">โปรดทราบว่าบริการของ Power BI จะจัดลำดับความสำคัญของการทำงานแบบโต้ตอบเหนือกว่าการทำงานแบบเบื้องหลังเสมอ</span><span class="sxs-lookup"><span data-stu-id="72a45-216">Recall that the Power BI service will always prioritize interactive operations over background operations.</span></span> <span data-ttu-id="72a45-217">การรีเฟรชเป็นการทำงานแบบเบื้องหลังที่สามารถเกิดขึ้นเมื่อตรงตามเงื่อนไขสองประการได้แก่:</span><span class="sxs-lookup"><span data-stu-id="72a45-217">Refresh is a background operation that can occur when two conditions are met:</span></span>

- <span data-ttu-id="72a45-218">มีหน่วยความจำเพียงพอ</span><span class="sxs-lookup"><span data-stu-id="72a45-218">There is sufficient memory</span></span>
- <span data-ttu-id="72a45-219">ไม่เกินจำนวนการรีเฟรชที่เกิดขึ้นพร้อมกันที่ความจุแบบพรีเมียมรองรับ</span><span class="sxs-lookup"><span data-stu-id="72a45-219">The number of supported concurrent refreshes for the Premium capacity is not exceeded</span></span>

<span data-ttu-id="72a45-220">เมื่อไม่ตรงตามเงื่อนไข การรีเฟรชจะถูกจัดคิวไว้จนกว่าเงื่อนไขจะมีผล</span><span class="sxs-lookup"><span data-stu-id="72a45-220">When the conditions are not met, the refresh is queued until the conditions are favorable.</span></span>

<span data-ttu-id="72a45-221">สำหรับการรีเฟรชเต็มรูปแบบ โปรดทราบว่าต้องมีขนาดหน่วยความจำของชุดข้อมูลปัจจุบันอย่างน้อยสองเท่า</span><span class="sxs-lookup"><span data-stu-id="72a45-221">For a full refresh, recall that at least double the current dataset memory size is required.</span></span> <span data-ttu-id="72a45-222">หากหน่วยความจำไม่เพียงพอ การรีเฟรชไม่สามารถเริ่มได้จนกว่าการลดสัดส่วนแบบจำลองจะทำให้หน่วยความจำว่าง นั่นหมายถึงความล่าช้าจนกว่าชุดข้อมูลตั้งแต่หนึ่งชุดขึ้นไปจะไม่ทำงานและสามารถลบออกได้</span><span class="sxs-lookup"><span data-stu-id="72a45-222">If sufficient memory is not available, then the refresh cannot commence until model eviction frees up memory - this means delays until one or more datasets becomes inactive and can be evicted.</span></span>

<span data-ttu-id="72a45-223">โปรดทราบว่าจำนวนการรีเฟรชที่เกิดขึ้นพร้อมกันสูงสุดที่รองรับถูกตั้งไว้ที่ 1.5 เท่าของวี-คอร์ Backend โดยปัดเศษขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-223">Recall that the supported number of maximum concurrent refreshes is set to 1.5 times the backend v-cores, rounded up.</span></span>

<span data-ttu-id="72a45-224">การรีเฟรชตามกำหนดเวลาจะล้มเหลวเมื่อไม่สามารถเริ่มได้ก่อนที่การรีเฟรชตามกำหนดเวลาครั้งต่อไปจะเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-224">A scheduled refresh will fail when it cannot commence before the next scheduled refresh is due to commence.</span></span> <span data-ttu-id="72a45-225">การรีเฟรชตามความต้องการที่ทริกเกอร์ด้วยตนเองจาก UI จะพยายามเรียกใช้งานได้ถึงสามครั้งก่อนที่จะล้มเหลว</span><span class="sxs-lookup"><span data-stu-id="72a45-225">An on-demand refresh triggered manually from the UI will attempt to run up to three times before failing.</span></span>

<span data-ttu-id="72a45-226">ผู้ดูแลระบบของความจุ (และผู้ดูแลระบบบริการของ Power BI) สามารถตรวจสอบเมตริก **เวลารอรีเฟรชโดยเฉลี่ย (นาที)** เพื่อกำหนดว่าการหน่วงเวลาเฉลี่ยระหว่างเวลาที่กำหนดไว้และจุดเริ่มต้นของการดำเนินการ</span><span class="sxs-lookup"><span data-stu-id="72a45-226">Capacity Admins (and Power BI service administrators) can monitor the **Average Refresh Wait Time (minutes)** metric to determine average lag between the scheduled time and the start of the operation.</span></span>

<span data-ttu-id="72a45-227">แม้ว่าโดยปกติจะไม่ให้ความสำคัญกับการดูแลระบบเพื่อให้มีผลต่อการรีเฟรชข้อมูลตรงเวลา แต่ต้องให้แน่ใจว่ามีหน่วยความจำเพียงพอ</span><span class="sxs-lookup"><span data-stu-id="72a45-227">While not usually an administrative priority, to influence on-time data refreshes, ensure that sufficient memory is available.</span></span> <span data-ttu-id="72a45-228">ซึ่งอาจเกี่ยวข้องกับการแยกชุดข้อมูลกับความจุที่มีทรัพยากรเพียงพอที่เป็นที่รู้จัก</span><span class="sxs-lookup"><span data-stu-id="72a45-228">This may involve isolating datasets to capacities with known sufficient resources.</span></span> <span data-ttu-id="72a45-229">นอกจากนี้ยังเป็นไปได้ว่าผู้ดูแลระบบสามารถประสานงานกับเจ้าของชุดข้อมูล เพื่อช่วยสลับหรือลดเวลาการรีเฟรชข้อมูลตามกำหนดเวลาเพื่อลดการชน</span><span class="sxs-lookup"><span data-stu-id="72a45-229">It's also possible that admins could coordinate with dataset owners to help stagger or reduce scheduled data refresh times to minimize collisions.</span></span> <span data-ttu-id="72a45-230">โปรดทราบว่าผู้ดูแลระบบไม่สามารถดูคิวการรีเฟรชหรือดึงข้อมูลตารางเวลาของชุดข้อมูลได้</span><span class="sxs-lookup"><span data-stu-id="72a45-230">Note that it's not possible for an administrator to view the refresh queue, or to retrieve dataset schedules.</span></span>

### <a name="why-are-refreshes-slow"></a><span data-ttu-id="72a45-231">ทำไมการรีเฟรชจึงช้า</span><span class="sxs-lookup"><span data-stu-id="72a45-231">Why are refreshes slow?</span></span>

<span data-ttu-id="72a45-232">การรีเฟรชอาจช้าหรือรับรู้ได้ว่าจะช้า (ตามที่กล่าวถึงในคำถามทั่วไปก่อนหน้านี้)</span><span class="sxs-lookup"><span data-stu-id="72a45-232">Refreshes can be slow - or perceived to be slow (as the previous common question addresses).</span></span>

<span data-ttu-id="72a45-233">เมื่อการรีเฟรชช้าลง อาจเป็นเพราะสาเหตุหลายประการ:</span><span class="sxs-lookup"><span data-stu-id="72a45-233">When the refresh is in fact slow, it can be due to several reasons:</span></span>

- <span data-ttu-id="72a45-234">CPU ไม่เพียงพอ (การรีเฟรชอาจใช้งาน CPU สูงมาก)</span><span class="sxs-lookup"><span data-stu-id="72a45-234">Insufficient CPU (refresh can be very CPU-intensive).</span></span>
- <span data-ttu-id="72a45-235">หน่วยความจำไม่เพียงพอส่งผลให้หยุดการรีเฟรช (ซึ่งต้องรีเฟรชเพื่อเริ่มต้นใหม่เมื่อตรงตามเงื่อนไขที่มีผลให้เริ่มต้น)</span><span class="sxs-lookup"><span data-stu-id="72a45-235">Insufficient memory, resulting in refresh pausing (which requires the refresh to start over when conditions are favorable to recommence).</span></span>
- <span data-ttu-id="72a45-236">เหตุผลที่ไม่ใช่ความจุ รวมถึงการตอบสนองของระบบแหล่งข้อมูล เวลาแฝงของเครือข่าย สิทธิ์ที่ไม่ถูกต้อง หรืออัตราความเร็วของเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="72a45-236">Non-capacity reasons, including datasource system responsiveness, network latency, invalid permissions or gateway throughput.</span></span>
- <span data-ttu-id="72a45-237">ปริมาณข้อมูล - เหตุผลที่ดีในการกำหนดค่าการรีเฟรชแบบเพิ่มทีละส่วนตามที่อธิบายไว้ด้านล่าง</span><span class="sxs-lookup"><span data-stu-id="72a45-237">Data volume - a good reason to configure incremental refresh, as discussed below.</span></span>

<span data-ttu-id="72a45-238">ผู้ดูแลระบบความจุ (และผู้ดูแลระบบบริการของ Power BI) สามารถตรวจสอบเมตริก **ระยะเวลาการรีเฟรชโดยเฉลี่ย (นาที)** เพื่อกำหนดเกณฑ์มาตรฐานสำหรับการเปรียบเทียบเมื่อเวลาผ่านไปและเมตริก **เวลารอรีเฟรชโดยเฉลี่ย (นาที)** เพื่อกำหนดการหน่วงเวลาเฉลี่ยระหว่างเวลาที่กำหนดไว้และจุดเริ่มต้นของการดำเนินการ</span><span class="sxs-lookup"><span data-stu-id="72a45-238">Capacity Admins (and Power BI service administrators) can monitor the **Average Refresh Duration (minutes)** metric to determine a benchmark for comparison over time, and the **Average Refresh Wait Time (minutes)** metrics to determine average lag between average lag between the scheduled time and the start of the operation.</span></span>

<span data-ttu-id="72a45-239">การรีเฟรชแบบเพิ่มทีละส่วนสามารถลดระยะเวลาการรีเฟรชข้อมูลได้อย่างมาก โดยเฉพาะอย่างยิ่งสำหรับตารางแบบจำลองขนาดใหญ่</span><span class="sxs-lookup"><span data-stu-id="72a45-239">Incremental refresh can significantly reduce data refresh duration, especially for large model tables.</span></span> <span data-ttu-id="72a45-240">มีข้อดีสี่ประการที่เกี่ยวข้องกันการรีเฟรชแบบเพิ่มทีละส่วนได้แก่:</span><span class="sxs-lookup"><span data-stu-id="72a45-240">There are four benefits associated with incremental refresh:</span></span>

- <span data-ttu-id="72a45-241">**การรีเฟรชจะเร็วขึ้น** - เฉพาะชุดย่อยของตารางที่ต้องการโหลด ซึ่งลดการใช้ CPU และหน่วยความจำ และการทำงานแบบขนานสามารถเพิ่มขึ้นได้เมื่อรีเฟรชหลายพาร์ติชัน</span><span class="sxs-lookup"><span data-stu-id="72a45-241">**Refreshes are faster** - Only a subset of a table needs loading, reducing CPU and memory usage, and parallelism can be higher when refreshing multiple partitions.</span></span>
- <span data-ttu-id="72a45-242">**การรีเฟรชจะเกิดขึ้นเฉพาะเมื่อต้องการ** - สามารถกำหนดค่านโยบายการรีเฟรชแบบเพิ่มทีละส่วนซึ่งจะโหลดเฉพาะเมื่อข้อมูลมีการเปลี่ยนแปลงเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="72a45-242">**Refreshes occur only when required** - Incremental refresh policies can be configured to load only when data has changed.</span></span>
- <span data-ttu-id="72a45-243">**การรีเฟรชมีความน่าเชื่อถือมากขึ้น** - การเรียกใช้การเชื่อมต่อกับระบบแหล่งข้อมูลที่เปลี่ยนแปลงง่ายสั้นลงมีความเสี่ยงต่อการตัดการเชื่อมต่อน้อย</span><span class="sxs-lookup"><span data-stu-id="72a45-243">**Refreshes are more reliable** - Shorter running connections to volatile datasource systems are less susceptible to disconnection.</span></span>
- <span data-ttu-id="72a45-244">**แบบจำลองยังคงต้องปรับเปลี่ยน** - สามารถกำหนดค่านโยบายการรีเฟรชแบบเพิ่มทีละส่วนเพื่อลบประวัตินอกเหนือจากหน้าต่างบานเลื่อนของเวลาโดยอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="72a45-244">**Models remain trim** - Incremental refresh policies can be configured to automatically remove history beyond a sliding window of time.</span></span>

<span data-ttu-id="72a45-245">เมื่อต้องการเรียนรู้เพิ่มเติม ดูที่[การรีเฟรชแบบเพิ่มทีละส่วนใน Power BI Premium](service-premium-incremental-refresh.md)</span><span class="sxs-lookup"><span data-stu-id="72a45-245">To learn more, see [Incremental refresh in Power BI Premium](service-premium-incremental-refresh.md).</span></span>

### <a name="why-are-data-refreshes-not-completing"></a><span data-ttu-id="72a45-246">ทำไมการรีเฟรชข้อมูลจึงไม่เสร็จสมบูรณ์</span><span class="sxs-lookup"><span data-stu-id="72a45-246">Why are data refreshes not completing?</span></span>

<span data-ttu-id="72a45-247">เมื่อการรีเฟรชข้อมูลเริ่มขึ้นแต่ไม่สำเร็จ อาจเป็นเพราะสาเหตุหลายประการ:</span><span class="sxs-lookup"><span data-stu-id="72a45-247">When the data refresh commences but fails to complete, it can be due to several reasons:</span></span>

- <span data-ttu-id="72a45-248">หน่วยความจำไม่เพียงพอแม้ว่าจะมีเพียงหนึ่งแบบจำลองในความจุแบบพรีเมียมเท่านั้น นั่นคือขนาดของแบบจำลองมีใหญ่มาก</span><span class="sxs-lookup"><span data-stu-id="72a45-248">Insufficient memory, even if there is only one model in the Premium capacity, i.e. the model size is very large.</span></span>
- <span data-ttu-id="72a45-249">เหตุผลที่ไม่ใช่ความจุ รวมถึงการตัดการเชื่อมต่อระบบแหล่งข้อมูล สิทธิ์ที่ไม่ถูกต้อง หรือข้อผิดพลาดของเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="72a45-249">Non-capacity reasons, including datasource system disconnection, invalid permissions or gateway error.</span></span>

<span data-ttu-id="72a45-250">ผู้ดูแลระบบความจุ (และผู้ดูแลระบบบริการของ Power BI) สามารถตรวจสอบเมตริก **การรีเฟรชล้มเหลวเนื่องจากหน่วยความจำไม่เพียงพอ**</span><span class="sxs-lookup"><span data-stu-id="72a45-250">Capacity Admins (and Power BI service administrators) can monitor the **Refresh Failures due to out of Memory** metric.</span></span>

## <a name="optimizing-models"></a><span data-ttu-id="72a45-251">การปรับแบบจำลองให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-251">Optimizing models</span></span>

<span data-ttu-id="72a45-252">การออกแบบแบบจำลองที่เหมาะสมเป็นสิ่งสำคัญอย่างยิ่งในการส่งต่อโซลูชันที่มีประสิทธิภาพและปรับขนาดได้</span><span class="sxs-lookup"><span data-stu-id="72a45-252">Optimal model design is crucial to delivering an efficient and scalable solution.</span></span> <span data-ttu-id="72a45-253">อย่างไรก็ตาม สิ่งนี้อยู่นอกขอบเขตของบทความนี้เพื่อกำหนดการสนทนาที่สมบูรณ์</span><span class="sxs-lookup"><span data-stu-id="72a45-253">However, it's beyond the scope of this article to provide a complete discussion.</span></span> <span data-ttu-id="72a45-254">แต่ในส่วนนี้จะมีประเด็นสำคัญสำหรับการพิจารณาเมื่อทำการปรับแบบจำลองให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-254">Instead, this section will provide key areas for consideration when optimizing models.</span></span>

### <a name="optimizing-power-bi-hosted-models"></a><span data-ttu-id="72a45-255">การปรับแบบจำลองที่เป็นโฮสต์ของ Power BI ให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-255">Optimizing Power BI hosted models</span></span>

<span data-ttu-id="72a45-256">การปรับแบบจำลองที่เป็นโฮสต์ให้เหมาะสมในความจุแบบพรีเมียมสามารถทำได้ที่แหล่งข้อมูลและเลเยอร์ของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="72a45-256">Optimizing models hosted in a Premium capacity can be achieved at the datasource(s) and model layers.</span></span>

<span data-ttu-id="72a45-257">พิจารณาความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลองการนำเข้า:</span><span class="sxs-lookup"><span data-stu-id="72a45-257">Consider the optimization possibilities for an Import model:</span></span>

![ความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลองการนำเข้า:](media/service-premium-capacity-optimize/import-model-optimizations.png)

<span data-ttu-id="72a45-259">ในเลเยอร์ของแหล่งข้อมูล:</span><span class="sxs-lookup"><span data-stu-id="72a45-259">At the datasource layer:</span></span>

- <span data-ttu-id="72a45-260">แหล่งข้อมูลเชิงสัมพันธ์สามารถปรับให้เหมาะสมเพื่อให้แน่ใจว่าการรีเฟรชสามารถทำได้่เร็วที่สุดที่เป็นไปได้โดยการรวมข้อมูลล่วงหน้า การใช้ดัชนีที่เหมาะสม การกำหนดพาร์ทิชันตารางที่สอดคล้องกับช่วงเวลาการรีเฟรชแบบเพิ่มทีละส่วน และการแสดงการคำนวณ (แทนตารางและคอลัมน์แบบจำลองจาการคำนวณ) หรือการเพิ่มการคำนวณในมุมมอง</span><span class="sxs-lookup"><span data-stu-id="72a45-260">Relational data sources can be optimized to ensure the fastest possible refresh by pre-integrating data, applying appropriate indexes, defining table partitions that align to incremental refresh periods, and materializing calculations (in place of calculated model tables and columns) or adding calculation logic to views.</span></span>
- <span data-ttu-id="72a45-261">แหล่งข้อมูลที่ไม่สัมพันธ์กันสามารถรวมเข้ากับร้านค้าเชิงสัมพันธ์ล่วงหน้าได้</span><span class="sxs-lookup"><span data-stu-id="72a45-261">Non-relational data sources can be pre-integrated with relational stores.</span></span>
- <span data-ttu-id="72a45-262">ตรวจสอบให้แน่ใจว่าเกตเวย์มีทรัพยากรเพียงพอโดยเฉพาะอย่างยิ่งบนเครื่องเฉพาะที่มีแบนด์วิดท์เครือข่ายเพียงพอและอยู่ใกล้กับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="72a45-262">Ensure that gateways have enough resources, preferably on dedicated machines, with sufficient network bandwidth and in close proximity to the data sources.</span></span>

<span data-ttu-id="72a45-263">ในเลเยอร์แบบจำลอง:</span><span class="sxs-lookup"><span data-stu-id="72a45-263">At the model layer:</span></span>

- <span data-ttu-id="72a45-264">การออกแบบคิวรี Power Query สามารถลดหรือลบการแปลงข้อมูลที่ซับซ้อนและโดยเฉพาะอย่างยิ่งที่รวมแหล่งข้อมูลที่แตกต่างกัน (คลังข้อมูลสามารถดำเนินการตามขั้นตอนนี้ได้ในช่วง Extract-Transform-Load)</span><span class="sxs-lookup"><span data-stu-id="72a45-264">Power Query query designs can minimize or remove complex transformations and especially those that merge different data sources (data warehouses achieve this during their Extract-Transform-Load stage).</span></span> <span data-ttu-id="72a45-265">นอกจากนี้เพื่อให้มั่นใจว่ามีการตั้งค่าระดับความเป็นส่วนตัวของแหล่งข้อมูลที่เหมาะสม ซึ่งสามารถหลีกเลี่ยงได้โดยต้องใช้ Power BI ในการโหลดผลลัพธ์เต็มรูปแบบเพื่อสร้างผลลัพธ์แบบรวมทั่วทั้งการคิวรี</span><span class="sxs-lookup"><span data-stu-id="72a45-265">Also, ensuring that appropriate datasource privacy levels are set, this can avoid requiring Power BI to load full results to produce a combined result across queries.</span></span>
- <span data-ttu-id="72a45-266">โครงสร้างแบบจำลองจะกำหนดข้อมูลที่จะโหลดและมีผลกระทบโดยตรงต่อขนาดของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="72a45-266">The model structure determines the data to load and has a direct impact on the model size.</span></span> <span data-ttu-id="72a45-267">ซึ่งสามารถออกแบบมาเพื่อหลีกเลี่ยงการโหลดข้อมูลที่ไม่จำเป็นโดยการลบคอลัมน์ การลบแถว (โดยเฉพาะข้อมูลประวัติ) หรือโดยการโหลดข้อมูลสรุป (มีค่าใช้จ่ายในการโหลดข้อมูลรายละเอียด)</span><span class="sxs-lookup"><span data-stu-id="72a45-267">It can be designed to avoid loading unnecessary data by removing columns, removing rows (especially historic data) or by loading summarized data (at the expense of loading detailed data).</span></span> <span data-ttu-id="72a45-268">การลดขนาดแบบพิเศษสามารถทำได้โดยการลบคอลัมน์ที่มีคาร์ดินาลลิตี้สูง (โดยเฉพาะคอลัมน์ข้อความ) ซึ่งไม่ได้จัดเก็บหรือบีบอัดอย่างมีประสิทธิภาพ</span><span class="sxs-lookup"><span data-stu-id="72a45-268">Dramatic size reduction can be achieved by removing high cardinality columns (especially text columns) which do not store or compress very efficiently.</span></span>
- <span data-ttu-id="72a45-269">สามารถปรับปรุงประสิทธิภาพของการคิวรีแบบจำลองได้โดยการกำหนดค่าความสัมพันธ์ทิศทางเดียว เว้นแต่ว่ามีเหตุผลที่น่าสนใจเพื่อให้สามารถกรองแบบสองทิศทางได้</span><span class="sxs-lookup"><span data-stu-id="72a45-269">Model query performance can be improved by configuring single direction relationships unless there is a compelling reason to allow bi-directional filtering.</span></span> <span data-ttu-id="72a45-270">ลองใช้ฟังก์ชัน [CROSSFILTER](/dax/crossfilter-function) แทนการกรองแบบสองทิศทาง</span><span class="sxs-lookup"><span data-stu-id="72a45-270">Consider also using the [CROSSFILTER](/dax/crossfilter-function) function instead of bi-directional filtering.</span></span>
- <span data-ttu-id="72a45-271">ตารางการรวมสามารถตอบสนองการคิวรีได้อย่างรวดเร็วโดยการโหลดข้อมูลที่สรุปไว้ล่วงหน้า อย่างไรก็ตามการดำเนินการนี้จะเพิ่มขนาดของแบบจำลองและส่งผลให้เวลาการรีเฟรชนานขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-271">Aggregation tables can achieve fast query responses by loading pre-summarized data, however this will increase the size of the model and result in longer refresh times.</span></span> <span data-ttu-id="72a45-272">โดยทั่วไป ตารางการรวมควรสำรองไว้สำหรับแบบจำลองที่มีขนาดใหญ่มากหรือการออกแบบแบบจำลองรวม</span><span class="sxs-lookup"><span data-stu-id="72a45-272">Generally, aggregation tables should be reserved for very large models or Composite model designs.</span></span>
- <span data-ttu-id="72a45-273">ตารางและคอลัมน์จากการคำนวณจะเพิ่มขนาดของแบบจำลอง และทำให้เวลาการรีเฟรชนานขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-273">Calculated tables and columns increase the model size and result in longer refresh times.</span></span> <span data-ttu-id="72a45-274">โดยทั่วไปขนาดของที่เก็บข้อมูลที่เล็กลงและเวลาการรีเฟรชที่รวดเร็วขึ้นสามารถเกิดขึ้นได้เมื่อมีการแสดงหรือการคำนวณข้อมูลในแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="72a45-274">Generally, a smaller storage size and faster refresh time can be achieved when the data is materialized or calculated in the datasource.</span></span> <span data-ttu-id="72a45-275">หากไม่สามารถทำได้ การใช้คอลัมน์ที่กำหนดเองของ Power Query สามารถนำเสนอการบีบอัดที่เก็บข้อมูลที่ดีขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-275">If this is not possible, using Power Query custom columns can offer improved storage compression.</span></span>
- <span data-ttu-id="72a45-276">อาจมีโอกาสในการปรับแต่งนิพจน์ DAX สำหรับหน่วยวัดและกฎ RLS ซึ่งอาจเขียนตรรกะใหม่เพื่อหลีกเลี่ยงสูตรราคาแพง</span><span class="sxs-lookup"><span data-stu-id="72a45-276">There may be opportunity to tune DAX expressions for measures and RLS rules, perhaps rewriting logic to avoid expensive formulas</span></span>
- <span data-ttu-id="72a45-277">การรีเฟรชแบบเพิ่มทีละส่วนสามารถลดเวลาการรีเฟรชได้อย่างมาก รวมถึงประหยัดหน่วยความจำและ CPU</span><span class="sxs-lookup"><span data-stu-id="72a45-277">Incremental refresh can dramatically reduce refresh time and conserve memory and CPU.</span></span> <span data-ttu-id="72a45-278">การรีเฟรชแบบเพิ่มทีละส่วนยังสามารถกำหนดค่าเพื่อลบข้อมูลประวัติที่มีข้อมูลการปรับแต่งขนาดของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="72a45-278">The incremental refresh can also be configured to remove historic data keeping model sizes trim.</span></span>
- <span data-ttu-id="72a45-279">แบบจำลองไม่สามารถออกแบบใหม่เป็นสองแบบจำลองที่มีรูปแบบการคิวรีต่างกันและขัดแย้งกัน</span><span class="sxs-lookup"><span data-stu-id="72a45-279">A model could be redesigned as two models when there are different and conflicting query patterns.</span></span> <span data-ttu-id="72a45-280">ตัวอย่างเช่น รายงานบางฉบับจะแสดงการรวมระดับสูงในทุก ๆ ประวัติและสามารถยอมรับเวลาแฝงใน 24 ชั่วโมง</span><span class="sxs-lookup"><span data-stu-id="72a45-280">For example, some reports present high-level aggregates over all history, and can tolerate 24 hours' latency.</span></span> <span data-ttu-id="72a45-281">รายงานอื่น ๆ เกี่ยวข้องกับข้อมูลของวันนี้และต้องการการเข้าถึงธุรกรรมแต่ละรายการอย่างละเอียด</span><span class="sxs-lookup"><span data-stu-id="72a45-281">Other reports are concerned with today's data and need granular access to individual transactions.</span></span> <span data-ttu-id="72a45-282">ให้สร้างแบบจำลองสองแบบที่ปรับให้หมาะสมสำหรับแต่ละความต้องการแทนการออกแบบแบบจำลองเดียวเพื่อให้ตรงกับรายงานทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="72a45-282">Rather than design a single model to satisfy all reports, create two models optimized for each requirement.</span></span>

<span data-ttu-id="72a45-283">พิจารณาความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลอง DirectQuery</span><span class="sxs-lookup"><span data-stu-id="72a45-283">Consider the optimization possibilities for a DirectQuery model.</span></span> <span data-ttu-id="72a45-284">เนื่องจากแบบจำลองจะส่งคำขอคิวรีไปยังแหล่งข้อมูลพื้นฐาน การปรับแหล่งข้อมูลให้เหมาะสมจึงมีความสิ่งสำคัญต่อการส่งมอบคิวรีแบบจำลองที่ตอบสนอง</span><span class="sxs-lookup"><span data-stu-id="72a45-284">As the model issues query requests to the underlying datasource, datasource optimization is critical to delivering responsive model queries.</span></span>

 ![ความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลอง DirectQuery](media/service-premium-capacity-optimize/direct-query-model-optimizations.png)

<span data-ttu-id="72a45-286">ในเลเยอร์ของแหล่งข้อมูล:</span><span class="sxs-lookup"><span data-stu-id="72a45-286">At the datasource layer:</span></span>

- <span data-ttu-id="72a45-287">แหล่งข้อมูลสามารถปรับให้เหมาะสมเพื่อให้แน่ใจว่าการคิวรีสามารถทำได้เร็วที่สุดเท่าที่เป็นไปได้ โดยการรวมข้อมูลล่วงหน้า (ซึ่งไม่สามารถทำได้ที่เลเยอร์แบบจำลอง) การใช้ดัชนีที่เหมาะสม การกำหนดพาร์ติชัน การแสดงข้อมูลสรุป (พร้อมมุมมองที่จัดทำดัชนี) และการลดจำนวนการคำนวณ</span><span class="sxs-lookup"><span data-stu-id="72a45-287">The datasource can be optimized to ensure the fastest possible querying by pre-integrating data (which is not possible at the model layer), applying appropriate indexes, defining table partitions, materializing summarized data (with indexed views), and minimizing the amount of calculation.</span></span> <span data-ttu-id="72a45-288">ประสบการณ์ที่ดีที่สุดนั้นเกิดขึ้นได้เมื่อคิวรีแบบพาส-ทรู ต้องการเฉพาะตัวกรองเท่านั้น และดำเนินการรวมภายในระหว่างตารางที่จัดทำดัชนีหรือมุมมอง</span><span class="sxs-lookup"><span data-stu-id="72a45-288">The best experience is achieved when pass-through queries need only filter and perform inner joins between indexed tables or views.</span></span>
- <span data-ttu-id="72a45-289">ตรวจสอบให้แน่ใจว่าเกตเวย์มีทรัพยากรเพียงพอโดยเฉพาะอย่างยิ่งบนเครื่องเฉพาะที่มีแบนด์วิดท์เครือข่ายเพียงพอและอยู่ใกล้กับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="72a45-289">Ensure that gateways have enough resources, preferably on dedicated machines, with sufficient network bandwidth and in close proximity to the datasource.</span></span>

<span data-ttu-id="72a45-290">ในเลเยอร์แบบจำลอง:</span><span class="sxs-lookup"><span data-stu-id="72a45-290">At the model layer:</span></span>

- <span data-ttu-id="72a45-291">การออกแบบคิวรี Power Query ควรนำหลักการไม่มีการแปลงข้อมูลมาใช้ มิฉะนั้นแล้วต้องพยายามทำให้การแปลงข้อมูลอยู่ในระดับต่ำที่สุด</span><span class="sxs-lookup"><span data-stu-id="72a45-291">Power Query query designs should preferably apply no transformations - otherwise attempt to keep transformations to an absolute minimum.</span></span>
- <span data-ttu-id="72a45-292">สามารถปรับปรุงประสิทธิภาพของการคิวรีแบบจำลองได้โดยการกำหนดค่าความสัมพันธ์ทิศทางเดียว เว้นแต่ว่ามีเหตุผลที่น่าสนใจเพื่อให้สามารถกรองแบบสองทิศทางได้</span><span class="sxs-lookup"><span data-stu-id="72a45-292">Model query performance can be improved by configuring single direction relationships unless there is a compelling reason to allow bi-directional filtering.</span></span> <span data-ttu-id="72a45-293">นอกจากนี้ยังควรกำหนดค่าความสัมพันธ์ของแบบจำลองเพื่อแสดงการบังคับใช้ Referential Integrity (เมื่อเป็นกรณีนี้) และจะส่งผลให้มีการคิวรีแหล่งข้อมูลโดยใช้การรวมภายในที่มีประสิทธิภาพมากขึ้น (แทนการรวมภายนอก)</span><span class="sxs-lookup"><span data-stu-id="72a45-293">Also, model relationships should be configured to assume referential integrity is enforced (when this is the case) and will result in datasource queries using more efficient inner joins (instead of outer joins).</span></span>
- <span data-ttu-id="72a45-294">หลีกเลี่ยงการสร้างคอลัมน์แบบกำหนดเองของคิวรี Power Query หรือคอลัมน์จากการคำนวณของแบบจำลอง โดยแสดงคอลัมน์เหล่านี้ในแหล่งข้อมูลเมื่อเป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="72a45-294">Avoid creating Power Query query custom columns or model calculated column - materialize these in the datasource, when possible.</span></span>
- <span data-ttu-id="72a45-295">อาจมีโอกาสในการปรับแต่งนิพจน์ DAX สำหรับหน่วยวัดและกฎ RLS ซึ่งอาจเขียนตรรกะใหม่เพื่อหลีกเลี่ยงสูตรราคาแพง</span><span class="sxs-lookup"><span data-stu-id="72a45-295">There may be opportunity to tune DAX expressions for measures and RLS rules, perhaps rewriting logic to avoid expensive formulas.</span></span>

<span data-ttu-id="72a45-296">พิจารณาความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลองแบบรวม</span><span class="sxs-lookup"><span data-stu-id="72a45-296">Consider the optimization possibilities for a Composite model.</span></span> <span data-ttu-id="72a45-297">โปรดทราบว่าแบบจำลองแบบรวมจะทำให้เกิดการผสมกันระหว่างตารางการรนำเข้าและตาราง DirectQuery</span><span class="sxs-lookup"><span data-stu-id="72a45-297">Recall that a Composite model enables a mix of import and DirectQuery tables.</span></span>

![ความเป็นไปได้ในการปรับให้เหมาะสมที่สุดสำหรับแบบจำลองแบบรวม](media/service-premium-capacity-optimize/composite-model-optimizations.png)

- <span data-ttu-id="72a45-299">โดยทั่วไป การปรับให้เหมาะสมสำหรับแบบจำลองการนำเข้าและ DirectQuery จะใช้กับตารางแบบจำลองแบบรวมที่ใช้โหมดที่เก็บข้อมูลเหล่านี้</span><span class="sxs-lookup"><span data-stu-id="72a45-299">Generally, the optimization for Import and DirectQuery models apply to Composite model tables that use these storage modes.</span></span>
- <span data-ttu-id="72a45-300">โดยปกติแล้ว พยายามออกแบบให้มีความสมดุลโดยการกำหนดค่าตารางชนิดขนาด (แสดงถึงเอนทิตีธุรกิจ) เป็นโหมดที่เก็บข้อมูลคู่และตารางชนิดข้อเท็จจริง (มักเป็นตารางขนาดใหญ่ซึ่งแสดงถึงข้อเท็จจริงในการปฏิบัติงาน) เป็นโหมดที่เก็บข้อมูลของ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="72a45-300">Typically, strive to achieve a balanced design by configuring dimension-type tables (representing business entities) as Dual storage mode and fact-type tables (often large tables, representing operational facts) as DirectQuery storage mode.</span></span> <span data-ttu-id="72a45-301">โหมดที่เก็บข้อมูลแบบคู่หมายถึงทั้งโหมดที่เก็บข้อมูลแบบนำเข้าและ DirectQuery และโหมดนี้ทำให้บริการของ Power BI สามารถกำหนดโหมดที่เก็บข้อมูลที่มีประสิทธิภาพมากที่สุดที่จะใช้เมื่อสร้างคิวรีในระบบสำหรับพาส-ทรู</span><span class="sxs-lookup"><span data-stu-id="72a45-301">Dual storage mode means both Import and DirectQuery storage modes, and this allows the Power BI service to determine the most efficient storage mode to use when generating a native query for pass-through.</span></span>
- <span data-ttu-id="72a45-302">ตรวจสอบให้แน่ใจว่าเกตเวย์มีทรัพยากรเพียงพอโดยเฉพาะอย่างยิ่งบนเครื่องเฉพาะที่มีแบนด์วิดท์เครือข่ายเพียงพอและอยู่ใกล้กับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="72a45-302">Ensure that gateways have enough resources, preferably on dedicated machines, with sufficient network bandwidth and in close proximity to the data sources</span></span>
- <span data-ttu-id="72a45-303">ตารางการรวมที่กำหนดค่าเป็นโหมดที่เก็บข้อมูลแบบนำเข้าสามารถมีผลต่อการปรับปรุงประสิทธิภาพของคิวรีอย่างมากเมื่อใช้เพื่อสรุปตารางชนิดข้อเท็จจริงของโหมดที่เก็บข้อมูลของ DirectQuery</span><span class="sxs-lookup"><span data-stu-id="72a45-303">Aggregations tables configured as Import storage mode can deliver dramatic query performance enhancements when used to summarize DirectQuery storage mode fact-type tables.</span></span> <span data-ttu-id="72a45-304">ในกรณีนี้ ตารางการรวมจะเพิ่มขนาดของแบบจำลอง และเพิ่มเวลาการรีเฟรช และมักจะเป็นการแลกเปลี่ยนที่ยอมรับได้สำหรับการคิวรีที่เร็วขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-304">In this case, aggregation tables will increase the size of the model and increase refresh time, and often this is an acceptable tradeoff for faster queries.</span></span>

### <a name="optimizing-externally-hosted-models"></a><span data-ttu-id="72a45-305">การปรับแบบจำลองที่เป็นโฮสต์ภายนอกให้เหมาะสม</span><span class="sxs-lookup"><span data-stu-id="72a45-305">Optimizing externally hosted models</span></span>

<span data-ttu-id="72a45-306">นอกจากนี้ สามารถยังนำความเป็นไปได้มากมายในการปรับให้เหมาะสมที่กล่าวถึงในส่วน [การปรับแบบจำลองที่เป็นโฮสต์ของ Power BI ให้เหมาะสม](#optimizing-power-bi-hosted-models) ไปใช้กับแบบจำลองที่พัฒนาขึ้นมา โดย Azure Analysis Services และ SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="72a45-306">Many optimization possibilities discussed in the [Optimizing Power BI hosted models](#optimizing-power-bi-hosted-models) section apply also to models developed with Azure Analysis Services and SQL Server Analysis Services.</span></span> <span data-ttu-id="72a45-307">ข้อยกเว้นที่ชัดเจนคือคุณสมบัติบางอย่างที่ไม่รองรับในปัจจุบัน รวมถึงแบบจำลองแบบรวมและตารางการรวม</span><span class="sxs-lookup"><span data-stu-id="72a45-307">Clear exceptions are certain features which are not currently supported, including Composite models and aggregation tables.</span></span>

<span data-ttu-id="72a45-308">ข้อพิจารณาเพิ่มเติมสำหรับชุดข้อมูลที่เป็นโฮสต์ภายนอกคือการโฮสต์ฐานข้อมูลที่เกี่ยวข้องกับบริการของ Power BI</span><span class="sxs-lookup"><span data-stu-id="72a45-308">An additional consideration for externally-hosted datasets is the database hosting in relation to the Power BI service.</span></span> <span data-ttu-id="72a45-309">สำหรับ Azure Analysis Services หมายถึงการสร้างทรัพยากร Azure ในภูมิภาคเดียวกับผู้เช่า Power BI (ภูมิภาคหลัก)</span><span class="sxs-lookup"><span data-stu-id="72a45-309">For Azure Analysis Services, this means creating the Azure resource in the same region as the Power BI tenant (home region).</span></span> <span data-ttu-id="72a45-310">สำหรับ SQL Server Analysis Services หมายถึงการโฮสต์ VM ในภูมิภาคเดียวกันสำหรับ IaaS และหมายถึงการรับประกันการตั้งค่าเกตเวย์ที่มีประสิทธิภาพภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="72a45-310">For SQL Server Analysis Services, for IaaS, this means hosting the VM in the same region, and for on-premises, it means ensuring an efficient gateway setup.</span></span>

<span data-ttu-id="72a45-311">นอกจากนี้ยังควรที่จะทราบว่าฐานข้อมูล Azure Analysis Services และฐานข้อมูลแบบตาราง SQL Server Analysis Services ต้องการให้โหลดแบบจำลองทั้งหมดลงในหน่วยความจำ และเก็บข้อมูลแบบจำลองเหล่านั้นไว้ในหน่วยความจำตลอดเวลาเพื่อรองรับการคิวรี</span><span class="sxs-lookup"><span data-stu-id="72a45-311">As an aside, it may be of interest to note that Azure Analysis Services databases and SQL Server Analysis Services tabular databases require that their models be loaded fully into memory and that they remain there at all times to support querying.</span></span> <span data-ttu-id="72a45-312">เหมือนกับบริการของ Power BI ต้องมีหน่วยความจำเพียงพอสำหรับการรีเฟรชหากแบบจำลองยังคงต้องออนไลน์ในระหว่างการรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="72a45-312">Like the Power BI service, there needs to be sufficient memory for refreshing if the model must remain online during the refresh.</span></span> <span data-ttu-id="72a45-313">แตกต่างจากบริการของ Power BI ไม่มีแนวคิดว่าแบบจำลองจะคำนวณอายุโดยอัตโนมัติ ทั้งในและนอกหน่วยความจำตามการใช้งาน</span><span class="sxs-lookup"><span data-stu-id="72a45-313">Unlike the Power BI service, there is no concept that models are automatically aged in and out of memory according to usage.</span></span> <span data-ttu-id="72a45-314">Power BI Premium จึงเสนอวิธีการมีประสิทธิภาพมากกว่าในการเพิ่มการคิวรีแบบจำลองที่มีการใช้หน่วยความจำต่ำ</span><span class="sxs-lookup"><span data-stu-id="72a45-314">Power BI Premium, therefore, offers a more efficient approach to maximize model querying with lower memory usage.</span></span>

## <a name="capacity-planning"></a><span data-ttu-id="72a45-315">การวางแผนความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-315">Capacity planning</span></span>

<span data-ttu-id="72a45-316">ขนาดความจุแบบพรีเมียมจะกำหนดหน่วยความจำที่มีอยู่และทรัพยากรตัวประมวลผล รวมถึงขีดจำกัดที่กำหนดไว้ในความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-316">The size of a Premium capacity determines its available memory and processor resources and limits imposed on the capacity.</span></span> <span data-ttu-id="72a45-317">จำนวนของความจุแบบพรีเมียมยังเป็นข้อควรพิจารณาเนื่องจากการสร้างความจุแบบพรีเมียมหลายตัวสามารถช่วยแยกปริมาณงานจากกันได้</span><span class="sxs-lookup"><span data-stu-id="72a45-317">The number of Premium capacities is also a consideration, as creating multiple Premium capacities can help isolate workloads from each other.</span></span> <span data-ttu-id="72a45-318">โปรดทราบว่าที่เก็บข้อมูลคือ 100 TB ต่อโหนดความจ ุและน่าจะเพียงพอสำหรับปริมาณงานต่าง ๆ</span><span class="sxs-lookup"><span data-stu-id="72a45-318">Note that storage is 100 TB per capacity node, and this is likely to be more than sufficient for any workload.</span></span>

<span data-ttu-id="72a45-319">การกำหนดขนาดและจำนวนของความจุแบบพรีเมียมสามารถทำได้ยาก โดยเฉพาะสำหรับความจุเริ่มต้นที่คุณสร้าง</span><span class="sxs-lookup"><span data-stu-id="72a45-319">Determining the size and number of Premium capacities can be challenging, especially for the initial capacities you create.</span></span> <span data-ttu-id="72a45-320">ขั้นตอนแรกเมื่อการกำหนดขนาดความจุคือการทำความเข้าใจปริมาณงานเฉลี่ยที่แสดงถึงการใช้งานแบบวันต่อวันที่คาดไว้</span><span class="sxs-lookup"><span data-stu-id="72a45-320">The first step when capacity sizing is to understand the average workload representing expected day-to-day usage.</span></span> <span data-ttu-id="72a45-321">สิ่งสำคัญคือต้องเข้าใจว่าไม่ใช่ปริมาณงานทั้งหมดจะเท่ากัน</span><span class="sxs-lookup"><span data-stu-id="72a45-321">It's important to understand that not all workloads are equal.</span></span> <span data-ttu-id="72a45-322">ตัวอย่างเช่น ที่ปลายด้านหนึ่งของสเปกตรัม ผู้ใช้พร้อมกัน 100 คนที่เข้าถึงรายงานหน้าเดียวที่มีวิชวลเดียวสามารถทำได้อย่างง่ายดาย</span><span class="sxs-lookup"><span data-stu-id="72a45-322">For example - at one end of a spectrum - 100 concurrent users accessing a single report page that contains a single visual is easily achievable.</span></span> <span data-ttu-id="72a45-323">ขณะที่อีกปลายด้านหนึ่งของสเปกตรัม ผู้ใช้พร้อมกัน 100 คนที่เข้าถึงรายงานที่แตกต่างกัน 100 ฉบับที่มีวิชวล 100 รายการบนหน้ารายงาน จะส่งผลให้ความต้องการใช้ทรัพยากรความจุแตกต่างกันอย่างมาก</span><span class="sxs-lookup"><span data-stu-id="72a45-323">Yet - at the other end of the spectrum - 100 concurrent users accessing 100 different reports, each with 100 visuals on the report page, is going to make very different demands of capacity resources.</span></span>

<span data-ttu-id="72a45-324">ดังนั้นผู้ดูแลระบบความจุจะต้องพิจารณาปัจจัยหลายอย่างที่เฉพาะเจาะจงกับสภาพแวดล้อม เนื้อหา และการใช้งานที่คาดหวัง</span><span class="sxs-lookup"><span data-stu-id="72a45-324">Capacity Admins will therefore need to consider many factors specific to your environment, content and expected usage.</span></span> <span data-ttu-id="72a45-325">วัตถุประสงค์ที่สำคัญคือการเพิ่มการใช้งานความจุให้ได้มากที่สุดในขณะที่เวลาการคิวรี เวลารอที่ยอมรับได้ และอัตราการลดสัดส่วนสอดคล้องกัน</span><span class="sxs-lookup"><span data-stu-id="72a45-325">The overriding objective is to maximize capacity utilization while delivering consistent query times, acceptable wait times, and eviction rates.</span></span> <span data-ttu-id="72a45-326">ปัจจัยในการพิจารณาอาจรวมถึง</span><span class="sxs-lookup"><span data-stu-id="72a45-326">Factors for consideration can include:</span></span>

- <span data-ttu-id="72a45-327">**ขนาดแบบจำลองและลักษณะของข้อมูล** - ต้องโหลดแบบจำลองการนำเข้าทั้งหมดลงในหน่วยความจำเพื่อให้สามารถทำการคิวรีหรือรีเฟรชได้</span><span class="sxs-lookup"><span data-stu-id="72a45-327">**Model size and data characteristics** - Import models must be fully loaded into memory to allow querying or refreshing.</span></span> <span data-ttu-id="72a45-328">ชุดข้อมูล LC/DQ สามารถใช้เวลาของตัวประมวลผลที่สำคัญ และอาจต้องมีหน่วยความจำที่สำคัญในการประเมินการวัดผลที่ซับซ้อนหรือกฎ RLS</span><span class="sxs-lookup"><span data-stu-id="72a45-328">LC/DQ datasets can require significant processor time and possibly significant memory to evaluate complex measures or RLS rules.</span></span> <span data-ttu-id="72a45-329">หน่วยความจำ และขนาดของตัวประมวลผล และอัตราความเร็วของการคิวรี LC/DQ ถูกจำกัดโดยขนาดความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-329">Memory and processor size, and LC/DQ query throughput are constrained by the capacity size.</span></span>
- <span data-ttu-id="72a45-330">**แบบจำลองที่ใช้งานพร้อมกัน** - การคิวรีพร้อมกันของแบบจำลองการนำเข้าที่แตกต่างกันจะมีการตอบสนองและประสิทธิภาพการทำงานที่ดีที่สุดเมื่อแบบจำลองเหล่านั้นยังคงอยู่ในหน่วยความจำ</span><span class="sxs-lookup"><span data-stu-id="72a45-330">**Concurrent active models** - The concurrent querying of different import models will deliver best responsiveness and performance when they remain in memory.</span></span> <span data-ttu-id="72a45-331">ควรมีหน่วยความจำเพียงพอที่จะโฮสต์แบบจำลองที่มีการคิวรีอย่างหนักทั้งหมด พร้อมหน่วยความจำเพิ่มเติมเพื่ออนุญาตให้มีการรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="72a45-331">There should be sufficient memory to host all heavily-queried models, with additional memory to allow for their refresh.</span></span>
- <span data-ttu-id="72a45-332">**นำเข้าข้อมูลการรีเฟรชแบบจำลอง** - ชนิดการรีเฟรช (เต็มรูปแบบหรือเพิ่มทีละส่วน) ระยะเวลาและความซับซ้อนของคิวรี Power Query และตรรกะของตาราง/คอลัมน์จากการคำนวณสามารถส่งผลกระทบต่อหน่วยความจำและการใช้งานตัวประมวลผลโดยเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="72a45-332">**Import model refresh** - The refresh type (full or incremental), duration and complexity of Power Query queries and calculated table/column logic can impact on memory and especially processor usage.</span></span> <span data-ttu-id="72a45-333">การรีเฟรชพร้อมกันจะจำกัดตามขนาดความจุ (1.5 x วี-คอร์ Backend โดยปัดเศษขึ้น)</span><span class="sxs-lookup"><span data-stu-id="72a45-333">Concurrent refreshes are constrained by the capacity size (1.5 x backend v-cores, rounded up).</span></span>
- <span data-ttu-id="72a45-334">**คิวรีที่เกิดขึ้นพร้อมกัน** - คิวรีที่เกิดขึ้นพร้อมกันหลายแห่งอาจส่งผลให้รายงานไม่ตอบสนองเมื่อการเชื่อมต่อตัวประมวลผลหรือ LC/DQ เกินขีดจำกัดความจุ</span><span class="sxs-lookup"><span data-stu-id="72a45-334">**Concurrent queries** - Many concurrent queries can result in unresponsive reports when processor or LC/DQ connections exceeds the capacity limit.</span></span> <span data-ttu-id="72a45-335">โดยเฉพาะอย่างยิ่งกรณีสำหรับหน้ารายงานที่มีวิชวลจำนวนมาก</span><span class="sxs-lookup"><span data-stu-id="72a45-335">This is especially the case for report pages that include many visuals.</span></span>
- <span data-ttu-id="72a45-336">**กระแสข้อมูลและรายงานที่มีการแบ่งหน้า** - สามารถกำหนดค่าความจุเพื่อรองรับกระแสข้อมูลและรายงานที่มีการแบ่งหน้าโดยแต่ละรายการต้องใช้ค่าเปอร์เซ็นต์สูงสุดของหน่วยความจำความจุที่สามารถกำหนดค่าได้</span><span class="sxs-lookup"><span data-stu-id="72a45-336">**Dataflows and paginated reports** - The capacity can be configured to support dataflows and paginated reports, with each requiring a configurable maximum percentage of capacity memory.</span></span> <span data-ttu-id="72a45-337">ระบบได้จัดสรรหน่วยความจำให้กับกระแสข้อมูลเชิงไดนามิก แต่ในเชิงสแตติกแล้วระบบได้จัดสรรหน่วยความจำนั้นให้กับรายงานที่มีการแบ่งหน้า</span><span class="sxs-lookup"><span data-stu-id="72a45-337">Memory is dynamically allocated to dataflows, but is statically allocated to paginated reports.</span></span>

<span data-ttu-id="72a45-338">นอกเหนือจากปัจจัยเหล่านี้ ผู้ดูแลระบบความจุสามารถพิจารณาการสร้างความจุหลายอย่าง</span><span class="sxs-lookup"><span data-stu-id="72a45-338">In addition to these factors, Capacity Admins can consider creating multiple capacities.</span></span> <span data-ttu-id="72a45-339">ความจุหลายอย่างช่วยให้สามารถแยกปริมาณงานได้ และสามารถกำหนดค่าเพื่อให้แน่ใจว่าปริมาณงานที่สำคัญมีแหล่งทรัพยากรที่รับประกัน</span><span class="sxs-lookup"><span data-stu-id="72a45-339">Multiple capacities allow for the isolation of workloads and can be configured to ensure priority workloads have guaranteed resources.</span></span> <span data-ttu-id="72a45-340">ตัวอย่างเช่น คุณสามารถสร้างความจุสองอย่างเพื่อแยกปริมาณงานทางธุรกิจที่สำคัญออกจากปริมาณงาน BI แบบบริการตนเอง (SSBI)</span><span class="sxs-lookup"><span data-stu-id="72a45-340">For example, two capacities can be created to separate business-critical workloads from self-service BI (SSBI) workloads.</span></span> <span data-ttu-id="72a45-341">ความจุทางธุรกิจที่สำคัญสามารถนำมาใช้เพื่อแยกแบบจำลองขององค์กรขนาดใหญ่ที่มีแหล่งทรัพยากรที่รับประกัน โดยการกำหนดสิทธิ์การเข้าถึงที่มอบเฉพาะกับแผนก IT เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="72a45-341">The business-critical capacity can be used to isolate large corporate models providing them with guaranteed resources, with authoring access granted only to the IT department.</span></span> <span data-ttu-id="72a45-342">ความจุ SSBI สามารถใช้เพื่อโฮสต์แบบจำลองขนาดเล็กกว่าที่มีจำนวนเพิ่มขึ้น พร้อมด้วยสิทธิ์การเข้าถึงที่มอบให้กับนักวิเคราะห์ธุรกิจ</span><span class="sxs-lookup"><span data-stu-id="72a45-342">The SSBI capacity can be used to host a growing number of smaller models, with access granted to business analysts.</span></span> <span data-ttu-id="72a45-343">ความจุ SSBI ในบางครั้งอาจมีการรอคิวรีหรือรีเฟรชที่ยอมรับได้</span><span class="sxs-lookup"><span data-stu-id="72a45-343">The SSBI capacity may at times experience query or refresh waits that are tolerable.</span></span>

<span data-ttu-id="72a45-344">เมื่อเวลาผ่านไป ผู้ดูแลระบบความจุสามารถปรับสมดุลพื้นที่ทำงานทั่วทั้งความจุโดยการย้ายเนื้อหาระหว่างพื้นที่ทำงานหรือพื้นที่ทำงานระหว่างความจุและโดยการเพิ่มหรือลดขนาดของขนาด</span><span class="sxs-lookup"><span data-stu-id="72a45-344">Over time, Capacity Admins can balance workspaces across capacities by moving content between workspaces, or workspaces between capacities, and by scaling capacities up or down.</span></span> <span data-ttu-id="72a45-345">โดยทั่วไป ในการโฮสต์แบบจำลองขนาดใหญ่ขึ้น คุณต้องเพิ่มขยาย และสำหรับกระบวนการทำงานพร้อมกันสูง คุณต้องขยายระบบแนวราบ</span><span class="sxs-lookup"><span data-stu-id="72a45-345">Generally, to host larger models you scale-up and for higher concurrency you scale out.</span></span>

<span data-ttu-id="72a45-346">โปรดทราบการซื้อสิทธิ์การใช้งานจะมีวี-คอร์ให้กับผู้เช่า</span><span class="sxs-lookup"><span data-stu-id="72a45-346">Recall that purchasing a license provides the tenant with v-cores.</span></span> <span data-ttu-id="72a45-347">การซื้อการสมัครใช้งาน **P3** สามารถใช้เพื่อสร้างความจุแบบพรีเมียมหนึ่งแบบหรือสูงสุดสี่แบบ เช่น 1 x P3 หรือ 2 x P2 หรือ 4 x P1 ได้</span><span class="sxs-lookup"><span data-stu-id="72a45-347">The purchase of a **P3** subscription can be used to create one, or up to four Premium capacities, i.e. 1 x P3, or 2 x P2, or 4 x P1.</span></span> <span data-ttu-id="72a45-348">นอกจากนี้ ก่อนที่จะเพิ่มขนาดความจุ P2 เป็นความจุ P3 คุณสามารถพิจารณาการแยกวี-คอร์เพื่อสร้างความจุ P1 สองแบบ</span><span class="sxs-lookup"><span data-stu-id="72a45-348">Also, before upsizing a P2 capacity to a P3 capacity, consideration can be given to splitting the v-cores to create two P1 capacities.</span></span>

## <a name="testing-approaches"></a><span data-ttu-id="72a45-349">การทดสอบวิธีการ</span><span class="sxs-lookup"><span data-stu-id="72a45-349">Testing approaches</span></span>

<span data-ttu-id="72a45-350">เมื่อตัดสินใจเลือกขนาดความจุแล้ว การทดสอบสามารถทำได้โดยการสร้างสภาพแวดล้อมที่มีการควบคุม</span><span class="sxs-lookup"><span data-stu-id="72a45-350">Once a capacity size is decided, testing can be performed by creating a controlled environment.</span></span> <span data-ttu-id="72a45-351">ตัวเลือกที่ใช้ได้จริงและประหยัดคือการสร้างความจุ Azure (A SKUs) โดยสังเกตว่าความจุ P1 มีขนาดเท่ากับความจุ A4 ขณะที่ความจุ P2 และ P3 มีขนาดเท่ากับความจุ A5 และ A6 ตามลำดับ</span><span class="sxs-lookup"><span data-stu-id="72a45-351">A practical and economic option is to create an Azure (A SKUs) capacity, noting that a P1 capacity is the same size as an A4 capacity, with the P2 and P3 capacities the same size as the A5 and A6 capacities, respectively.</span></span> <span data-ttu-id="72a45-352">ความจุ Azure สามารถสร้างได้อย่างรวดเร็วและมีการเรียกเก็บเงินเป็นรายชั่วโมง</span><span class="sxs-lookup"><span data-stu-id="72a45-352">Azure capacities can be created quickly and are billed on an hourly basis.</span></span> <span data-ttu-id="72a45-353">ดังนั้นเมื่อการทดสอบเสร็จสิ้น สามารถลบความจุเหล่านี้ได้อย่างง่ายดายเพื่อหยุดค่าใช้จ่ายที่เกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-353">So, once testing is complete, they can be easily deleted to stop accruing costs.</span></span>

<span data-ttu-id="72a45-354">สามารถเพิ่มเนื้อหาการทดสอบลงในพื้นที่ทำงานที่สร้างขึ้นบนความจุ Azure จากนั้นในฐานะผู้ใช้รายเดียวสามารถเรียกใช้รายงานเพื่อสร้างปริมาณงานที่เป็นจริงและเป็นตัวแทนของคิวรี</span><span class="sxs-lookup"><span data-stu-id="72a45-354">The test content can be added to the workspaces created on the Azure capacity, and then as a single user can run reports to generate a realistic and representative workload of queries.</span></span> <span data-ttu-id="72a45-355">ถ้ามีแบบจำลองการนำเข้า ควรดำเนินการรีเฟรชสำหรับแต่ละแบบจำลองด้วย</span><span class="sxs-lookup"><span data-stu-id="72a45-355">If there are import models, a refresh for each model should be performed also.</span></span> <span data-ttu-id="72a45-356">จากนั้นสามารถใช้เครื่องมือการตรวจสอบในการตรวจสอบเมตริกทั้งหมดเพื่อทำความเข้าใจการใช้ทรัพยากร</span><span class="sxs-lookup"><span data-stu-id="72a45-356">Monitoring tools can then be used to review all metrics to understand resource utilization.</span></span>

<span data-ttu-id="72a45-357">เป็นสิ่งสำคัญที่จะต้องทำการทดสอบซ้ำ</span><span class="sxs-lookup"><span data-stu-id="72a45-357">It's important that the tests are repeatable.</span></span> <span data-ttu-id="72a45-358">ควรทำการทดสอบหลายครั้งและควรให้ผลลัพธ์ประมาณเดียวกันในแต่ละครั้ง</span><span class="sxs-lookup"><span data-stu-id="72a45-358">Tests should be run several times and they should deliver approximately the same result each time.</span></span> <span data-ttu-id="72a45-359">ค่าเฉลี่ยของผลลัพธ์เหล่านี้สามารถใช้เพื่อคาดการณ์และประเมินปริมาณงานภายใต้เงื่อนไขการผลิตจริง</span><span class="sxs-lookup"><span data-stu-id="72a45-359">An average of these results can be used to extrapolate and estimate a workload under true production conditions.</span></span>

<span data-ttu-id="72a45-360">ถ้าคุณมีความจุและรายงานที่คุณต้องการการทดสอบโหลดแล้ว ให้ใช้ [เครื่องมือการสร้างโหลดของ PowerShell](https://aka.ms/PowerBILoadTestingTool) เพื่อสร้างการทดสอบโหลดอย่างรวดเร็ว</span><span class="sxs-lookup"><span data-stu-id="72a45-360">If you already have a capacity and the reports you want to load test for, use the [PowerShell load generating tool](https://aka.ms/PowerBILoadTestingTool) to quickly generate a load test.</span></span> <span data-ttu-id="72a45-361">เครื่องมือนี้ช่วยให้คุณสามารถประมาณจำนวนอินสแตนซ์ของแต่ละรายงานที่ความจุของคุณสามารถเรียกใช้งานได้ในหนึ่งชั่วโมง</span><span class="sxs-lookup"><span data-stu-id="72a45-361">The tool enables you to estimate how many instances of each report your capacity can run in an hour.</span></span> <span data-ttu-id="72a45-362">คุณสามารถใช้เครื่องมือเพื่อประเมินขีดความสามารถของความจุสำหรับการแสดงรายงานแต่ละครั้ง หรือสำหรับการแสดงรายงานที่แตกต่างกันหลายรายการควบคู่ไป</span><span class="sxs-lookup"><span data-stu-id="72a45-362">You can use the tool to evaluate your capacity's ability for individual report rendering or for rendering several different reports in parallel.</span></span> <span data-ttu-id="72a45-363">สำหรับข้อมูลเพิ่มเติม ให้ดูวิดีโอ[Microsoft Power BI: ความจุแบบพรีเมียม](https://www.youtube.com/watch?time_continue=1860&v=C6vk6wk9dcw)</span><span class="sxs-lookup"><span data-stu-id="72a45-363">For more information, see the video [Microsoft Power BI: Premium capacity](https://www.youtube.com/watch?time_continue=1860&v=C6vk6wk9dcw).</span></span>

<span data-ttu-id="72a45-364">หากต้องสร้างการทดสอบที่ซับซ้อนมากขึ้น ให้ลองพัฒนาแอปพลิเคชันการทดสอบโหลดเพื่อจำลองปริมาณงานจริง</span><span class="sxs-lookup"><span data-stu-id="72a45-364">To generate a more complex test, consider developing a load testing application that simulates a realistic workload.</span></span> <span data-ttu-id="72a45-365">สำหรับข้อมูลเพิ่มเติม ให้ดูการสัมมนาผ่านเว็บ [การทดสอบโหลดของแอปพลิเคชัน Power BI ที่มีการทดสอบการโหลด Visual Studio](https://powerbi.microsoft.com/blog/week-4-11-webinars-load-testing-power-bi-applications-with-visual-studio-load-test-and-getting-started-with-cds-for-apps-based-model-driven-apps/)</span><span class="sxs-lookup"><span data-stu-id="72a45-365">For more information, see the webinar [Load Testing Power BI Applications with Visual Studio Load Test](https://powerbi.microsoft.com/blog/week-4-11-webinars-load-testing-power-bi-applications-with-visual-studio-load-test-and-getting-started-with-cds-for-apps-based-model-driven-apps/).</span></span>

## <a name="acknowledgments"></a><span data-ttu-id="72a45-366">กิตติกรรมประกาศ</span><span class="sxs-lookup"><span data-stu-id="72a45-366">Acknowledgments</span></span>

<span data-ttu-id="72a45-367">บทความนี้เขียนโดย Peter Myers, MVP แพลตฟอร์มข้อมูล และผู้เชี่ยวชาญ BI อิสระด้วย [โซลูชันแบบ Bitwise](https://www.bitwisesolutions.com.au/)</span><span class="sxs-lookup"><span data-stu-id="72a45-367">This article was written by Peter Myers, Data Platform MVP and independent BI expert with [Bitwise Solutions](https://www.bitwisesolutions.com.au/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="72a45-368">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="72a45-368">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="72a45-369">สถานการณ์ความจุแบบพรีเมียม</span><span class="sxs-lookup"><span data-stu-id="72a45-369">Premium capacity scenarios</span></span>](service-premium-capacity-scenarios.md)   
  
<span data-ttu-id="72a45-370">มีคำถามเพิ่มเติมหรือไม่</span><span class="sxs-lookup"><span data-stu-id="72a45-370">More questions?</span></span> [<span data-ttu-id="72a45-371">ลองถามชุมชน Power BI</span><span class="sxs-lookup"><span data-stu-id="72a45-371">Try asking the Power BI Community</span></span>](https://community.powerbi.com/)

<span data-ttu-id="72a45-372">Power BI ได้แนะนำ Power BI Premium Gen2 เข้ามาใช้งานเป็นข้อเสนอการแสดงตัวอย่าง ซึ่งปรับปรุงประสบการณ์การใช้งาน Power BI Premium ด้วยการปรับปรุงในสิ่งต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="72a45-372">Power BI has introduced Power BI Premium Gen2 as a preview offering, which improves the Power BI Premium experience with improvements in the following:</span></span>
* <span data-ttu-id="72a45-373">ประสิทธิภาพการทำงาน</span><span class="sxs-lookup"><span data-stu-id="72a45-373">Performance</span></span>
* <span data-ttu-id="72a45-374">สิทธิการใช้งานต่อผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="72a45-374">Per-user licensing</span></span>
* <span data-ttu-id="72a45-375">ขนาดใหญ่ขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-375">Greater scale</span></span>
* <span data-ttu-id="72a45-376">เมตริกที่ดีขึ้น</span><span class="sxs-lookup"><span data-stu-id="72a45-376">Improved metrics</span></span>
* <span data-ttu-id="72a45-377">การปรับขนาดอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="72a45-377">Autoscaling</span></span>
* <span data-ttu-id="72a45-378">ลดค่าใช้จ่ายในการจัดการ</span><span class="sxs-lookup"><span data-stu-id="72a45-378">Reduced management overhead</span></span>

<span data-ttu-id="72a45-379">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับ Power BI Premium Gen2 โปรดดูที่ [Power BI Premium Generation 2 (ตัวอย่าง)](service-premium-what-is.md#power-bi-premium-generation-2-preview)</span><span class="sxs-lookup"><span data-stu-id="72a45-379">For more information about Power BI Premium Gen2, see [Power BI Premium Generation 2 (preview)](service-premium-what-is.md#power-bi-premium-generation-2-preview).</span></span>