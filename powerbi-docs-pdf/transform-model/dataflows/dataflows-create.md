---
title: การสร้างกระแสข้อมูล
description: ภาพรวมของตัวเลือกที่แตกต่างกันในการสร้างกระแสข้อมูล
author: davidiseminger
ms.author: davidi
ms.reviewer: ''
ms.service: powerbi
ms.subservice: pbi-dataflows
ms.topic: how-to
ms.date: 10/01/2020
LocalizationGroup: Data from files
ms.openlocfilehash: c98044303e46af46d36b98f0a1bdc8c7df29d94f
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96416174"
---
# <a name="creating-a-dataflow"></a>การสร้างกระแสข้อมูล
**กระแสข้อมูล** คือคอลเลกชันของเอนทิตี (เอนทิตีนั้นคล้ายกับตาราง) ซึ่งสร้างและจัดการได้ในพื้นที่ทำงานในบริการของ Power BI **เอนทิตี/ตาราง** คือชุดเขตข้อมูลที่ใช้เพื่อเก็บข้อมูล ซึ่งคล้ายคลึงกับตารางที่อยู่ภายในฐานข้อมูล คุณสามารถเพิ่มและแก้ไขเอนทิตี/ตารางในกระแสข้อมูลได้ และสามารถจัดการกำหนดการรีเฟรชข้อมูลได้โดยตรงจากพื้นที่ทำงานที่ใช้สร้างกระแสข้อมูล

เมื่อต้องการสร้างกระแสข้อมูล ให้เปิดใช้บริการของ Power BI ในเบราว์เซอร์ จากนั้นเลือก **พื้นที่ทำงาน** (กระแสข้อมูลไม่พร้อมใช้งานใน *พื้นที่ทำงานของฉัน* ในบริการของ Power BI) จากบานหน้าต่างด้านซ้าย ดังที่แสดงในหน้าจอต่อไปนี้ คุณยังสามารถสร้างพื้นที่ทำงานใหม่ได้ ซึ่งใช้เพื่อสร้างกระแสข้อมูลชุดใหม่
![เริ่มต้นกระแสข้อมูล](media/dataflows-create/create-options.png)

มีหลายแนวทางในการสร้างหรือต่อยอดอยู่ด้านบนของกระแสข้อมูลใหม่:

* [สร้างกระแสข้อมูลโดยใช้กำหนดเอนทิตีใหม่](#create-a-dataflow-using-define-new-entities)
* [สร้างกระแสข้อมูลโดยใช้เอนทิตีที่เชื่อมโยง](#create-a-dataflow-using-linked-entities)
* [สร้างกระแสข้อมูลโดยใช้เอนทิตีที่คำนวณ](#create-a-dataflow-using-a-computed-entity)
* [สร้างกระแสข้อมูลโดยใช้นำเข้า/ส่งออก](#create-a-dataflow-using-importexport)

ส่วนต่อไปนี้จะสำรวจแนวทางในการสร้างกระแสข้อมูลโดยละเอียดสำหรับแต่ละแต่ละวิธี

## <a name="create-a-dataflow-using-define-new-entities"></a>สร้างกระแสข้อมูลโดยใช้กำหนดเอนทิตีใหม่

การใช้ตัวเลือกกำหนดเอนทิตีใหม่ช่วยให้คุณสามารถกำหนดเอนทิตี/ตารางใหม่และเชื่อมต่อไปยังแหล่งข้อมูลใหม่
[ ![เลือกตัวเชื่อมต่อ](media/dataflows-create/create-connectors.png) ](media/dataflows-create/create-connectors.png#lightbox)

เมื่อคุณเลือกแหล่งข้อมูล คุณจะได้รับแจ้งเตือนให้ระบุการตั้งค่าการเชื่อมต่อ ที่รวมถึงบัญชีที่ใช้เมื่อทำการเชื่อมต่อกับแหล่งข้อมูล ดังที่แสดงในรูปต่อไปนี้
![ตัวเชื่อมต่อ azure sql](media/dataflows-create/azure-sql-connector.png)

เมื่อเชื่อมต่อแล้ว คุณสามารถเลือกได้ว่าจะใช้ข้อมูลใดกับเอนทิตี เมื่อคุณเลือกข้อมูลและแหล่งข้อมูล Power BI จะเชื่อมต่อกับแหล่งข้อมูลอีกครั้งเพื่อเก็บข้อมูลในการรีเฟรชกระแสข้อมูล ตามความถี่ที่คุณจะได้เลือกในขั้นตอนถัดไป
![เลือกตาราง](media/dataflows-create/choose-table.png)

เมื่อคุณเลือกข้อมูลเพื่อใช้กับเอนทิตี คุณสามารถใช้ตัวแก้ไขกระแสข้อมูลเพื่อปรับแต่งหรือแปลงข้อมูลนั้นให้อยู่ในรูปแบบที่ต้องใช้งานในกระแสข้อมูลได้ 

## <a name="create-a-dataflow-using-linked-entities"></a>สร้างกระแสข้อมูลโดยใช้เอนทิตีที่เชื่อมโยง

การสร้างกระแสข้อมูลโดยใช้เอนทิตีที่เชื่อมโยงช่วยให้คุณสามารถอ้างอิงเอนทิตีที่มีอยู่ ซึ่งกำหนดไว้ในกระแสข้อมูลอื่นในรูปแบบอ่านอย่างเดียว รายการต่อไปนี้อธิบายถึงเหตุผลบางประการที่คุณอาจเลือกวิธีการนี้:

* ถ้าคุณต้องการใช้เอนทิตีซ้ำในหลายกระแสข้อมูล เช่น เอนทิตีวันที่หรือตารางการค้นหาแบบคงที่ คุณควรสร้างเอนทิตีหนึ่งครั้ง และจากนั้นอ้างอิงกับกระแสข้อมูลอื่น ๆ

* หากคุณต้องการหลีกเลี่ยงการสร้างการรีเฟรชหลายครั้งในแหล่งข้อมูล คุณควรใช้เอนทิตีที่เชื่อมโยงเพื่อจัดเก็บข้อมูลและทำหน้าที่เป็นแคช การดำเนินการดังกล่าวจะช่วยให้ผู้บริโภคที่ตามมาทุกคนสามารถใช้ประโยชน์จากเอนทิตีนั้นได้โดยลดภาระให้กับแหล่งข้อมูลเบื้องต้น

* ถ้าคุณจำเป็นต้องดำเนินการผสานระหว่างสองเอนทิตี

> [!NOTE]
> เอนทิตีที่เชื่อมโยงพร้อมใช้งานเฉพาะกับ Power BI Premium เท่านั้น

## <a name="create-a-dataflow-using-a-computed-entity"></a>สร้างกระแสข้อมูลโดยใช้เอนทิตีที่คำนวณ

การสร้างกระแสข้อมูลโดยใช้เอนทิตีที่คำนวณช่วยให้คุณสามารถอ้างอิงเอนทิตีที่เชื่อมโยงและดำเนินการกับด้านบนของเอนทิตีในรูปแบบเขียนอย่างเดียวได้ ผลลัพธ์คือเอนทิตีใหม่ ซึ่งเป็นส่วนหนึ่งของกระแสข้อมูล เมื่อต้องการแปลงเอนทิตีที่เชื่อมโยงไปเป็นเอนทิตีที่คำนวณ คุณสามารถสร้างคิวรีใหม่จากการดำเนินการผสานหรือถ้าคุณต้องการ คุณสามารถแก้ไขหรือแปลงเอนทิตีได้ ตลอดจนสร้างการอ้างอิงหรือการทำซ้ำของเอนทิตี

### <a name="how-to-create-computed-entities"></a>วิธีการสร้างเอนทิตีที่คำนวณไว้

เมื่อคุณมีกระแสข้อมูลพร้อมรายการเอนทิตี คุณจะสามารถทำการคำนวณเอนทิตีเหล่านั้นได้
ที่เครื่องมือการเขียนกระแสข้อมูลในบริการของ Power BI ให้คุณเลือก **แก้ไขเอนทิตี** จากนั้นคลิกขวาที่เอนทิตีที่ต้องการใช้เป็นพื้นฐานสำหรับเอนทิตีที่คำนวณและต้องการทำการคำนวณด้วย ในเมนูบริบท ให้คุณเลือก **การอ้างอิง**
เพื่อให้สิทธิ์เอนทิตีเป็นเอนทิตีที่คำนวณ ต้องเลือกที่ตัวเลือก **เปิดใช้งานโหลด** ดังที่แสดงในภาพต่อไปนี้ คลิกขวาที่เอนทิตีเพื่อให้แสดงเมนูบริบทนี้

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 1](media/dataflows-create/computed-entity-step-1.png)

เมื่อเลือก **เปิดใช้งานโหลด** แล้ว คุณจะสามารถสร้างเอนทิตีใหม่ได้ ซึ่งต้นทางของมันก็คือเอนทิตีที่อ้างอิงถึง ไอคอนจะเปลี่ยนและแสดงไอคอน **ที่คำนวณไว้** ดังที่แสดงในภาพต่อไปนี้

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 2](media/dataflows-create/computed-entity-step-2.png)

การแปลงข้อมูลใดก็ตามที่คุณดำเนินการในเอนทิตีที่สร้างใหม่นี้ จะถูกเรียกใช้ในข้อมูลที่อยู่ในที่จัดเก็บกระแสข้อมูล Power BI ซึ่งหมายความว่าคิวรีนั้นไม่ได้เรียกใช้กับแหล่งข้อมูลภายนอกที่มีการนำเข้าข้อมูลมา (เช่น ฐานข้อมูล SQL ที่มีการดึงข้อมูลมา) แต่มีการดำเนินการกับข้อมูลที่อยู่ในที่เก็บกระแสข้อมูลอยู่แล้ว

**ตัวอย่างกรณีการใช้งาน** การแปลงชนิดใดที่สามารถดำเนินการกับเอนทิตีที่คำนวณได้ การแปลงใดก็ตามที่คุณมักจะระบุถึงโดยใช้อินเตอร์เฟสผู้ใช้ของการแปลงใน Power BI หรือ M Editor จะได้รับการรองรับเมื่อทำการคำนวณในที่จัดเก็บ

โปรดพิจารณาตัวเลือกต่อไปนี้: คุณมีเอนทิตี *บัญชี* ที่มีข้อมูลดิบสำหรับลูกค้าทั้งหมดจากการสมัครใช้งาน Dynamics 365 นอกจากนี้คุณยังมีข้อมูลดิบของ *ServiceCalls* จากศูนย์บริการ โดยที่มีข้อมูลจากการโทรศัพท์สนับสนุนที่ทำจากบัญชีอื่นในแต่ละวันของทั้งปี

ลองนึกดูว่าคุณต้องการเพิ่มข้อมูลจาก *ServiceCalls* ในเอนทิตี *บัญชี*
ก่อนอื่นคุณต้องรวบรวมข้อมูลจาก *ServiceCalls* เพื่อคำนวณจำนวนของการโทรศัพท์สนับสนุนในปีก่อนที่ทำให้แต่ละบัญชี

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 3](media/dataflows-create/computed-entity-step-3.png)

จากนั้น คุณต้องผสานเอนทิตี *บัญชี* กับเอนทิตี *ServiceCallsAggregated* เพื่อคำนวณตาราง *บัญชี* ที่เพิ่มข้อมูล

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 4](media/dataflows-create/computed-entity-step-4.png)

และจากนั้นคุณจะเห็นผลลัพธ์ ดังที่แสดง *EnrichedAccount* ในภาพต่อไปนี้

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 5](media/dataflows-create/computed-entity-step-5.png)

เท่านั้นเอง การแปลงได้ดำเนินการกับข้อมูลในกระแสข้อมูลที่อยู่ในการสมัครใช้งาน Power BI Premium ไม่ใช่กับข้อมูลต้นทาง

> [!NOTE]
> เอนทิตีที่คำนวณเป็นคุณลักษณะ premium เท่านั้น

## <a name="create-a-dataflow-using-a-cdm-folder"></a>สร้างกระแสข้อมูลโดยใช้โฟลเดอร์ CDM

การสร้างกระแสข้อมูลจากโฟลเดอร์ CDM ช่วยให้คุณสามารถอ้างอิงเอนทิตีที่เขียนโดยแอปพลิเคชันอื่นในรูปแบบ Common Data Model (CDM) คุณได้รับพร้อมท์ให้กำหนดเส้นทางที่สมบูรณ์ไปยังไฟล์รูปแบบ CDM ที่จัดเก็บไว้ใน ADLS Gen 2

 ![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 6](media/dataflows-create/attach-cdm.jpg)

มีข้อกำหนดสองสามข้อสำหรับการสร้างกระแสข้อมูลจากโฟลเดอร์ CDM ตามรายการที่อธิบายต่อไปนี้:

* บัญชี ADLS Gen 2 ต้องมีการตั้งค่าสิทธิ์ที่เหมาะสมเพื่อให้ PBI เข้าถึงไฟล์ได้

* บัญชี ADLS Gen 2 ต้องสามารถเข้าถึงได้โดยผู้ใช้ที่พยายามสร้างกระแสข้อมูล

* การสร้างกระแสข้อมูลจากโฟลเดอร์ CDM สามารถใช้งานได้ในพื้นที่ทำงานใหม่เท่านั้น

* URL ต้องเป็นเส้นทางไฟล์ทางตรงไปยังไฟล์ JSON และใช้จุดสิ้นสุด ADLS Gen 2 ซึ่งไม่รองรับ blob.core

## <a name="create-a-dataflow-using-importexport"></a>สร้างกระแสข้อมูลโดยใช้นำเข้า/ส่งออก

การสร้างกระแสข้อมูลโดยใช้นำเข้า/ส่งออกช่วยให้คุณนำเข้ากระแสข้อมูลจากไฟล์ การดำเนินการนี้จะเป็นประโยชน์ถ้าคุณต้องการบันทึกสำเนากระแสข้อมูลแบบออฟไลน์ หรือย้ายกระแสข้อมูลจากพื้นที่ทำงานหนึ่งไปยังอีกพื้นที่ทำงานหนึ่ง 

เมื่อต้องการส่งออกกระแสข้อมูล ให้เลือกกระแสข้อมูลที่คุณสร้างขึ้นและเลือกรายการเมนู **เพิ่มเติม** (จุดไข่ปลา) เพื่อขยายตัวเลือกจากนั้นเลือก **ส่งออก .json** คุณได้รับพร้อมท์ให้เริ่มการดาวน์โหลดกระแสข้อมูลที่แสดงในรูปแบบ CDM

![สร้างเอนทิตีที่คำนวณขั้นตอนที่ 7](media/dataflows-create/export-dataflow.png)

หากต้องการนำเข้ากระแสข้อมูล ให้เลือกกล่องนำเข้าและอัปโหลดไฟล์ Power BI สร้างกระแสข้อมูลสำหรับคุณและอนุญาตให้คุณบันทึกกระแสข้อมูลตามที่เป็นอยู่หรือเพื่อทำการแปลงเพิ่มเติม

## <a name="next-steps"></a>ขั้นตอนถัดไป

เมื่อคุณสร้างกระแสข้อมูล คุณอาจใช้ Power BI Desktop และ บริการของ Power BI เพื่อสร้างชุดข้อมูล รายงาน แดชบอร์ด และแอปที่ใช้ข้อมูลที่คุณป้อนเข้ากระแสข้อมูลของ Power BI ซึ่งจะช่วยให้คุณได้ข้อมูลเชิงลึกในกิจกรรมธุรกิจ บทความต่อไปนี้จะลงรายละเอียดที่ลึกขึ้นเกี่ยวกับสถานการณ์การใช้งานทั่วไปสำหรับกระแสข้อมูล:

* [ข้อมูลเบื้องต้นเกี่ยวกับกระแสข้อมูลและการเตรียมข้อมูลด้วยตนเอง](dataflows-introduction-self-service.md)
* [กำหนดค่าและใช้กระแสข้อมูล](dataflows-configure-consume.md)
* [การกำหนดค่าที่จัดเก็บกระแสข้อมูลเพื่อใช้ Azure Data Lake Gen 2](dataflows-azure-data-lake-storage-integration.md)
* [ฟีเจอร์พรีเมียมของกระแสข้อมูล](dataflows-premium-features.md)
* [AI กับกระแสข้อมูล](dataflows-machine-learning-integration.md)
* [ข้อจำกัดและข้อควรพิจารณาของกระแสข้อมูล](dataflows-features-limitations.md)
* [แนวทางปฏิบัติที่ดีที่สุดสำหรับกระแสข้อมูล](dataflows-best-practices.md)