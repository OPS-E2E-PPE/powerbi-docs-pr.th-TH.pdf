---
title: กำหนดค่าปริมาณงานกระแสข้อมูลของ Power BI Premium
description: วิธีกำหนดค่าปริมาณงานกระแสข้อมูลของ Power BI Premium
author: davidiseminger
ms.author: davidi
ms.reviewer: ''
ms.service: powerbi
ms.subservice: pbi-dataflows
ms.topic: how-to
ms.date: 11/13/2020
ms.custom: references_regions
LocalizationGroup: Data from files
ms.openlocfilehash: 64ad881f4deb2d106254f49c588e9d34b15bea2f
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96414058"
---
# <a name="configure-power-bi-premium-dataflow-workloads"></a>กำหนดค่าปริมาณงานกระแสข้อมูลของ Power BI Premium

คุณสามารถกำหนดปริมาณงานของกระแสข้อมูลในการสมัครใช้งาน Power BI Premium ได้ Power BI ใช้แนวคิดของ *ปริมาณงาน* เพื่ออธิบายเนื้อหาพรีเมียม ปริมาณงานรวมถึง ชุดข้อมูล รายงานที่มีการแบ่งหน้า กระแสข้อมูลและ AI ปริมาณงานของ *กระแสข้อมูล* ช่วยให้คุณใช้การเตรียมข้อมูลแบบบริการตนเองของกระแสข้อมูลเพื่อนำเข้า แปลง รวม และเพิ่มข้อมูล กระแสข้อมูลของ Power BI Premium ถูกจัดการใน **พอร์ทัลผู้ดูแลระบบ**

![พอร์ทัลผู้ดูแลระบบสำหรับกระแสข้อมูลใน Power BI premium](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-01.png)

ส่วนต่อไปนี้อธิบายวิธีการเปิดใช้งานกระแสข้อมูลในองค์กรของคุณ วิธีการปรับปรุงการตั้งค่าในความจุพรีเมียมของคุณและคำแนะนำสำหรับการใช้งานทั่วไป

## <a name="enabling-dataflows-in-power-bi-premium"></a>เปิดใช้งานกระแสข้อมูลใน Power BI premium

ข้อกำหนดแรกสำหรับการใช้กระแสข้อมูลในการสมัครใช้งาน Power BI premium ของคุณคือเปิดการสร้างและการใช้กระแสข้อมูลสำหรับองค์กรของคุณ ใน **พอร์ทัลผู้ดูแลระบบ** เลือก **การตั้งค่าผู้เช่า** และสลับแถบเลื่อนภายใต้ **การตั้งค่า กระแสข้อมูล** เพื่อ **เปิดใช้งาน** ดังที่แสดงในรูปต่อไปนี้

![พอร์ทัลผู้ดูแลระบบสำหรับกระแสข้อมูลใน Power BI premium](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-01.png)

หลังจากเปิดใช้งานปริมาณงานกระแสข้อมูลจะมีการกำหนดค่าด้วยการตั้งค่าเริ่มต้น คุณอาจต้องการปรับแต่งการตั้งค่าเหล่านี้ตามที่คุณเห็นว่าเหมาะสม ถัดไปเราจะอธิบายว่าการตั้งค่าเหล่านี้แสดงอยู่ที่ใดและจะช่วยให้คุณเข้าใจว่าเมื่อใดคุณอาจต้องการเปลี่ยนแปลงค่าเพื่อปรับปรุงประสิทธิภาพการทำงานของกระแสข้อมูลให้เหมาะสม

## <a name="refining-dataflow-settings"></a>ปรับแต่งการตั้งค่ากระแสข้อมูล

เมื่อเปิดใช้งานกระแสข้อมูลคุณสามารถใช้ **พอร์ทัลผู้ดูแลระบบ** เพื่อเปลี่ยนแปลงหรือปรับแต่งวิธีการสร้างกระแสข้อมูลและวิธีการใช้ทรัพยากรในการสมัครใช้งาน Power BI Premium ของคุณ ขั้นตอนต่อไปนี้แสดงวิธีการปรับการตั้งค่ากระแสข้อมูลของคุณ

1. ใน **พอร์ทัลผู้ดูแลระบบ** เลือก **การตั้งค่าผู้เช่า** เพื่อแสดงรายการความจุทั้งหมดที่ถูกสร้างขึ้น เลือกความจุเพื่อจัดการการตั้งค่านั้น

    ![เลือกความจุเพื่อจัดการการตั้งค่า](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-02.png)

2. ความจุ Power BI Premium ของคุณสะท้อนให้เห็นถึงทรัพยากรที่พร้อมใช้งานสำหรับกระแสข้อมูลของคุณ คุณสามารถเปลี่ยนขนาดความจุของคุณได้โดยการเลือกปุ่ม **เปลี่ยนขนาด** ดังที่แสดงในรูปต่อไปนี้

    ![เปลี่ยนขนาดของความจุ](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-03.png)

3. ในการตั้งค่าความจุคุณสามารถกำหนดค่าการตั้งค่ากระแสข้อมูลได้โดยการขยาย **ปริมาณงาน**

    ![ขยายส่วนปริมาณงาน](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-04.png)

4. ในส่วน **ปริมาณงาน** เลื่อนไปยังบริเวณ **กระแสข้อมูล** รูปภาพต่อไปนี้แสดงการตั้งค่าที่คุณสามารถใช้เพื่อควบคุมหรือปรับแต่งพฤติกรรมของปริมาณงานกระแสข้อมูลสำหรับความจุของคุณ

    ![การตั้งค่าปริมาณงานของกระแสข้อมูล](media/dataflows-premium-workload-configuration/dataflows-premium-workloads-05.png)

ตารางต่อไปนี้แสดงคำอธิบายพื้นฐานของการตั้งค่ากระแสข้อมูล



| **ส่วนของผู้ดูแลระบบ** | **การตั้งค่าชื่อ** | **คำอธิบาย** |
|---------|---------|---------|
| **ขนาดความจุ** | **เปลี่ยนแปลงขนาด** | ความจุที่เลือกใช้ในปัจจุบันจะแสดงอยู่ พร้อมด้วยตัวเลือกเพื่อเปลี่ยนความจุ การเปลี่ยนการตั้งค่านี้จะช่วยให้สามารถปรับขนาดเพิ่มหรือลดขนาดของความจุได้ |
| **ปริมาณงาน** | **หน่วยความจำสูงสุด (%)** | เปอร์เซ็นต์สูงสุดของหน่วยความจำที่พร้อมใช้งานซึ่งกระแสข้อมูลสามารถใช้ความจุนี้ได้ |
| **ปริมาณงาน** | **เพิ่มประสิทธิภาพของเครื่องคำนวณกระแสข้อมูล** | เปิดใช้งานตัวเลือกนี้เพื่อให้การคำนวณเอนทิตี่มีการคำนวณเร็วขึ้นถึง 20 เท่า เมื่อทำงานกับข้อมูลจำนวนมาก  **คุณต้องรีสตาร์ทความจุเพื่อเปิดใช้งานเครื่องใหม่**  กรุณาดูข้อมูลเพิ่มเติมที่ [ปรับปรุงเครื่องคำนวณกระแสข้อมูลให้มีประสิทธิภาพมากขึ้น](../../admin/service-admin-premium-workloads.md#enhanced-dataflows-compute-engine) |
| **ปริมาณงาน** | **ขนาดคอนเทนเนอร์** | ขนาดสูงสุดของคอนเทนเนอร์ที่กระแสข้อมูลใช้สำหรับเอนทิตีแต่ละรายการในกระแสข้อมูล ค่าเริ่มต้นคือ 700 MB กรุณาดูข้อมูลเพิ่มเติมที่ [ขนาดคอนเทนเนอร์](../../admin/service-admin-premium-workloads.md#container-size) |
| **ปริมาณงาน** | **คำนวณหน่วยความจำเครื่อง (%)** | เปอร์เซ็นต์สูงสุดของหน่วยความจำที่ปันส่วนไปยังเครื่องคำนวณ ค่าเริ่มต้นคือ 30% |

ในส่วนต่อไปนี้เราจะไปยังรายละเอียดเกี่ยวกับการตั้งค่าแต่ละรายการและวิธีการส่งผลกระทบต่อปริมาณงานกระแสข้อมูลของคุณ

### <a name="understanding-dataflow-workload-options"></a>การทำความเข้าใจตัวเลือกปริมาณงานกระแสข้อมูล

วิธีง่าย ๆ ในการคิดเกี่ยวกับตัวเลือกปริมาณงานกระแสข้อมูลคือการใช้การเปรียบเทียบ *ขนาดความจุ* หรือชนิดของอินสแตนซ์ Power BI Premium ที่คุณมีให้คิดว่าเป็น *ร้านอาหาร* ของคุณ ภายในร้านอาหารของคุณ จะมี *หน่วยความจำปริมาณงาน* ซึ่งก็คือ *ครัว* ของคุณ *เครื่องคำนวณข้อมูล* เป็น *เตาอบ* ของคุณ และสุดท้าย *คอนเทนเนอร์* คือการจัดเรียงของคุณภาพของ *พ่อครัว* ของคุณ ในการประเมินตัวเลือกปริมาณงานกระแสข้อมูลของคุณให้นึกภาพการเตรียมอาหารสำหรับอาหารค่ำขนาดใหญ่หรืออย่างมีนัยสำคัญมาก คุณมีแขกที่สำคัญมากกำลังมาและคุณต้องมีอาหารค่ำพร้อมให้บริการโดยเวลาที่พวกเขามาถึง

เราจะใช้การเปรียบเทียบร้านอาหารนี้ เพื่ออธิบายและให้คำแนะนำเกี่ยวกับการตั้งค่าแต่ละรายการ เราจะเริ่มต้นที่ระดับบนสุด - ความจุพรีเมียมของคุณ - เนื่องจากนี่คือตัวเลือกแรกที่คุณทำเมื่อใช้ Power BI Premium

#### <a name="premium-capacity-skus---scale-up-the-hardware"></a>ความจุพรีเมียม Sku - ขยายฮาร์ดแวร์

ปริมาณงาน Power BI Premium ใช้การผสมผสานแกนประมวลผลด้านหน้าและด้านหลังเพื่อให้บริการคิวรีอย่างรวดเร็วระหว่างปริมาณงานชนิดต่าง ๆ [โหนดความจุ](../../admin/service-premium-what-is.md#capacity-nodes) บทความรวมแผนภูมิที่แสดงข้อมูลจำเพาะปัจจุบันของแต่ละข้อเสนอปริมาณงาน ความจุ A3 และที่สูงกว่าจะสามารถใช้ประโยชน์จากเครื่องมือคำนวณ ดังนั้นเมื่อคุณต้องการใช้เครื่องคำนวณขั้นสูงให้เริ่มต้นที่ – [โหนดความจุ](../../admin/service-premium-what-is.md#capacity-nodes) 

ในการเปรียบเทียบกับร้านอาหารของเรา การเลือกความจุเหมือนกับการเลือกร้านอาหารที่มีคุณภาพสูง แม้ว่าค่าใช้จ่ายสูงกว่าคุณสามารถคาดหวังประสิทธิภาพการทำงานที่สูงขึ้นเนื่องจากการเพิ่มขึ้นในแกนประมวลผลด้านหน้าแกนประมวลผลด้านหลังและหน่วยความจำเพิ่มเติม เมื่อคุณไปสู่ร้านอาหารที่ใหญ่กว่าเดิม คุณจะได้รับห้องครัวที่ใหญ่กว่าและพ่อครัวที่ดีกว่าซึ่งจะเหมือนกับการปรับรุ่นเป็น SKU ที่สูงขึ้นใน Power BI Premium ช่วยให้คุณได้รับประโยชน์จากการเพิ่มความเร็ว CPU เพิ่มหน่วยความจำต่อการดำเนินการและการเพิ่มความขนานกันมากขึ้น

#### <a name="max-memory---dedicating-a-capacity-for-dataflows"></a>หน่วยความจำสูงสุด - ทุ่มเทความจุสำหรับกระแสข้อมูล 

การตั้งค่า **หน่วยความจำสูงสุด %** เป็นเปอร์เซ็นต์ของหน่วยความจำจากหน่วยความจำกายภาพที่พร้อมใช้งานสำหรับความจุพรีเมียมที่ให้ไว้สำหรับปริมาณงานกระแสข้อมูล คุณสามารถทุ่มเทให้กับความจุทั้งหมดได้อย่างมีประสิทธิภาพสำหรับปริมาณงานกระแสข้อมูลและความจุจะปรับขนาดแบบไดนามิกตามที่จำเป็นสำหรับการจัดสรรที่คุณตั้งค่าไว้ ในการเปรียบเทียบของเราถ้าคุณทำให้ครัวของคุณใหญกว่าเดิม คุณสามารถปรุงอาหารได้มากขึ้น - เช่นเดียวกับที่คุณสามารถเพิ่มขนาดปริมาณงานของความจุสำหรับกระแสข้อมูลและให้กระแสข้อมูลได้มากขึ้น ในขณะที่มีการกำกับดูแลทรัพยากรแบบไดนามิกในสถานที่่ตัวเลือกการกำหนดค่า *หน่วยความจำสูงสุด %* ช่วยให้คุณสามารถทุ่มเท 100% ของหน่วยความจำสำหรับปริมาณงานกระแสข้อมูล สิ่งนี้ใช้สำหรับสถานการณ์ที่หายากเมื่อคุณต้องการตรวจสอบให้แน่ใจว่าหน่วยความจำของความจุสามารถใช้ได้สำหรับปริมาณงานกระแสข้อมูลของคุณแทนที่จะพึ่งพาการกำกับดูแลทรัพยากร ด้วยการเปรียบเทียบ นี่จะเหมือนกับการตรวจสอบให้แน่ใจว่าห้องครัวของคุณมุ่งเน้นไปที่การเตรียมอาหารที่เฉพาะเจาะจงสำหรับแขก โดยทุ่มเทครัวเต็มรูปแบบไปยังงานนั้น แน่นอน ความสามารถในการทุ่มเทที่มากขึ้นไม่ได้หมายถึงอาหารที่ดีขึ้นหรือเวลาที่เร็วขึ้นไปยังตาราง – ในส่วนถัดไปจะอธิบาย

#### <a name="container-size---refresh-or-out-of-memory-issues"></a>ขนาดคอนเทนเนอร์ - รีเฟรชหรือปัญหาหน่วยความจำไม่เพียงพอ

ถัดไป เราลองพูดคุยเกี่ยวกับการตั้งค่า **ขนาดของคอนเทนเนอร์ (Mb)** ภายใน กระแสข้อมูลใช้กระบวนการที่เรียกว่า *แมชอัปคอนเทนเนอร์* เพื่อประเมินกระบวนการ ETL ของคุณ กลไกจัดการแยกตรรกะคิวรีของคุณลงในคอนเทนเนอร์เหล่านี้และสามารถดำเนินการควบคู่กันได้ จำนวนของคอนเทนเนอร์ทำให้ประมวลผลพร้อมกันอย่างมีประสิทธิภาพและเพิ่มประสิทธิภาพการทำงานได้ คอนเทนเนอร์เหล่านี้จะถูกจำกัดโดย **ความจุ** เป็นลำดับแรก การตั้งค่า **หน่วยความจำสูงสุด %** เป็นลำดับสอง จากนั้นจำนวนหน่วยความจำที่คุณจัดสรรโดยเฉพาะในการตั้งค่าคอนเทนเนอร์ซึ่งเป็นค่าเริ่มต้นคือ 700Mb ดังนั้นจึงเป็นไปได้ที่จะเพิ่มปริมาณของหน่วยความจำฮาร์ดแวร์และเพิ่มขนาดคอนเทนเนอร์ แต่การทำเช่นนั้นจะลดการดำเนินการแบบขนานในขณะทีเพิ่มหน่วยความจำมากขึ้นสำหรับกระบวนการ ETL เฉพาะภายในคอนเทนเนอร์ของคุณ จำนวนของคอนเทนเนอร์ได้รับการปรับให้เหมาะสมที่สุดสามเท่าของจำนวนแกนประมวลผลด้านหลังซึ่งเป็นสิ่งสำคัญเนื่องจากคุณไม่สามารถทำให้คอนเทนเนอร์มีขนาดเล็กมากและมีคอนเทนเนอร์ขนานมากเกินกว่าจุดนั้น ขนาดต่ำสุดที่คุณสามารถทำคอนเทนเนอร์คือ 200Mb ขนาดคอนเทนเนอร์ยังคลุมไปยังระดับคิวรีซึ่งหมายความว่าแต่ละคิวรีได้รับการดำเนินการในคอนเทนเนอร์ของตนเองยกเว้นเมื่อคิวรีจะอ้างอิงคิวรีอื่น ๆ ในกรณีที่มีการรีเฟรชเป็นส่วนหนึ่งของคอนเทนเนอร์เดียวกัน

ย้อนกลับไปยังการเปรียบเทียบของเรา การมีจำนวนพ่อครัวที่น้อยลงแต่มุ่งเน้นมากขึ้นในครัวช่วยให้คุณสามารถปรุงอาหารได้รวดเร็วขึ้นอยู่กับชนิดของคำสั่งอาหารที่วางไว้และความซับซ้อนของอาหาร สิ่งที่ต้องแลกเปลี่ยนในที่นี้คือการมีพ่อครัวน้อยลงแต่มีเวลาที่มุ่งเน้นมากขึ้นสำหรับการเตรียมการ ในทำนองเดียวกันการเพิ่มหน่วยวัดขนาดคอนเทนเนอร์ไปที่ 1200-1500 MB สามารถหมายถึงจำนวนงาน ETL ที่น้อยลงแต่ซับซ้อนมากขึ้น – กิจกรรมเช่นการรวม การสร้าง ไพวอท การจัดการแถวหรือคอลัมน์ - สามารถมองเห็นการเพิ่มประสิทธิภาพในขณะที่เรามีหน่วยความจำเพิ่มเติมสำหรับแต่ละคอนเทนเนอร์ แต่ในการดำเนินการดังกล่าวลดจำนวนคอนเทนเนอร์ลง เช่นเดียวกับการเปรียบเทียบบ่งบอกว่าคำสั่งอาหารจำนวนมากเกินไปสามารถลดความเร็วในการออกผลผลิตจากห้องครัว ซึ่งเป็นวิธีที่คุณสามารถคิดเกี่ยวกับขนาดคอนเทนเนอร์ – ใช้สิ่งนี้เมื่อคุณจำเป็นต้องมีการดำเนินการเอนทิตีที่ซับซ้อนเพื่อให้เสร็จสมบูรณ์และคุณยินดีที่จะแลกเปลี่ยนแบบขนานเพื่อประสิทธิภาพการทำงานเนื่องจากการเพิ่มทรัพยากรนี้แบ่งหน่วยความจำที่จัดสรรให้คอนเทนเนอร์น้อยลง

โดยสรุป คุณต้องการปรับขนาดคอนเทนเนอร์ของคุณให้เหมาะสมตามคิวรีที่ใช้ ตัวอย่างเช่น เพียงแค่โหลดข้อมูลจากแหล่งที่มาลงในเอนทิตี โดยไม่จำเป็นต้องดึงข้อมูลและดำเนินการใด ๆ เพียงแค่โหลดข้อมูลไปยังที่เก็บข้อมูลเท่านั้น คุณต้องการความขนานมากที่สุดเท่าที่เป็นไปได้สำหรับสถานการณ์น ี้ตามที่คุณต้องการเพิ่มความเร็วในการโหลดและการรีเฟรช ตรงกันข้ามเมื่อคุณเพิ่มการดำเนินการแปลงเพิ่มเติม – ตัวกรองที่ซับซ้อน การรวม การรวมหน่วยความจำอาจสูงกว่าที่เราอาจจำเป็นต้องดำเนินการบางอย่างของการดำเนินการแปลงเหล่านี้ในหน่วยความจำ โปรดระวังว่าถ้าคุณมีการดำเนินการกระแสข้อมูลอื่น ๆ ที่ทำงานอยู่บนความจุนั้น การดำเนินการเหล่านั้นจะช้าลงและบังคับให้เข้าคิวเพื่อให้มีสล็อตการดำเนินการ ในการสิ้นสุดการตรวจสอบและการจัดการของกระแสข้อมูล การรีเฟรชประสิทธิภาพการทำงานและความจุทั้งหมดได้รับการช่วยเหลือจากเมตริกความจุของแอป **Power BI Premium** คุณสามารถใช้แอป[เมตริกความจุ Power BI Premium](../../admin/service-premium-capacity-optimize.md#what-content-is-using-up-my-capacity)เพื่อกรองตามความจุ และตรวจสอบเมตริกประสิทธิภาพการทำงานสำหรับเนื้อหาของพื้นที่ทำงานได้ คุณสามารถตรวจสอบเมตริกประสิทธิภาพการทำงานและการใช้งานทรัพยากรเป็นชั่วโมงในช่วงเจ็ดวันที่ผ่านมาสำหรับเนื้อหาทั้งหมดที่จัดเก็บไว้ภายในความจุแบบพรีเมียม - เพื่อตรวจสอบประสิทธิภาพการทำงานของกระแสข้อมูล จึงขอแนะนำให้เริ่มต้นด้วยแอป

#### <a name="enhanced-compute-engine---an-opportunity-to-improve-performance"></a>เพิ่มกลไกการคำนวณ - โอกาสในการปรับปรุงประสิทธิภาพการทำงาน

ในการเปรียบเทียบของเรา [กลไกการคำนวณขั้นสูง](dataflows-premium-features.md#the-enhanced-compute-engine) เหมือนกับเตาอบ Power BI ใช้เครื่องมือคำนวณเพื่อประมวลผลคิวรีและการรีเฟรชของคุณ กลไกการคำนวณขั้นสูงคือการพัฒนากลไกมาตรฐานและทำงานโดยการโหลดข้อมูลไปยังแคช SQL และใช้ SQL เพื่อเร่งการแปลงเอนทิตี การดำเนินการรีเฟรชและเปิดใช้งานการเชื่อมต่อ DirectQuery ถ้าเราเปรียบเทียบกลไกกับเตาอบ ขณะที่คุณใช้ประโยชน์จากเตาอบขั้นสูงคุณอาจสามารถปรุงอาหารได้รวดเร็วและมีประสิทธิภาพมากขึ้น เมื่อกำหนดค่าให้ **เปิด** หรือ **ปรับให้เหมาะสม** สำหรับเอนทิตีที่มีการคำนวณถ้าตรรกะทางธุรกิจของคุณอนุญาตให้ Power BI ใช้ SQL เร่งประสิทธิภาพการทำงาน กลไกยังมีการ **เปิด** สำหรับการเชื่อมต่อ DirectQuery อาจเปรียบเทียบได้กับ – อาหารบางอย่างอาจไม่จำเป็นต้องมีเตาอบหรือใช้ประโยชน์จากเตาอบ กลไกการคำนวณขั้นสูงสามารถคิดได้ในลักษณะที่คล้ายกัน – ตรวจสอบให้แน่ใจว่าการใช้งานกระแสข้อมูลของคุณเป็นไปตามกลไกการคำนวณที่ได้รับการปรับปรุงอย่างถูกต้อง

> [!NOTE]
> กลไกการคำนวณขั้นสูงยังไม่พร้อมใช้งานในทุกภูมิภาค

## <a name="guidance-for-common-scenarios"></a>คำแนะนำสำหรับสถานการณ์ทั่วไป

ส่วนนี้จะให้คำแนะนำสำหรับสถานการณ์ทั่วไปเมื่อใช้ปริมาณงานกระแสข้อมูลด้วย Power BI Premium

### <a name="slow-refresh-times"></a>เวลารีเฟรชช้า

เวลาการรีเฟรชช้ามักจะเป็นปัญหาแบบขนาน คุณควรตรวจทานตัวเลือกดังต่อไปนี้ตามลำดับ:

1. แนวคิดหลักสำหรับเวลาการรีเฟรชช้าคือลักษณะของการเตรียมข้อมูลของคุณ ในการเปรียบเทียบกับร้านอาหารของเราซึ่งมีการอธิบายไว้ในบทความก่อนหน้านี้ ลองนึกภาพอาหารที่เตรียมไว้แล้วรอให้ใช้งาน ในสถานการณ์นี้อาหารสามารถปรุงได้เร็วขึ้นเนื่องจากเวลาการเตรียมงานน้อยที่สุด ในทำนองเดียวกันเมื่อใดก็ตามที่คุณสามารถปรับเวลาการรีเฟรชช้าของคุณโดยการใช้ประโยชน์จากแหล่งข้อมูลของคุณ เพื่อเตรียมการและการดำเนินการตรรกะคิวรีล่วงหน้าคุณควรทำเช่นนั้น โดยเฉพาะเมื่อใช้ฐานข้อมูลเชิงสัมพันธ์เช่น SQL เป็นแหล่งข้อมูลของคุณควรดูว่าสามารถเรียกใช้คิวรีเริ่มต้นบนแหล่งข้อมูลและใช้คิวรีต้นทางดังกล่าวสำหรับการแยกกระแสข้อมูลสำหรับแหล่งข้อมูลได้หรือไม่ ถ้าคุณไม่สามารถใช้คิวรีดั้งเดิมในระบบต้นทางให้ดำเนินการที่เครื่องมือ [กระแสข้อมูลสามารถพับไปยังแหล่งข้อมูล](/power-query/power-query-folding)ได้

2. ประเมินการเผยแพร่เวลารีเฟรชในความจุเดียวกัน การดำเนินการรีเฟรชคือกระบวนการที่จำเป็นต้องมีการคำนวณที่สำคัญ เมื่อใช้การเปรียบเทียบร้านอาหารของเรา การขยายเวลาการรีเฟรชจะเหมือนกับการจำกัดจำนวนแขกในร้านอาหารของคุณ เช่นเดียวกับที่ร้านอาหารจะกำหนดตารางเวลาของแขกและวางแผนสำหรับความจุ คุณยังต้องการพิจารณาการดำเนินการรีเฟรชในช่วงเวลาที่การใช้งานไม่ได้อยู่ในจุดสูงสุดทั้งหมด ซึ่งสามารถใช้วิธีนี้บรรเทาไม่ให้ความจุทำงานหนักเกินไปได้อย่างยาวนาน

3. เพิ่มจำนวนหน่วยความจำโดยรวมที่มอบให้กับปริมาณงาน ลองนึกถึงขนาดของห้องครัว การปรับแต่งทรัพยากรนี้จะคล้ายกับการปรับจำนวนพ่อครัวที่คุณสามารถใส่ไว้ในครัวได้ การดำเนินการนี้จะทำได้โดยการปรับการตั้งค่า **หน่วยความจำสูงสุด %** และเพิ่มสูงสุดถึง 100%

4. ลดจำนวนหน่วยความจำลงในคอนเทนเนอร์ซึ่งช่วยให้สามารถใช้คอนเทนเนอร์ได้มากขึ้น คุณสามารถคิดแบบนี้: แทนที่จะจ้างพ่อครัวที่มีชื่อเสียงเช่นกอร์ดอน แรมซีย์ ให้จ้างพ่อครัวที่มีความสามารถหลายคนแต่จ่ายน้อยกว่า ดังนั้นคุณจึงมีพ่อครัวมากขึ้นในครัวแต่พ่อครัวเหล่านั้นสามารถทำงานที่มีขนาดเล็กได้เท่านั้น จากนั้นคุณมีคอนเทนเนอร์มากขึ้นแต่หน่วยความจำน้อยลง

5. ทำตามขั้นตอนก่อนหน้านี้เพื่อให้ได้ระดับความขนานสูงขึ้นเนื่องจากคุณได้รับพ่อครัวมากขึ้นและครัวใหญ่ขึ้น
    
6. ถ้าขั้นตอนในส่วนนี้ไม่มีระดับความขนานที่ต้องการให้พิจารณาการปรับรุ่นความจุของคุณเป็น SKU ที่สูงขึ้น จากนั้นทำตามขั้นตอนก่อนหน้าในส่วนนี้อีกครั้ง

### <a name="out-of-memory-exceptions"></a>ข้อยกเว้นหน่วยความจำไม่เพียงพอ

เมื่อคุณพบ **ข้อยกเว้นหน่วยความจำไม่เพียงพอ** คุณจำเป็นต้องเพิ่มประสิทธิภาพการทำงานของคอนเทนเนอร์และหน่วยความจำ ทำตามขั้นตอนต่อไปนี้:

1. เพิ่มหน่วยความจำบนคอนเทนเนอร์ ซึ่งคล้ายกับการมีพ่อครัวหนึ่งดาวกับพ่อครัวหลายคนดังที่อธิบายไว้ในส่วนก่อนหน้านี้

2. เพิ่มหน่วยความจำไปยังปริมาณงานและหน่วยความจำเพิ่มเติมไปยังคอนเทนเนอร์ ในการเปรียบเทียบของเราคือการสร้างห้องครัวขนาดใหญ่และมีพ่อครัวคุณภาพสูง

3. ถ้าการเปลี่ยนแปลงเหล่านี้ไม่ทำให้ได้ระดับความขนานที่คุณต้องการให้พิจารณา Power BI Premium SKU ที่สูงขั้น

### <a name="using-the-compute-engine-to-improve-performance"></a>การใช้เครื่องคำนวณเพื่อปรับปรุงประสิทธิภาพการทำงาน

ทำตามขั้นตอนต่อไปนี้เพื่อเปิดใช้งานทริกเกอร์เครื่องคำนวณและปรับปรุงประสิทธิภาพการทำงานเสมอ:

**สำหรับเอนทิตีที่มีการคำนวณและเชื่อมโยงในพื้นที่ทำงานเดียวกัน:**

1. สำหรับ *การนำเข้า* มุ่งเน้นไปที่การรับข้อมูลลงในที่เก็บได้อย่างรวดเร็วที่สุดเท่าที่เป็นไปได้โดยใช้ตัวกรองเฉพาะเมื่อพวกเขาลดขนาดชุดข้อมูลโดยรวม ซึ่งเป็นแนวทางปฏิบัติที่ดีที่สุดในการเก็บตรรกะการแปลงของคุณแยกต่างหากจากขั้นตอนนี้และอนุญาตให้เครื่องมือรวบรวมส่วนประกอบเริ่มต้น ถัดไปแยกการแปลงและตรรกะทางธุรกิจของคุณลงในกระแสข้อมูลที่แยกต่างหากในพื้นที่ทำงานเดียวกันโดยใช้เอนทิตีที่เชื่อมโยงหรือคำนวณ การดำเนินการดังกล่าวจะช่วยให้กลไกจัดการเปิดใช้งานและเร่งความเร็วคำนวณของคุณ ในการเปรียบเทียบของเรา เช่นเดียวกับการเตรียมอาหารในครัว: การเตรียมอาหารมักจะเป็นขั้นตอนที่แยกต่างหากและแตกต่างจากการรวบรวมวัตถุดิบของคุณและจำเป็นต้องมีก่อนการใส่อาหารในเตาอบ ในทำนองเดียวกันตรรกะของคุณจำเป็นต้องได้รับการเตรียมแยกต่างหากก่อนจึงจะสามารถใช้ประโยชน์จากเครื่องคำนวณได้

2. ตรวจสอบให้แน่ใจว่าคุณทำการดำเนินการที่พับรวม เช่น ผสาน รวม แปลง และ [อื่น ๆ](/power-query/power-query-folding#transformations-that-can-achieve-folding)

3. การสร้างกระแสข้อมูล [ภายในแนวทางที่เผยแพร่และข้อจำกัด](dataflows-features-limitations.md#dataflows-in-premium)

คุณยังสามารถใช้ DirectQuery ได้

### <a name="compute-engine-is-on-but-performance-is-slow"></a>เครื่องคำนวณเปิดใช้อยู่แต่ประสิทธิภาพการทำงานช้าลง

ทำตามขั้นตอนต่อไปนี้เมื่อตรวจสอบสถานการณ์ทีเครื่องคำนวณเปิดอยู่แต่คุณพบว่าประสิทธิภาพการทำงานช้าลง:

1. จำกัดการคำนวณและเอนทิตีที่เชื่อมโยงที่ข้ามพื้นที่ทำงานอยู่

2. ถ้าการรีเฟรชเริ่มต้นเปิดใช้เครื่องคำนวณแล้วจากนั้นข้อมูลจะได้รับการเขียนในเลคและในแคช การเขียนสองชั้นนี้หมายความว่าการรีเฟรชเหล่านี้จะทำงานช้าลง

3. ถ้าคุณมีการเชื่อมโยงกระแสข้อมูลไปยังกระแสข้อมูลหลายแห่ง ตรวจสอบให้แน่ใจว่าคุณกำหนดตารางเวลาการรีเฟรชกระแสข้อมูลของแหล่งข้อมูลเพื่อให้ไม่ทำงานในเวลาเดียวกันทั้งหมด


## <a name="next-steps"></a>ขั้นตอนถัดไป
บทความต่อไปนี้ให้ข้อมูลเพิ่มเติมเกี่ยวกับกระแสข้อมูลและ Power BI:

* [ข้อมูลเบื้องต้นเกี่ยวกับกระแสข้อมูลและการเตรียมข้อมูลด้วยตนเอง](dataflows-introduction-self-service.md)
* [การสร้างกระแสข้อมูล](dataflows-create.md)
* [กำหนดค่าและใช้กระแสข้อมูล](dataflows-configure-consume.md)
* [การกำหนดค่าที่จัดเก็บกระแสข้อมูลเพื่อใช้ Azure Data Lake Gen 2](dataflows-azure-data-lake-storage-integration.md)
* [AI กับกระแสข้อมูล](dataflows-machine-learning-integration.md)
* [ข้อจำกัดและข้อควรพิจารณาของกระแสข้อมูล](dataflows-features-limitations.md)