---
title: ใช้ตัวเชื่อมต่อข้อมูลแบบกำหนดเองกับเกตเวย์ข้อมูลภายในองค์กร
description: คุณสามารถใช้ตัวเชื่อมต่อข้อมูลแบบกำหนดเองกับเกตเวย์ข้อมูลภายในองค์กร
author: arthiriyer
ms.author: arthii
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: how-to
ms.date: 08/07/2020
LocalizationGroup: Gateways
ms.openlocfilehash: c171369cad8a311f91bd4b8542577cbd0c8e4657
ms.sourcegitcommit: 154946ece829360cc0ff3be13276cd7a129f3388
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/07/2020
ms.locfileid: "87988714"
---
# <a name="use-custom-data-connectors-with-the-on-premises-data-gateway"></a><span data-ttu-id="1149d-103">ใช้ตัวเชื่อมต่อข้อมูลแบบกำหนดเองกับเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="1149d-103">Use custom data connectors with the on-premises data gateway</span></span>

[!INCLUDE [gateway-rewrite](../includes/gateway-rewrite.md)]

<span data-ttu-id="1149d-104">ด้วยความสามารถของตัวเชื่อมต่อข้อมูลสำหรับ Power BI คุณสามารถเชื่อมต่อและเข้าถึงข้อมูลจากแอปพลิเคชัน บริการ หรือแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="1149d-104">With data connectors for Power BI, you can connect to and access data from an application, service, or data source.</span></span> <span data-ttu-id="1149d-105">คุณสามารถพัฒนาตัวเชื่อมต่อข้อมูลแบบกำหนดเอง และใช้งานได้ใน Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="1149d-105">You can develop custom data connectors and use them in Power BI Desktop.</span></span>

<span data-ttu-id="1149d-106">เมื่อต้องการเรียนรู้เพิ่มเติมเกี่ยวกับวิธีการพัฒนาตัวเชื่อมต่อข้อมูลแบบกำหนดเองสำหรับ Power BI ให้ดู [หน้า SDK GitHub ของตัวเชื่อมต่อข้อมูล](https://aka.ms/dataconnectors)</span><span class="sxs-lookup"><span data-stu-id="1149d-106">To learn more about how to develop custom data connectors for Power BI, see the [Data connector SDK GitHub page](https://aka.ms/dataconnectors).</span></span> <span data-ttu-id="1149d-107">เว็บไซต์นี้มีข้อมูลเกี่ยวกับวิธีเริ่มต้นใช้งานและตัวอย่างสำหรับ Power BI และ Power Query</span><span class="sxs-lookup"><span data-stu-id="1149d-107">This site includes information on how to get started and samples for Power BI and Power Query.</span></span>

<span data-ttu-id="1149d-108">เมื่อคุณสร้างรายงานใน Power BI Desktop ที่ใช้ตัวเชื่อมต่อข้อมูลแบบกำหนดเอง คุณสามารถใช้เกตเวย์ข้อมูลภายในองค์กรเพื่อรีเฟรชรายงานเหล่านั้นจากบริการของ Power BI</span><span class="sxs-lookup"><span data-stu-id="1149d-108">When you build reports in Power BI Desktop that use custom data connectors, you can use the on-premises data gateway to refresh those reports from the Power BI service.</span></span>

## <a name="enable-and-use-this-capability"></a><span data-ttu-id="1149d-109">เปิดใช้งานและใช้ความสามารถนี้</span><span class="sxs-lookup"><span data-stu-id="1149d-109">Enable and use this capability</span></span>

<span data-ttu-id="1149d-110">เมื่อคุณติดตั้งเกตเวย์ข้อมูลภายในองค์กรเวอร์ชันเดือนกรกฎาคม 2018 หรือเวอร์ชันที่ใหม่กว่า คุณสามารถดูแท็บ **ตัวเชื่อมต่อ** ในเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="1149d-110">When you install the July 2018 version of the on-premises data gateway or a later version, you see a **Connectors** tab in the on-premises data gateway app.</span></span> <span data-ttu-id="1149d-111">ในกล่อง **โหลดตัวเชื่อมต่อข้อมูลแบบกำหนดเองจากโฟลเดอร์** ให้เลือกโฟลเดอร์ที่สามารถเข้าถึงได้โดยผู้ใช้ที่ใช้บริการเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="1149d-111">In the **Load custom data connectors from folder** box, select a folder that can be accessed by the user running the gateway service.</span></span> <span data-ttu-id="1149d-112">ผู้ใช้ค่าเริ่มต้น คือ *NT SERVICE\PBIEgwService.*</span><span class="sxs-lookup"><span data-stu-id="1149d-112">The default user is *NT SERVICE\PBIEgwService*.</span></span> <span data-ttu-id="1149d-113">เกตเวย์จะโหลดไฟล์ตัวเชื่อมต่อแบบกำหนดเองที่อยู่ในโฟลเดอร์นั้นโดยอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="1149d-113">The gateway automatically loads the custom connector files located in that folder.</span></span> <span data-ttu-id="1149d-114">ซึ่งจะปรากฏในรายการตัวเชื่อมต่อข้อมูล</span><span class="sxs-lookup"><span data-stu-id="1149d-114">They appear in the list of data connectors.</span></span>

![ตัวเชื่อมต่อข้อมูลแบบกำหนดเอง](media/service-gateway-custom-connectors/gateway-onprem-customconnector1.png)

<span data-ttu-id="1149d-116">ถ้าคุณกำลังใช้เกตเวย์ข้อมูลภายในองค์กร (โหมดส่วนบุคคล) คุณจะสามารถอัปโหลดรายงาน Power BI ของคุณไปยังบริการของ Power BI และใช้เกตเวย์เพื่อรีเฟรช</span><span class="sxs-lookup"><span data-stu-id="1149d-116">If you're using the on-premises data gateway (personal mode), you can upload your Power BI report to the Power BI service and use the gateway to refresh it.</span></span>

<span data-ttu-id="1149d-117">สำหรับเกตเวย์ข้อมูลภายในองค์กร คุณจำเป็นต้องสร้างแหล่งข้อมูลสำหรับตัวเชื่อมต่อแบบกำหนดเองของคุณ</span><span class="sxs-lookup"><span data-stu-id="1149d-117">For the on-premises data gateway, you need to create a data source for your custom connector.</span></span> <span data-ttu-id="1149d-118">ในหน้าการตั้งค่าเกตเวย์ในบริการ Power BI คุณควรเห็นตัวเลือกเมื่อคุณเลือกคลัสเตอร์เกตเวย์เพื่ออนุญาตให้ใช้ตัวเชื่อมต่อแบบกำหนดเองที่มีคลัสเตอร์นี้</span><span class="sxs-lookup"><span data-stu-id="1149d-118">On the gateway settings page in the Power BI service, you should see an option when you select the gateway cluster to allow using custom connectors with this cluster.</span></span> <span data-ttu-id="1149d-119">ตรวจสอบให้แน่ใจว่าเกตเวย์ทั้งหมดในคลัสเตอร์มีรุ่นอัปเดตเดือนกรกฎาคม 2018 หรือใหม่กว่าสำหรับตัวเลือกนี้เพื่อให้พร้อมใช้งาน</span><span class="sxs-lookup"><span data-stu-id="1149d-119">Make sure all gateways in the cluster have the July 2018 update release or later for this option to be available.</span></span> <span data-ttu-id="1149d-120">เลือกตัวเลือกนั้นเพื่อเปิดใช้งานโดยใช้ตัวเชื่อมต่อแบบกำหนดเองที่มีคลัสเตอร์นี้</span><span class="sxs-lookup"><span data-stu-id="1149d-120">Select that option to enable using custom connectors with this cluster.</span></span>

![หน้าการตั้งค่าคลัสเตอร์เกตเวย์](media/service-gateway-custom-connectors/gateway-onprem-customconnector2.png)

<span data-ttu-id="1149d-122">เมื่อคุณเปิดใช้งานตัวเลือกนี้ คุณเห็นตัวเชื่อมต่อแบบกำหนดเองของคุณเป็นแหล่งข้อมูลที่พร้อมใช้งานที่คุณสามารถสร้างภายใต้คลัสเตอร์เกตเวย์นี้</span><span class="sxs-lookup"><span data-stu-id="1149d-122">When this option is enabled, you see your custom connectors as available data sources that you can create under this gateway cluster.</span></span> <span data-ttu-id="1149d-123">หลังจากคุณสร้างแหล่งข้อมูลโดยใช้ตัวเชื่อมต่อแบบกำหนดเองของคุณใหม่ คุณสามารถรีเฟรชรายงาน Power BI โดยใช้ตัวเชื่อมต่อแบบกำหนดเองนั้นในบริการ Power BI</span><span class="sxs-lookup"><span data-stu-id="1149d-123">After you create a data source that uses your new custom connector, you can refresh Power BI reports by using that custom connector in the Power BI service.</span></span>

![หน้าการตั้งค่าแหล่งข้อมูล](media/service-gateway-custom-connectors/gateway-onprem-customconnector3.png)

## <a name="considerations-and-limitations"></a><span data-ttu-id="1149d-125">ข้อควรพิจารณาและข้อจำกัด</span><span class="sxs-lookup"><span data-stu-id="1149d-125">Considerations and limitations</span></span>

* <span data-ttu-id="1149d-126">ตรวจสอบให้แน่ใจว่าโฟลเดอร์ที่คุณสร้างจะสามารถเข้าถึงบริการเกตเวย์พื้นหลัง</span><span class="sxs-lookup"><span data-stu-id="1149d-126">Make sure the folder you create is accessible to the background gateway service.</span></span> <span data-ttu-id="1149d-127">โดยทั่วไปแล้ว โฟลเดอร์ภายใต้โฟลเดอร์ Windows หรือโฟลเดอร์ระบบของผู้ใช้ของคุณจะไม่สามารถเข้าถึงได้</span><span class="sxs-lookup"><span data-stu-id="1149d-127">Typically, folders under your user’s Windows folder or system folders won’t be accessible.</span></span> <span data-ttu-id="1149d-128">แอปเกตเวย์ข้อมูลภายในองค์กรจะแสดงข้อความถ้าไม่สามารถเข้าถึงโฟลเดอร์ได้</span><span class="sxs-lookup"><span data-stu-id="1149d-128">The on-premises data gateway app shows a message if the folder isn't accessible.</span></span> <span data-ttu-id="1149d-129">คำแนะนำนี้ใช้ไม่ได้กับเกตเวย์ข้อมูลภายในองค์กร (โหมดส่วนบุคคล)</span><span class="sxs-lookup"><span data-stu-id="1149d-129">This instruction doesn't apply for the on-premises data gateway (personal mode).</span></span>
* <span data-ttu-id="1149d-130">สำหรับตัวเชื่อมต่อแบบกำหนดเองเพื่อทำงานกับเกตเวย์ข้อมูลภายในองค์กร พวกเขาจำเป็นต้องใช้ส่วน "TestConnection" ในรหัสของตัวเชื่อมต่อแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="1149d-130">For custom connectors to work with the on-premises data gateway, they need to implement a “TestConnection” section in the custom connector’s code.</span></span> <span data-ttu-id="1149d-131">ส่วนนี้ไม่จำเป็นเมื่อคุณใช้ตัวเชื่อมต่อแบบกำหนดเองกับ Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="1149d-131">This section isn't required when you use custom connectors with Power BI Desktop.</span></span> <span data-ttu-id="1149d-132">ด้วยเหตุผลนี้ คุณสามารถมีตัวเชื่อมต่อที่ใช้งานได้กับ Power BI Desktop แต่ไม่ใช่กับเกตเวย์</span><span class="sxs-lookup"><span data-stu-id="1149d-132">For this reason, you can have a connector that works with Power BI Desktop, but not with the gateway.</span></span> <span data-ttu-id="1149d-133">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้งาน TestConnection โปรดดู [เอกสารนี้](https://github.com/Microsoft/DataConnectors/blob/master/docs/m-extensions.md#implementing-testconnection-for-gateway-support)</span><span class="sxs-lookup"><span data-stu-id="1149d-133">For more information on how to implement a TestConnection section, see [this documentation](https://github.com/Microsoft/DataConnectors/blob/master/docs/m-extensions.md#implementing-testconnection-for-gateway-support).</span></span>
* <span data-ttu-id="1149d-134">OAuth สำหรับตัวเชื่อมต่อแบบกำหนดเองผ่านเกตเวย์ได้รับการรองรับเฉพาะสำหรับผู้ดูแลเกตเวย์แต่ไม่ใช่แหล่งข้อมูลอื่นๆ ในขณะนี้</span><span class="sxs-lookup"><span data-stu-id="1149d-134">OAuth for custom connectors via gateways is currently supported only for gateway admins but not other data source users.</span></span>
* <span data-ttu-id="1149d-135">หากตัวเชื่อมต่อที่กำหนดเองของคุณอยู่บนไดรฟ์เครือข่ายให้รวมพา ธแบบเต็มในแอปเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="1149d-135">If your custom connector is on a network drive, include the fully qualified path on the on-premises data gateway app.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1149d-136">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="1149d-136">Next steps</span></span>

* [<span data-ttu-id="1149d-137">จัดการแหล่งข้อมูลของคุณ - Analysis Services</span><span class="sxs-lookup"><span data-stu-id="1149d-137">Manage your data source - Analysis Services</span></span>](service-gateway-enterprise-manage-ssas.md)  
* [<span data-ttu-id="1149d-138">จัดการแหล่งข้อมูลของคุณ - SAP HANA</span><span class="sxs-lookup"><span data-stu-id="1149d-138">Manage your data source - SAP HANA</span></span>](service-gateway-enterprise-manage-sap.md)  
* [<span data-ttu-id="1149d-139">จัดการแหล่งข้อมูลของคุณ - SQL Server</span><span class="sxs-lookup"><span data-stu-id="1149d-139">Manage your data source - SQL Server</span></span>](service-gateway-enterprise-manage-sql.md)  
* [<span data-ttu-id="1149d-140">จัดการแหล่งข้อมูลของคุณ - Oracle</span><span class="sxs-lookup"><span data-stu-id="1149d-140">Manage your data source - Oracle</span></span>](service-gateway-onprem-manage-oracle.md)  
* [<span data-ttu-id="1149d-141">จัดการแหล่งข้อมูลของคุณ - นำเข้า/รีเฟรชตามกำหนดการ</span><span class="sxs-lookup"><span data-stu-id="1149d-141">Manage your data source - Import/scheduled refresh</span></span>](service-gateway-enterprise-manage-scheduled-refresh.md)
* [<span data-ttu-id="1149d-142">กำหนดค่าการตั้งค่าพร็อกซีสำหรับเกตเวย์ข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="1149d-142">Configure proxy settings for the on-premises data gateway</span></span>](/data-integration/gateway/service-gateway-proxy)
* [<span data-ttu-id="1149d-143">ใช้ Kerberos สำหรับลงชื่อเข้าใช้ครั้งเดียว (SSO) จาก Power BI ไปยังแหล่งข้อมูลภายในองค์กร</span><span class="sxs-lookup"><span data-stu-id="1149d-143">Use Kerberos for single sign-on (SSO) from Power BI to on-premises data sources</span></span>](service-gateway-sso-kerberos.md)  

<span data-ttu-id="1149d-144">มีคำถามเพิ่มเติมหรือไม่</span><span class="sxs-lookup"><span data-stu-id="1149d-144">More questions?</span></span> <span data-ttu-id="1149d-145">ลองถาม[ชุมชน Power BI](https://community.powerbi.com/)</span><span class="sxs-lookup"><span data-stu-id="1149d-145">Try asking the [Power BI Community](https://community.powerbi.com/).</span></span>
