---
title: การแคชคิวรีใน Power BI Premium
description: การแคชคิวรีใน Power BI Premium
author: KesemSharabi
ms.author: kesharab
ms.reviewer: bhmerc
ms.service: powerbi
ms.subservice: pbi-data-sources
ms.topic: how-to
ms.date: 10/04/2019
LocalizationGroup: ''
ms.openlocfilehash: 8495ccd75fec49079e87312bbf5a7693b78b3e6b
ms.sourcegitcommit: 653e18d7041d3dd1cf7a38010372366975a98eae
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/01/2020
ms.locfileid: "96404145"
---
# <a name="query-caching-in-power-bi-premiumembedded"></a><span data-ttu-id="273a9-103">การแคชคิวรีใน Power BI Premium/แบบฝังตัว</span><span class="sxs-lookup"><span data-stu-id="273a9-103">Query caching in Power BI Premium/Embedded</span></span>

<span data-ttu-id="273a9-104">องค์กรที่มี Power BI Premium หรือ Power BI แบบฝังตัว สามารถใช้ประโยชนจาก *การแคชคิวรี* เพื่อให้รายงานที่เกี่ยวข้องกับชุดข้อมูลแสดงผลเร็วขึ้น</span><span class="sxs-lookup"><span data-stu-id="273a9-104">Organizations with Power BI Premium or Power BI Embedded can take advantage of *query caching* to speed up reports associated with a dataset.</span></span> <span data-ttu-id="273a9-105">การแคชคิวรีแนะนำความจุ Premium/แบบฝังตัว เพื่อใช้บริการการแคชในพื้นที่เพื่อรักษาผลลัพธ์คิวรี หลีกเลี่ยงแหล่งข้อมูลแฝงในการคำนวณผลลัพธ์เหล่านั้น</span><span class="sxs-lookup"><span data-stu-id="273a9-105">Query caching instructs the Premium/Embedded capacity to use its local caching service to maintain query results, avoiding having the underlying data source compute those results.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="273a9-106">การแคชคิวรีจะพร้อมใช้งานบน Power BI Premium หรือ Power BI แบบฝังตัว</span><span class="sxs-lookup"><span data-stu-id="273a9-106">Query caching is only available on Power BI Premium or Power BI Embedded.</span></span> <span data-ttu-id="273a9-107">ไม่สามารถใช้กับชุดข้อมูล LiveConnect ที่ใช้ประโยชน์จาก Azure Analysis Services หรือ SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="273a9-107">It is not applicable to LiveConnect datasets leveraging Azure Analysis Services or SQL Server Analysis Services.</span></span>

<span data-ttu-id="273a9-108">ผลลัพธ์คิวรีที่แคชไว้จะใช้เฉพาะกับผู้ใช้และบริบทชุดข้อมูล และควรคำนึงถึงกฎความปลอดภัยเสมอ</span><span class="sxs-lookup"><span data-stu-id="273a9-108">Cached query results are specific to user and dataset context and always respect security rules.</span></span> <span data-ttu-id="273a9-109">ในปัจจุบัน มีบริการแคชคิวรีสำหรับหน้าเริ่มต้นที่คุณไปถึง</span><span class="sxs-lookup"><span data-stu-id="273a9-109">At present the service only does query caching for the initial page that you land on.</span></span> <span data-ttu-id="273a9-110">กล่าวคือ คิวรีไม่ได้ถูกแคชเมื่อคุณโต้ตอบกับรายงาน</span><span class="sxs-lookup"><span data-stu-id="273a9-110">In other words, queries aren't cached when you interact with the report.</span></span> <span data-ttu-id="273a9-111">แคชของคิวรีมีความสำคัญกับ[บุ๊กมาร์กส่วนบุคคล](../consumer/end-user-bookmarks.md#personal-bookmarks)และ[ตัวกรองแบบถาวร](https://powerbi.microsoft.com/blog/announcing-persistent-filters-in-the-service/) ดังนั้นคิวรีที่สร้างขึ้นโดยรายงานส่วนบุคคลจะถูกแคช</span><span class="sxs-lookup"><span data-stu-id="273a9-111">The query cache respects [personal bookmarks](../consumer/end-user-bookmarks.md#personal-bookmarks) and [persistent filters](https://powerbi.microsoft.com/blog/announcing-persistent-filters-in-the-service/), so queries generated by a personalized report will be cached.</span></span> <span data-ttu-id="273a9-112">[ไทล์แดชบอร์ด](../create-reports/service-dashboard-tiles.md)ที่ขับเคลื่อนโดยคิวรีเดียวกันจะได้ประโยชน์เมื่อมีการแคชคิวรี</span><span class="sxs-lookup"><span data-stu-id="273a9-112">[Dashboard tiles](../create-reports/service-dashboard-tiles.md) that are powered by the same queries also benefit once the query is cached.</span></span> <span data-ttu-id="273a9-113">โดยเฉพาะอย่างยิ่งประสิทธิภาพจะได้รับประโยชน์เมื่อชุดข้อมูลมีการเข้าถึงบ่อยครั้ง และไม่จำเป็นต้องรีเฟรชบ่อยครั้ง</span><span class="sxs-lookup"><span data-stu-id="273a9-113">Performance especially benefits when a dataset is accessed frequently and doesn't need to be refreshed often.</span></span> <span data-ttu-id="273a9-114">การแคชคิวรียังสามารถลดการโหลดความจุแบบ Premium/แบบฝังตัว ของคุณโดยการลดจำนวนคิวรีโดยรวมได้</span><span class="sxs-lookup"><span data-stu-id="273a9-114">Query caching can also reduce load on your Premium/Embedded capacity by reducing the overall number of queries.</span></span>

<span data-ttu-id="273a9-115">คุณสามารถควบคุมพฤติกรรมการแคชคิวรี่ได้ที่หน้า **การตั้งค่า** สำหรับชุดข้อมูลในบริการ Power BI</span><span class="sxs-lookup"><span data-stu-id="273a9-115">You control query caching behavior on the **Settings** page for the dataset in the Power BI service.</span></span> <span data-ttu-id="273a9-116">การตั้งค่าที่เป็นไปได้มีอยู่สามวิธีด้วยกัน:</span><span class="sxs-lookup"><span data-stu-id="273a9-116">It has three possible settings:</span></span>

- <span data-ttu-id="273a9-117">**ค่าเริ่มต้นความจุ**: ปิดการแคชแบบสอบถาม</span><span class="sxs-lookup"><span data-stu-id="273a9-117">**Capacity default**: Query caching Off</span></span>
- <span data-ttu-id="273a9-118">**ปิด**: อย่าใช้การแคชคิวรี่สำหรับชุดข้อมูลนี้</span><span class="sxs-lookup"><span data-stu-id="273a9-118">**Off**: Don't use query caching for this dataset.</span></span>
- <span data-ttu-id="273a9-119">**เปิด**: ใช้การแคชคิวรี่สำหรับชุดข้อมูลนี้</span><span class="sxs-lookup"><span data-stu-id="273a9-119">**On**: Use query caching for this dataset.</span></span>

    ![กล่องโต้ตอบการแคชคิวรี](media/power-bi-query-caching/power-bi-query-3-options.png)

## <a name="considerations-and-limitations"></a><span data-ttu-id="273a9-121">ข้อควรพิจารณาและข้อจำกัด</span><span class="sxs-lookup"><span data-stu-id="273a9-121">Considerations and limitations</span></span>

- <span data-ttu-id="273a9-122">เมื่อคุณเปลี่ยนการตั้งค่าการแคชจาก **เปิด** เป็น **ปิด** ผลลัพธ์คิวรีที่บันทึกไว้ก่อนหน้านี้ทั้งหมดสำหรับชุดข้อมูลจะถูกลบออกจากแคชความจุ</span><span class="sxs-lookup"><span data-stu-id="273a9-122">When you change caching settings from **On** to **Off**, all previously saved query results for the dataset are removed from the capacity cache.</span></span> <span data-ttu-id="273a9-123">คุณสามารถปิดใช้งานการแคชอย่างชัดแจ้ง หรือโดยการเปลี่ยนกลับไปเป็นการตั้งค่าความจเริ่มต้นุที่ผู้ดูแลระบบตั้งค่าเป็น **ปิด**</span><span class="sxs-lookup"><span data-stu-id="273a9-123">You can turn off caching either explicitly or by reverting to capacity default setting that an administrator has set to **Off**.</span></span> <span data-ttu-id="273a9-124">การปิดอาจก่อให้เกิดความล่าช้าเล็กน้อยในครั้งถัดไปที่ซึ่งรายงานเรียกใช้คิวรีกับชุดข้อมูลนี้</span><span class="sxs-lookup"><span data-stu-id="273a9-124">Turning it off can introduce a small delay the next time any report runs queries against this dataset.</span></span> <span data-ttu-id="273a9-125">ความล่าช้ามีสาเหตุมาจากคิวรีรายงานที่เรียกใช้ตามคำขอ และไม่ได้ใช้ประโยชน์จากผลลัพธ์ที่บันทึกไว้</span><span class="sxs-lookup"><span data-stu-id="273a9-125">The delay is caused by those report queries running on demand and not leveraging saved results.</span></span> <span data-ttu-id="273a9-126">นอกจากนี้ ชุดข้อมูลที่กำหนดอาจจำเป็นต้องโหลดลงในหน่วยความจำก่อนที่จะสามารถให้บริการคิวรีได้</span><span class="sxs-lookup"><span data-stu-id="273a9-126">Also, the required dataset may need to be loaded into memory before it can service queries.</span></span>
- <span data-ttu-id="273a9-127">เมื่อแคชของคิวรีถูกรีเฟรช Power BI ต้องเรียกใช้คิวรีกับแบบจำลองข้อมูลเบื้องต้นเพื่อรับผลลัพธ์ล่าสุด</span><span class="sxs-lookup"><span data-stu-id="273a9-127">When the query cache is refreshed, Power BI must run queries against the underlying data models to get the latest results.</span></span> <span data-ttu-id="273a9-128">หากชุดข้อมูลจำนวนมากเปิดใช้งานการแคชคิวรีและความจุพรีเมียม/แบบฝังตัวต้องทำงานหนัก อาจทำให้ประสิทธิภาพลดลงในระหว่างการรีเฟรชแคช</span><span class="sxs-lookup"><span data-stu-id="273a9-128">If a large number of datasets have query caching enabled and the Premium/Embedded capacity is under heavy load, some performance degradation may occur during cache refresh.</span></span> <span data-ttu-id="273a9-129">ประสิทธิภาพลดลงเนื่องจากปริมาณการคิวรีที่เพิ่มขึ้น</span><span class="sxs-lookup"><span data-stu-id="273a9-129">Degradation results from the increased volume of queries being executed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="273a9-130">ขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="273a9-130">Next steps</span></span>

* [<span data-ttu-id="273a9-131">Power BI Premium คืออะไร?</span><span class="sxs-lookup"><span data-stu-id="273a9-131">What is Power BI Premium?</span></span>](../admin/service-premium-what-is.md)
* [<span data-ttu-id="273a9-132">Power BI อะไรที่ถูกฝังอยู่ใน Azure?</span><span class="sxs-lookup"><span data-stu-id="273a9-132">What is Power BI Embedded in Azure?</span></span>](../developer/embedded/azure-pbie-what-is-power-bi-embedded.md)
